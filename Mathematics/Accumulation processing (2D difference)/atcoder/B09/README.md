ä»¥ä¸‹ã§ã¯ã€TypeScript ã§ç”¨ã„ãŸ **2Då·®åˆ†æ³• + ç´¯ç©å’Œã«ã‚ˆã‚‹é‡ãªã‚Šé¢ç©ã®è¨ˆç®—å‡¦ç†** ã‚’ã€**å›³è§£ã¤ãã§ä¸å¯§ã«è§£èª¬**ã—ã¾ã™ã€‚

---

## ğŸ¯ å•é¡Œã®æœ¬è³ª

ã€Œè¤‡æ•°ã®é•·æ–¹å½¢ãŒ2Då¹³é¢ä¸Šã«é…ç½®ã•ã‚Œã¦ã„ã‚‹ã¨ãã€\*\*é‡ãªã‚Šã‚’è€ƒæ…®ã—ã¦å…¨ä½“ã¨ã—ã¦ä½•ãƒã‚¹å¡—ã‚‰ã‚Œã‚‹ã‹ï¼ˆé¢ç©ï¼‰ã€ã‚’æ±‚ã‚ã¾ã™ã€‚

---

## âœ… ä¾‹ï¼š2ã¤ã®é•·æ–¹å½¢

```
2
1 1 3 3
2 2 4 4
```

### ã‚°ãƒªãƒƒãƒ‰ï¼ˆ0-indexedï¼‰ä¸Šã§ã®é•·æ–¹å½¢

```
1æšç›®: å·¦ä¸‹ (1,1) ï½ å³ä¸Š (3,3)
2æšç›®: å·¦ä¸‹ (2,2) ï½ å³ä¸Š (4,4)
```

ä»¥ä¸‹ã®ã‚ˆã†ã«2ã¤ã®é•·æ–¹å½¢ãŒé‡ãªã£ã¦é…ç½®ã•ã‚Œã¾ã™ï¼š

```
yâ†‘
4 â”€â”€â”€â”€â”€â”€
3 â”€â”€â”€â”€â”€â– â– 
2 â”€â”€â”€â– â– â– â– 
1 â”€â– â– â– â– 
0 â”€â”€â”€â”€â”€â”€
   0 1 2 3 4 â†’ x
```

ã€Œâ– ã€éƒ¨åˆ†ãŒå°‘ãªãã¨ã‚‚1æšã®ç´™ã«è¦†ã‚ã‚ŒãŸãƒã‚¹ï¼ˆé¢ç©ã¨ã—ã¦ã‚«ã‚¦ãƒ³ãƒˆå¯¾è±¡ï¼‰

---

## ğŸ”§ ã‚¹ãƒ†ãƒƒãƒ—â‘ ï¼š2Då·®åˆ†ã®åŸºæœ¬ã‚¢ã‚¤ãƒ‡ã‚¢

**ç›®çš„ï¼šè¤‡æ•°å›å¡—ã‚‰ã‚Œã¦ã‚‚é‡è¤‡ã—ãªã„ã‚ˆã†ã€é•·æ–¹å½¢ã®ã€Œé–‹å§‹ã€ã€Œçµ‚äº†ã€ä½ç½®ã ã‘ã§ç®¡ç†ã™ã‚‹ã€‚**

### ğŸ§  1æšç›® (1,1)-(3,3) ã‚’å…¥ã‚Œã‚‹ã¨ã“ã†ãªã‚‹

å·®åˆ†é…åˆ— `grid[x][y]` ã«ä»¥ä¸‹ã®æ“ä½œã‚’è¡Œã†ï¼š

```
grid[1][1] += 1      â† å·¦ä¸‹
grid[3][1] -= 1      â† å³ä¸‹
grid[1][3] -= 1      â† å·¦ä¸Š
grid[3][3] += 1      â† å³ä¸Š
```

> ã“ã‚Œã¯ã€å¾Œã§ã€Œç´¯ç©å’Œï¼ˆç©ã¿ä¸Šã’ï¼‰ã€ã™ã‚‹ã“ã¨ã«ã‚ˆã£ã¦ã€é•·æ–¹å½¢ã®å†…éƒ¨ã®ã¿ãŒ +1 ã«ãªã‚‹ã‚ˆã†ã«è¨­è¨ˆã•ã‚ŒãŸæ“ä½œã§ã™ã€‚

2ã¤ç›®ã‚‚åŒæ§˜ã«å·®åˆ†è¿½åŠ ã€‚

---

## ğŸ§® ã‚¹ãƒ†ãƒƒãƒ—â‘¡ï¼šæ¨ªæ–¹å‘ã®ç´¯ç©

æ¨ªæ–¹å‘ã«å€¤ã‚’ç´¯ç©ã™ã‚‹ã¨ã€ã“ã†ãªã‚Šã¾ã™ï¼š

```
for x in 0..1501:
    for y in 1..1501:
        grid[x][y] += grid[x][y-1];
```

ã“ã®å‡¦ç†ã§ã€æ¨ªæ–¹å‘ã®é‡ãªã‚Šã‚’åæ˜ ã•ã›ã¾ã™ã€‚

---

## ğŸ§® ã‚¹ãƒ†ãƒƒãƒ—â‘¢ï¼šç¸¦æ–¹å‘ã®ç´¯ç©

æ¬¡ã«ç¸¦æ–¹å‘ã«ç´¯ç©ã—ã¦ã€ã™ã¹ã¦ã®é ˜åŸŸã«æ­£ç¢ºãªå¡—ã‚Šé‡ã­å›æ•°ã‚’åæ˜ ã—ã¾ã™ï¼š

```
for y in 0..1501:
    for x in 1..1501:
        grid[x][y] += grid[x-1][y];
```

---

## ğŸ“ ã‚¹ãƒ†ãƒƒãƒ—â‘£ï¼š1ä»¥ä¸Šã®ã‚»ãƒ«ã‚’ã‚«ã‚¦ãƒ³ãƒˆ

æœ€çµ‚çš„ãª2æ¬¡å…ƒã® grid ã«ã¯ã€å„ã‚»ãƒ«ã«ã€Œä½•å›å¡—ã‚‰ã‚ŒãŸã‹ã€ãŒå…¥ã£ã¦ãŠã‚Šã€
ã“ã‚ŒãŒ1ä»¥ä¸Šã®ãƒã‚¹ã‚’ã‚«ã‚¦ãƒ³ãƒˆã™ã‚‹ã“ã¨ã§ã€**å°‘ãªãã¨ã‚‚1æšã®ç´™ã«è¦†ã‚ã‚ŒãŸé¢ç©**ã‚’å¾—ã¾ã™ã€‚

---

## ğŸ“Š å…·ä½“çš„ãªã‚»ãƒ«ã‚¤ãƒ¡ãƒ¼ã‚¸

ä¾‹ãˆã°ä¸Šè¨˜ã®å…¥åŠ›ã§ `grid[x][y] > 0` ã«ãªã‚‹ãƒã‚¹ã¯æ¬¡ã®7å€‹ã§ã™ï¼š

| x | y |
| - | - |
| 1 | 1 |
| 1 | 2 |
| 2 | 1 |
| 2 | 2 |
| 2 | 3 |
| 3 | 2 |
| 3 | 3 |

é¢ç© `= 7`

---

## ğŸ¯ å›³ã¾ã¨ã‚ï¼ˆç°¡æ˜“ï¼‰

```
2ã¤ã®é•·æ–¹å½¢: 
1. (1,1)-(3,3)
2. (2,2)-(4,4)

é‡ãªã‚Šã‚»ãƒ«:
x,yã®ãƒã‚¹ã«ã€Œå°‘ãªãã¨ã‚‚1å›å¡—ã‚‰ã‚ŒãŸã€æ•° = é¢ç©

ã‚°ãƒªãƒƒãƒ‰å›³ï¼ˆå¡—ã‚‰ã‚ŒãŸãƒã‚¹ã®ã¿è¡¨ç¤ºï¼‰:

    y
    â†‘
  4 â”‚     â– â– 
  3 â”‚   â– â– â– â– 
  2 â”‚ â– â– â– â– 
  1 â”‚ â– â– 
    â””â”€â”€â”€â”€â”€â”€â”€â”€â†’ x

è¨ˆ7ãƒã‚¹ãŒå¡—ã‚‰ã‚Œã¦ã„ã‚‹ã€‚
```

---

## âœ… ãªãœé«˜é€Ÿã§çœãƒ¡ãƒ¢ãƒªï¼Ÿ

| æ–¹æ³•           | èª¬æ˜                          |
| ------------ | --------------------------- |
| 2Då·®åˆ†æ³•        | å¡—ã‚Šæ“ä½œã‚’4ç®‡æ‰€ã ã‘ã§å®Œäº†ã€`O(1)` æ“ä½œã§å¡—ã‚Œã‚‹ |
| ç´¯ç©å’Œï¼ˆå‰è¨ˆç®—ï¼‰     | 1å›ãšã¤ã®ãƒ«ãƒ¼ãƒ—ã§å¡—ã‚ŠçŠ¶æ…‹ã‚’æ±‚ã‚ã‚‰ã‚Œã‚‹         |
| Int16Arrayä½¿ç”¨ | 2ãƒã‚¤ãƒˆã®æ•´æ•°å‹ã§ãƒ¡ãƒ¢ãƒªç¯€ç´„              |
| è¨ˆç®—é‡          | `O(N + HÃ—W)`ã€å®Ÿç”¨çš„ãªç¯„å›²ã§éå¸¸ã«é«˜é€Ÿ   |

---

## ğŸ”š çµè«–

* é•·æ–¹å½¢ã®é‡ãªã‚Šé¢ç©ã‚’æ±‚ã‚ã‚‹ã«ã¯ã€Œå·®åˆ† â†’ ç´¯ç©å’Œ â†’ ã‚«ã‚¦ãƒ³ãƒˆã€ãŒé«˜é€Ÿã‹ã¤æ­£ç¢ºã€‚
* ç‰¹ã« **ã‚°ãƒªãƒƒãƒ‰ã‚µã‚¤ã‚ºãŒå°ã•ã„ & ã‚¯ã‚¨ãƒªæ•°ãŒå¤šã„** æ™‚ã«æœ‰åŠ¹ã€‚
* æœ¬å•é¡Œã§ã¯ã€Œæœ€å¤§1500Ã—1500ã®ã‚°ãƒªãƒƒãƒ‰ã€ã¨ã„ã†åˆ¶ç´„ã‚’ãƒ•ãƒ«æ´»ç”¨ã—ãŸè§£æ³•ã§ã™ã€‚

---

| [æå‡ºæ—¥æ™‚](https://atcoder.jp/contests/tessoku-book/submissions/me?desc=true&orderBy=created) | å•é¡Œ | ãƒ¦ãƒ¼ã‚¶ | è¨€èª | [å¾—ç‚¹](https://atcoder.jp/contests/tessoku-book/submissions/me?desc=true&orderBy=score) | [ã‚³ãƒ¼ãƒ‰é•·](https://atcoder.jp/contests/tessoku-book/submissions/me?orderBy=source_length) | çµæœ | [å®Ÿè¡Œæ™‚é–“](https://atcoder.jp/contests/tessoku-book/submissions/me?orderBy=time_consumption) | [ãƒ¡ãƒ¢ãƒª](https://atcoder.jp/contests/tessoku-book/submissions/me?orderBy=memory_consumption) |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| 2025-07-05 17:46:06 | [B09 - Papers](https://atcoder.jp/contests/tessoku-book/tasks/tessoku_book_ch) | [myoshizumi](https://atcoder.jp/users/myoshizumi) | [Go (go 1.20.6)](https://atcoder.jp/contests/tessoku-book/submissions/me?f.Language=5002) | 1000 | 1266 Byte |  | 37 ms | 13100 KiB | [è©³ç´°](https://atcoder.jp/contests/tessoku-book/submissions/67289273) |
| 2025-07-05 17:40:59 | [B09 - Papers](https://atcoder.jp/contests/tessoku-book/tasks/tessoku_book_ch) | [myoshizumi](https://atcoder.jp/users/myoshizumi) | [PHP (php 8.2.8)](https://atcoder.jp/contests/tessoku-book/submissions/me?f.Language=5016) | 1000 | 1324 Byte |  | 253 ms | 64156 KiB | [è©³ç´°](https://atcoder.jp/contests/tessoku-book/submissions/67289166) |
| 2025-07-05 17:40:17 | [B09 - Papers](https://atcoder.jp/contests/tessoku-book/tasks/tessoku_book_ch) | [myoshizumi](https://atcoder.jp/users/myoshizumi) | [Python (CPython 3.11.4)](https://atcoder.jp/contests/tessoku-book/submissions/me?f.Language=5055) | 1000 | 1268 Byte |  | 880 ms | 43208 KiB | [è©³ç´°](https://atcoder.jp/contests/tessoku-book/submissions/67289159) |
| 2025-07-05 17:14:08 | [B09 - Papers](https://atcoder.jp/contests/tessoku-book/tasks/tessoku_book_ch) | [myoshizumi](https://atcoder.jp/users/myoshizumi) | [TypeScript 5.1 (Node.js 18.16.1)](https://atcoder.jp/contests/tessoku-book/submissions/me?f.Language=5058) | 1000 | 1120 Byte |  | 162 ms | 67952 KiB | [è©³ç´°](https://atcoder.jp/contests/tessoku-book/submissions/67288676) |
| 2025-07-05 17:07:28 | [B09 - Papers](https://atcoder.jp/contests/tessoku-book/tasks/tessoku_book_ch) | [myoshizumi](https://atcoder.jp/users/myoshizumi) | [JavaScript (Node.js 18.16.1)](https://atcoder.jp/contests/tessoku-book/submissions/me?f.Language=5009) | 1000 | 1010 Byte |  | 204 ms | 67776 KiB | [è©³ç´°](https://atcoder.jp/contests/tessoku-book/submissions/67288538) |