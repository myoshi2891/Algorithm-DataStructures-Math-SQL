<!DOCTYPE html>
<html lang="ja">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>éšæ®µæ˜‡é™DPå•é¡Œã®è©³ç´°è§£æ</title>
        <style>
            body {
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                line-height: 1.6;
                margin: 0;
                padding: 20px;
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: #333;
            }

            .container {
                max-width: 1200px;
                margin: 0 auto;
                background: rgba(255, 255, 255, 0.95);
                border-radius: 15px;
                padding: 30px;
                box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            }

            h1 {
                color: #2c3e50;
                text-align: center;
                font-size: 2.5em;
                margin-bottom: 30px;
                background: linear-gradient(45deg, #3498db, #2c3e50);
                -webkit-background-clip: text;
                -webkit-text-fill-color: transparent;
                background-clip: text;
            }

            h2 {
                color: #34495e;
                border-left: 5px solid #3498db;
                padding-left: 15px;
                margin-top: 40px;
            }

            h3 {
                color: #2980b9;
                margin-top: 25px;
            }

            .section {
                margin-bottom: 40px;
                padding: 20px;
                background: #f8f9fa;
                border-radius: 10px;
                border: 1px solid #e9ecef;
            }

            .stairs-visual {
                display: flex;
                align-items: flex-end;
                justify-content: center;
                margin: 30px 0;
                padding: 20px;
                background: linear-gradient(180deg, #e3f2fd 0%, #bbdefb 100%);
                border-radius: 10px;
            }

            .step {
                width: 60px;
                background: linear-gradient(45deg, #4CAF50, #45a049);
                margin: 2px;
                display: flex;
                align-items: center;
                justify-content: center;
                color: white;
                font-weight: bold;
                border-radius: 5px;
                box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
                transition: transform 0.3s ease;
            }

            .step:hover {
                transform: translateY(-5px);
            }

            .step-0 {
                height: 30px;
            }

            .step-1 {
                height: 60px;
            }

            .step-2 {
                height: 90px;
            }

            .step-3 {
                height: 120px;
            }

            .step-4 {
                height: 150px;
            }

            .step-5 {
                height: 180px;
            }

            .dp-table {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));
                gap: 10px;
                margin: 20px 0;
                padding: 20px;
                background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 50%, #fecfef 100%);
                border-radius: 10px;
            }

            .dp-cell {
                background: white;
                padding: 15px;
                text-align: center;
                border-radius: 8px;
                box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
                transition: all 0.3s ease;
            }

            .dp-cell:hover {
                transform: scale(1.05);
                box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            }

            .dp-index {
                font-size: 14px;
                color: #666;
                margin-bottom: 5px;
            }

            .dp-value {
                font-size: 24px;
                font-weight: bold;
                color: #2c3e50;
            }

            .algorithm-step {
                background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
                padding: 20px;
                margin: 15px 0;
                border-radius: 10px;
                border-left: 5px solid #e74c3c;
            }

            .code-block {
                background: #2d3748;
                color: #e2e8f0;
                padding: 20px;
                border-radius: 8px;
                font-family: 'Courier New', monospace;
                margin: 15px 0;
                overflow-x: auto;
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            }

            .path-visualization {
                display: flex;
                flex-wrap: wrap;
                gap: 20px;
                justify-content: center;
                margin: 30px 0;
            }

            .path {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                padding: 15px;
                border-radius: 10px;
                text-align: center;
                min-width: 120px;
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            }

            .complexity-analysis {
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 20px;
                margin: 20px 0;
            }

            .complexity-box {
                background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
                color: white;
                padding: 20px;
                border-radius: 10px;
                text-align: center;
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            }

            .interactive-demo {
                background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
                padding: 25px;
                border-radius: 15px;
                margin: 30px 0;
                text-align: center;
            }

            .demo-controls {
                margin: 20px 0;
            }

            input[type="range"] {
                width: 300px;
                margin: 10px;
            }

            button {
                background: linear-gradient(45deg, #ff6b6b, #ee5a24);
                color: white;
                border: none;
                padding: 12px 24px;
                border-radius: 25px;
                cursor: pointer;
                font-size: 16px;
                margin: 5px;
                transition: transform 0.2s;
            }

            button:hover {
                transform: translateY(-2px);
            }

            .memory-comparison {
                display: flex;
                justify-content: space-around;
                margin: 30px 0;
            }

            .memory-box {
                background: linear-gradient(135deg, #74b9ff 0%, #0984e3 100%);
                color: white;
                padding: 20px;
                border-radius: 10px;
                text-align: center;
                flex: 1;
                margin: 0 10px;
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            }

            .fibonacci-connection {
                background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
                padding: 25px;
                border-radius: 15px;
                margin: 30px 0;
            }

            @keyframes highlight {
                0% {
                    background-color: #fff3cd;
                }

                50% {
                    background-color: #ffc107;
                }

                100% {
                    background-color: #fff3cd;
                }
            }

            .highlight {
                animation: highlight 1s ease-in-out;
            }
        </style>
    </head>

    <body>
        <div class="container">
            <h1>ğŸ”ï¸ éšæ®µæ˜‡é™DPå•é¡Œã®è©³ç´°è§£æ</h1>

            <div class="section">
                <h2>ğŸ“Š å•é¡Œã®æ¦‚è¦ã¨è¦–è¦šåŒ–</h2>
                <p>næ®µã®éšæ®µã‚’1æ®µã¾ãŸã¯2æ®µãšã¤ä¸Šã‚‹æ–¹æ³•ã®æ•°ã‚’æ±‚ã‚ã‚‹å•é¡Œã§ã™ã€‚ã“ã‚Œã¯å‹•çš„ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ï¼ˆDPï¼‰ã®å…¸å‹çš„ãªä¾‹é¡Œã§ã™ã€‚</p>

                <h3>éšæ®µã®è¦–è¦šåŒ–ï¼ˆn=5ã®ä¾‹ï¼‰</h3>
                <div class="stairs-visual">
                    <div class="step step-0">åœ°é¢</div>
                    <div class="step step-1">1æ®µ</div>
                    <div class="step step-2">2æ®µ</div>
                    <div class="step step-3">3æ®µ</div>
                    <div class="step step-4">4æ®µ</div>
                    <div class="step step-5">5æ®µ</div>
                </div>
            </div>

            <div class="section">
                <h2>ğŸ§® æ¼¸åŒ–å¼ã®å°å‡ºéç¨‹</h2>
                <div class="algorithm-step">
                    <h3>Step 1: å•é¡Œã®åˆ†æ</h3>
                    <p>næ®µç›®ã«åˆ°é”ã™ã‚‹æ–¹æ³•ã¯ä»¥ä¸‹ã®2ã¤ã«åˆ†é¡ã§ãã¾ã™ï¼š</p>
                    <ul>
                        <li><strong>æ–¹æ³•1:</strong> (n-1)æ®µç›®ã‹ã‚‰1æ®µä¸Šã‚‹</li>
                        <li><strong>æ–¹æ³•2:</strong> (n-2)æ®µç›®ã‹ã‚‰2æ®µä¸Šã‚‹</li>
                    </ul>
                </div>

                <div class="algorithm-step">
                    <h3>Step 2: æ¼¸åŒ–å¼ã®æ§‹ç¯‰</h3>
                    <p>dp[i] = iæ®µã®éšæ®µã‚’ä¸Šã‚‹æ–¹æ³•ã®æ•°ã¨ã™ã‚‹ã¨ï¼š</p>
                    <div class="code-block">
                        dp[n] = dp[n-1] + dp[n-2]

                        // åˆæœŸæ¡ä»¶
                        dp[0] = 1 // ä½•ã‚‚ã—ãªã„æ–¹æ³•ãŒ1é€šã‚Š
                        dp[1] = 1 // 1æ®µä¸Šã‚‹æ–¹æ³•ãŒ1é€šã‚Š
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>ğŸ” å…·ä½“ä¾‹ã«ã‚ˆã‚‹è¨ˆç®—éç¨‹ï¼ˆn=6ï¼‰</h2>
                <div class="interactive-demo">
                    <h3>ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–è¨ˆç®—ãƒ‡ãƒ¢</h3>
                    <div class="demo-controls">
                        <label>éšæ®µã®æ®µæ•°: <span id="nValue">6</span></label><br>
                        <input type="range" id="nSlider" min="1" max="10" value="6" oninput="updateDemo()">
                        <br>
                        <button onclick="animateCalculation()">è¨ˆç®—éç¨‹ã‚’ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³è¡¨ç¤º</button>
                    </div>
                </div>

                <div id="dpVisualization">
                    <h3>DPé…åˆ—ã®çŠ¶æ…‹</h3>
                    <div class="dp-table" id="dpTable">
                        <!-- Dynamic content -->
                    </div>
                </div>

                <div id="pathVisualization">
                    <h3>å„æ®µã¸ã®åˆ°é”æ–¹æ³•</h3>
                    <div class="path-visualization" id="pathContainer">
                        <!-- Dynamic content -->
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>ğŸ’¾ ãƒ¡ãƒ¢ãƒªæœ€é©åŒ–ã®è§£æ</h2>
                <div class="memory-comparison">
                    <div class="memory-box">
                        <h3>é€šå¸¸ç‰ˆ</h3>
                        <p><strong>ç©ºé–“è¨ˆç®—é‡:</strong> O(n)</p>
                        <p>é…åˆ—å…¨ä½“ã‚’ä¿æŒ</p>
                        <p>ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡: n Ã— 8ãƒã‚¤ãƒˆ</p>
                    </div>
                    <div class="memory-box">
                        <h3>æœ€é©åŒ–ç‰ˆ</h3>
                        <p><strong>ç©ºé–“è¨ˆç®—é‡:</strong> O(1)</p>
                        <p>å‰ã®2ã¤ã®å€¤ã®ã¿ä¿æŒ</p>
                        <p>ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡: 2 Ã— 8ãƒã‚¤ãƒˆ</p>
                    </div>
                </div>

                <div class="code-block">
                    // æœ€é©åŒ–ç‰ˆã®ã‚³ãƒ¼ãƒ‰æ§‹é€ 
                    let prev2 = 1; // dp[i-2]
                    let prev1 = 1; // dp[i-1]
                    let current;

                    for (let i = 2; i <= n; i++) { current=prev1 + prev2; // dp[i]=dp[i-1] + dp[i-2] prev2=prev1; // å€¤ã‚’æ›´æ–° prev1=current; } </div>
                </div>

                <div class="section fibonacci-connection">
                    <h2>ğŸŒ€ ãƒ•ã‚£ãƒœãƒŠãƒƒãƒæ•°åˆ—ã¨ã®é–¢ä¿‚</h2>
                    <p>ã“ã®å•é¡Œã®ç­”ãˆã¯å®Ÿéš›ã«ã¯ãƒ•ã‚£ãƒœãƒŠãƒƒãƒæ•°åˆ—ã¨å¯†æ¥ãªé–¢ä¿‚ãŒã‚ã‚Šã¾ã™ï¼š</p>
                    <div class="code-block">
                        F(0) = 1, F(1) = 1, F(2) = 2, F(3) = 3, F(4) = 5, F(5) = 8, ...
                        éšæ®µ: 1, 1, 2, 3, 5, 8, ...

                        dp[n] = F(n+1) // ãƒ•ã‚£ãƒœãƒŠãƒƒãƒæ•°åˆ—ã®n+1ç•ªç›®
                    </div>
                    <p>ã“ã‚Œã¯å¶ç„¶ã§ã¯ãªãã€å•é¡Œã®æ§‹é€ ãŒæœ¬è³ªçš„ã«ãƒ•ã‚£ãƒœãƒŠãƒƒãƒæ•°åˆ—ã®å®šç¾©ã¨åŒã˜ã ã‹ã‚‰ã§ã™ã€‚</p>
                </div>

                <div class="section">
                    <h2>âš¡ è¨ˆç®—é‡è§£æ</h2>
                    <div class="complexity-analysis">
                        <div class="complexity-box">
                            <h3>æ™‚é–“è¨ˆç®—é‡</h3>
                            <p><strong>O(n)</strong></p>
                            <p>å„æ®µã«ã¤ã„ã¦1å›ãšã¤è¨ˆç®—</p>
                            <p>n=40ã®å ´åˆ: 40å›ã®æ¼”ç®—</p>
                        </div>
                        <div class="complexity-box">
                            <h3>ç©ºé–“è¨ˆç®—é‡</h3>
                            <p><strong>O(1)</strong> (æœ€é©åŒ–ç‰ˆ)</p>
                            <p>å®šæ•°å€‹ã®å¤‰æ•°ã®ã¿ä½¿ç”¨</p>
                            <p>nã«ä¾å­˜ã—ãªã„å›ºå®šã‚µã‚¤ã‚º</p>
                        </div>
                    </div>
                </div>

                <div class="section">
                    <h2>ğŸ¯ å®Ÿè£…ã®ãƒã‚¤ãƒ³ãƒˆ</h2>
                    <div class="algorithm-step">
                        <h3>1. ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ã®å‡¦ç†</h3>
                        <div class="code-block">
                            if (n === 0) return 1; // åŸºåº•ã‚±ãƒ¼ã‚¹
                            if (n === 1) return 1; // åŸºåº•ã‚±ãƒ¼ã‚¹
                        </div>
                    </div>

                    <div class="algorithm-step">
                        <h3>2. æ•´æ•°ã‚ªãƒ¼ãƒãƒ¼ãƒ•ãƒ­ãƒ¼ã®è€ƒæ…®</h3>
                        <p>JavaScriptã§ã¯æ•°å€¤ãŒ53ãƒ“ãƒƒãƒˆç²¾åº¦ãªã®ã§ã€nâ‰¤40ã§ã¯å•é¡Œãªã—</p>
                        <div class="code-block">
                            // n=40ã®å ´åˆã®ç­”ãˆ: 165,580,141
                            // JavaScript ã® Number.MAX_SAFE_INTEGER: 9,007,199,254,740,991
                        </div>
                    </div>

                    <div class="algorithm-step">
                        <h3>3. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ¸¬å®š</h3>
                        <div class="code-block">
                            const startTime = process.hrtime.bigint();
                            // å‡¦ç†å®Ÿè¡Œ
                            const endTime = process.hrtime.bigint();
                            const executionTime = Number(endTime - startTime) / 1000000; // ms
                        </div>
                    </div>
                </div>
            </div>

            <script>
                function updateDemo() {
                    const n = parseInt(document.getElementById('nSlider').value);
                    document.getElementById('nValue').textContent = n;

                    // DPé…åˆ—ã®è¨ˆç®—ã¨è¡¨ç¤º
                    const dp = calculateDP(n);
                    displayDPTable(dp, n);
                    displayPaths(n);
                }

                function calculateDP(n) {
                    const dp = new Array(n + 1);
                    dp[0] = 1;
                    if (n >= 1) dp[1] = 1;

                    for (let i = 2; i <= n; i++) {
                        dp[i] = dp[i - 1] + dp[i - 2];
                    }
                    return dp;
                }

                function displayDPTable(dp, n) {
                    const table = document.getElementById('dpTable');
                    table.innerHTML = '';

                    for (let i = 0; i <= n; i++) {
                        const cell = document.createElement('div');
                        cell.className = 'dp-cell';
                        cell.innerHTML = `
                    <div class="dp-index">dp[${i}]</div>
                    <div class="dp-value">${dp[i]}</div>
                `;
                        table.appendChild(cell);
                    }
                }

                function displayPaths(n) {
                    const container = document.getElementById('pathContainer');
                    container.innerHTML = '';

                    const paths = generatePaths(n);
                    paths.forEach((path, index) => {
                        const pathDiv = document.createElement('div');
                        pathDiv.className = 'path';
                        pathDiv.innerHTML = `
                    <div>æ–¹æ³• ${index + 1}</div>
                    <div>${path}</div>
                `;
                        container.appendChild(pathDiv);
                    });
                }

                function generatePaths(n) {
                    if (n <= 3) {
                        const pathsMap = {
                            1: ['1æ®µ'],
                            2: ['1+1æ®µ', '2æ®µ'],
                            3: ['1+1+1æ®µ', '1+2æ®µ', '2+1æ®µ']
                        };
                        return pathsMap[n] || [];
                    }
                    return [`${calculateDP(n)[n]}é€šã‚Šã®æ–¹æ³•ãŒã‚ã‚Šã¾ã™`];
                }

                function animateCalculation() {
                    const n = parseInt(document.getElementById('nSlider').value);
                    const cells = document.querySelectorAll('.dp-cell');

                    cells.forEach((cell, index) => {
                        if (index <= n) {
                            setTimeout(() => {
                                cell.classList.add('highlight');
                                setTimeout(() => {
                                    cell.classList.remove('highlight');
                                }, 1000);
                            }, index * 500);
                        }
                    });
                }

                // åˆæœŸåŒ–
                updateDemo();
            </script>
    </body>

</html>