<!DOCTYPE html>
<html lang="ja">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>å…«ç™¾å±‹ã®ã‚Šã‚“ã”è³¼å…¥å•é¡Œ - å‹•çš„ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è§£æ</title>
        <style>
            body {
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                line-height: 1.6;
                color: #333;
                max-width: 1200px;
                margin: 0 auto;
                padding: 20px;
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                min-height: 100vh;
            }

            .container {
                background: white;
                border-radius: 15px;
                padding: 30px;
                box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            }

            h1 {
                color: #2c3e50;
                text-align: center;
                border-bottom: 3px solid #3498db;
                padding-bottom: 10px;
                margin-bottom: 30px;
            }

            h2 {
                color: #e74c3c;
                border-left: 4px solid #e74c3c;
                padding-left: 15px;
                margin-top: 30px;
            }

            h3 {
                color: #27ae60;
                border-bottom: 2px solid #27ae60;
                padding-bottom: 5px;
            }

            .problem-setup {
                background: #ecf0f1;
                padding: 20px;
                border-radius: 10px;
                margin: 20px 0;
                border-left: 5px solid #3498db;
            }

            .dp-table {
                border-collapse: collapse;
                width: 100%;
                margin: 20px 0;
                font-size: 14px;
            }

            .dp-table th,
            .dp-table td {
                border: 2px solid #34495e;
                padding: 12px;
                text-align: center;
                font-weight: bold;
            }

            .dp-table th {
                background: #3498db;
                color: white;
            }

            .dp-table td {
                background: #ecf0f1;
            }

            .highlight {
                background: #f39c12 !important;
                color: white;
            }

            .infinity {
                background: #e74c3c !important;
                color: white;
            }

            .final-answer {
                background: #27ae60 !important;
                color: white;
            }

            .step-visualization {
                display: flex;
                flex-wrap: wrap;
                gap: 20px;
                margin: 20px 0;
            }

            .step-box {
                flex: 1;
                min-width: 300px;
                background: #f8f9fa;
                border: 2px solid #dee2e6;
                border-radius: 10px;
                padding: 20px;
            }

            .step-title {
                font-weight: bold;
                color: #495057;
                margin-bottom: 15px;
                font-size: 16px;
            }

            .calculation-box {
                background: #fff3cd;
                border: 1px solid #ffeaa7;
                border-radius: 5px;
                padding: 10px;
                margin: 10px 0;
                font-family: 'Courier New', monospace;
            }

            .arrow {
                font-size: 24px;
                color: #e74c3c;
                text-align: center;
                margin: 10px 0;
            }

            .complexity-analysis {
                background: #e8f5e8;
                border: 2px solid #27ae60;
                border-radius: 10px;
                padding: 20px;
                margin: 20px 0;
            }

            .memory-visualization {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(60px, 1fr));
                gap: 5px;
                margin: 20px 0;
            }

            .memory-cell {
                border: 2px solid #34495e;
                padding: 10px;
                text-align: center;
                border-radius: 5px;
                font-weight: bold;
                min-height: 40px;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .interactive-demo {
                background: #f1f2f6;
                border-radius: 10px;
                padding: 20px;
                margin: 20px 0;
            }

            .demo-controls {
                margin: 15px 0;
            }

            .demo-controls button {
                background: #3498db;
                color: white;
                border: none;
                padding: 10px 20px;
                border-radius: 5px;
                cursor: pointer;
                margin-right: 10px;
                font-weight: bold;
            }

            .demo-controls button:hover {
                background: #2980b9;
            }

            .demo-controls button:disabled {
                background: #bdc3c7;
                cursor: not-allowed;
            }

            .progress-bar {
                width: 100%;
                background: #ecf0f1;
                border-radius: 10px;
                overflow: hidden;
                margin: 15px 0;
            }

            .progress-fill {
                height: 20px;
                background: linear-gradient(90deg, #3498db, #2980b9);
                transition: width 0.5s ease;
            }
        </style>
    </head>

    <body>
        <div class="container">
            <h1>ğŸ å…«ç™¾å±‹ã®ã‚Šã‚“ã”è³¼å…¥å•é¡Œ - å‹•çš„ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è©³ç´°è§£æ</h1>

            <div class="problem-setup">
                <h3>ğŸ“‹ å•é¡Œè¨­å®š</h3>
                <ul>
                    <li><strong>ã‚Šã‚“ã”2å€‹</strong> = <span id="price-a">110</span>å††</li>
                    <li><strong>ã‚Šã‚“ã”5å€‹</strong> = <span id="price-b">200</span>å††</li>
                    <li><strong>å¿…è¦ãªå€‹æ•°</strong> = <span id="target-n">4</span>å€‹ä»¥ä¸Š</li>
                    <li><strong>åˆ¶ç´„</strong>: 2å€‹ãƒ‘ãƒƒã‚¯ã¾ãŸã¯5å€‹ãƒ‘ãƒƒã‚¯ã§ã—ã‹è³¼å…¥ã§ããªã„</li>
                </ul>
            </div>

            <h2>ğŸ§® 1. å‹•çš„ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ï¼ˆDPï¼‰ãƒ†ãƒ¼ãƒ–ãƒ«ã®æ§‹ç¯‰éç¨‹</h2>

            <h3>åˆæœŸçŠ¶æ…‹</h3>
            <p>DPãƒ†ãƒ¼ãƒ–ãƒ«ã‚’åˆæœŸåŒ–ã—ã¾ã™ã€‚dp[i] = ã¡ã‚‡ã†ã©iå€‹ã®ã‚Šã‚“ã”ã‚’è²·ã†ã®ã«å¿…è¦ãªæœ€å°ã‚³ã‚¹ãƒˆ</p>

            <div class="memory-visualization" id="initial-dp-table">
                <!-- JavaScript ã§å‹•çš„ã«ç”Ÿæˆ -->
            </div>

            <div class="interactive-demo">
                <h3>ğŸ® ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–DPæ§‹ç¯‰ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³</h3>
                <div class="demo-controls">
                    <button onclick="resetDemo()">ãƒªã‚»ãƒƒãƒˆ</button>
                    <button onclick="stepDemo()" id="step-button">æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—</button>
                    <button onclick="autoDemo()" id="auto-button">è‡ªå‹•å®Ÿè¡Œ</button>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progress-fill" style="width: 0%"></div>
                </div>
                <p id="current-step">ã‚¹ãƒ†ãƒƒãƒ— 0: åˆæœŸåŒ–å®Œäº†</p>
            </div>

            <h3>ã‚¹ãƒ†ãƒƒãƒ—åˆ¥è©³ç´°è§£æ</h3>
            <div id="step-details">
                <!-- JavaScript ã§å‹•çš„ã«ç”Ÿæˆ -->
            </div>

            <h2>ğŸ“Š 2. æœ€çµ‚DPãƒ†ãƒ¼ãƒ–ãƒ«</h2>
            <table class="dp-table" id="final-dp-table">
                <!-- JavaScript ã§å‹•çš„ã«ç”Ÿæˆ -->
            </table>

            <h2>ğŸ¯ 3. æœ€å°ã‚³ã‚¹ãƒˆæ¢ç´¢éç¨‹</h2>
            <div class="step-visualization">
                <div class="step-box">
                    <div class="step-title">æ¢ç´¢ç¯„å›²</div>
                    <p>n=4å€‹ä»¥ä¸Šã®ã‚Šã‚“ã”ã‚’æ‰‹ã«å…¥ã‚Œã‚‹æ–¹æ³•ã‚’æ¢ç´¢</p>
                    <div class="calculation-box">
                        dp[4] = âˆ (4å€‹ã¡ã‚‡ã†ã©ã¯ä½œã‚Œãªã„)<br>
                        dp[5] = 200 (5å€‹ãƒ‘ãƒƒã‚¯1ã¤)<br>
                        dp[6] = 220 (2å€‹ãƒ‘ãƒƒã‚¯3ã¤)<br>
                        dp[7] = 310 (2å€‹ãƒ‘ãƒƒã‚¯1ã¤ + 5å€‹ãƒ‘ãƒƒã‚¯1ã¤)<br>
                        dp[8] = 400 (2å€‹ãƒ‘ãƒƒã‚¯4ã¤)
                    </div>
                </div>
                <div class="step-box">
                    <div class="step-title">æœ€å°å€¤ã®æ±ºå®š</div>
                    <p>4å€‹ä»¥ä¸Šã®ä¸­ã§æœ€å°ã‚³ã‚¹ãƒˆã‚’é¸æŠ</p>
                    <div class="calculation-box">
                        min(âˆ, 200, 220, 310, 400) = <strong>200å††</strong>
                    </div>
                    <div class="arrow">â†“</div>
                    <div style="text-align: center; font-weight: bold; color: #27ae60; font-size: 18px;">
                        ç­”ãˆ: 200å††
                    </div>
                </div>
            </div>

            <h2>âš¡ 4. è¨ˆç®—é‡ãƒ»ãƒ¡ãƒ¢ãƒªåŠ¹ç‡åˆ†æ</h2>
            <div class="complexity-analysis">
                <h3>æ™‚é–“è¨ˆç®—é‡: O(n)</h3>
                <ul>
                    <li>DPãƒ†ãƒ¼ãƒ–ãƒ«ã®å„è¦ç´ ã‚’1å›ãšã¤å‡¦ç†</li>
                    <li>å„è¦ç´ ã‹ã‚‰2ã¤ã®é·ç§»ï¼ˆ+2å€‹ã€+5å€‹ï¼‰ã‚’å®Ÿè¡Œ</li>
                    <li>æœ€çµ‚çš„ãªæœ€å°å€¤æ¢ç´¢ã‚‚O(n)</li>
                </ul>

                <h3>ç©ºé–“è¨ˆç®—é‡: O(n)</h3>
                <ul>
                    <li>DPãƒ†ãƒ¼ãƒ–ãƒ«: (n+4+1)å€‹ã®è¦ç´ </li>
                    <li>è¿½åŠ å¤‰æ•°: å®šæ•°å€‹</li>
                    <li>å…¥åŠ›ã‚µã‚¤ã‚ºnâ‰¤1000ãªã®ã§ã€ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ã¯éå¸¸ã«å°‘ãªã„</li>
                </ul>

                <h3>å®Ÿéš›ã®æ€§èƒ½ï¼ˆn=4ã®å ´åˆï¼‰</h3>
                <div class="step-visualization">
                    <div class="step-box">
                        <div class="step-title">ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡</div>
                        <ul>
                            <li>DPãƒ†ãƒ¼ãƒ–ãƒ«: 9å€‹ Ã— 8ãƒã‚¤ãƒˆ = 72ãƒã‚¤ãƒˆ</li>
                            <li>å¤‰æ•°: ç´„20ãƒã‚¤ãƒˆ</li>
                            <li><strong>ç·è¨ˆ: ç´„100ãƒã‚¤ãƒˆæœªæº€</strong></li>
                        </ul>
                    </div>
                    <div class="step-box">
                        <div class="step-title">å®Ÿè¡Œã‚¹ãƒ†ãƒƒãƒ—æ•°</div>
                        <ul>
                            <li>åˆæœŸåŒ–: 9ã‚¹ãƒ†ãƒƒãƒ—</li>
                            <li>DPæ§‹ç¯‰: 18ã‚¹ãƒ†ãƒƒãƒ—ï¼ˆå„ä½ç½®ã‹ã‚‰2ã¤ã®é·ç§»ï¼‰</li>
                            <li>æœ€å°å€¤æ¢ç´¢: 5ã‚¹ãƒ†ãƒƒãƒ—</li>
                            <li><strong>ç·è¨ˆ: 32ã‚¹ãƒ†ãƒƒãƒ—</strong></li>
                        </ul>
                    </div>
                </div>
            </div>

            <h2>ğŸ” 5. ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®è©³ç´°ãƒ•ãƒ­ãƒ¼</h2>
            <div class="step-visualization">
                <div class="step-box">
                    <div class="step-title">Phase 1: åˆæœŸåŒ–</div>
                    <div class="calculation-box">
                        dp[0] = 0 (0å€‹ãªã‚‰0å††)<br>
                        dp[1] ~ dp[8] = âˆ (æœªè¨ˆç®—)
                    </div>
                </div>
                <div class="step-box">
                    <div class="step-title">Phase 2: DPé·ç§»</div>
                    <div class="calculation-box">
                        å„ i ã«ã¤ã„ã¦:<br>
                        â€¢ dp[i+2] = min(dp[i+2], dp[i] + a)<br>
                        â€¢ dp[i+5] = min(dp[i+5], dp[i] + b)
                    </div>
                </div>
                <div class="step-box">
                    <div class="step-title">Phase 3: è§£ã®æŠ½å‡º</div>
                    <div class="calculation-box">
                        min(dp[n], dp[n+1], ..., dp[n+4])<br>
                        ãŸã ã— dp[i] â‰  âˆ ã®ã‚‚ã®ã®ã¿
                    </div>
                </div>
            </div>

            <h2>ğŸ’¡ 6. ãªãœã“ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒãŒåŠ¹æœçš„ãªã®ã‹</h2>
            <div class="problem-setup">
                <h3>ğŸš« å˜ç´”ãªæ–¹æ³•ã§ã¯è§£ã‘ãªã„ç†ç”±</h3>
                <ul>
                    <li>2ã¨5ã®æœ€å¤§å…¬ç´„æ•°ã¯1ã ãŒã€å°ã•ãªæ•°ã§ã¯ä½œã‚Œãªã„çµ„ã¿åˆã‚ã›ãŒã‚ã‚‹</li>
                    <li>ä¾‹: 1å€‹ã€3å€‹ã¯2å€‹ãƒ‘ãƒƒã‚¯ã¨5å€‹ãƒ‘ãƒƒã‚¯ã§ã¯ä½œã‚Œãªã„</li>
                    <li>ã¡ã‚‡ã†ã©nå€‹ã‚’ä½œã‚ã†ã¨ã™ã‚‹ã¨ã€è§£ãŒå­˜åœ¨ã—ãªã„å ´åˆãŒã‚ã‚‹</li>
                </ul>

                <h3>âœ… DPã‚¢ãƒ—ãƒ­ãƒ¼ãƒã®åˆ©ç‚¹</h3>
                <ul>
                    <li><strong>ç¶²ç¾…æ€§</strong>: å…¨ã¦ã®å¯èƒ½ãªçµ„ã¿åˆã‚ã›ã‚’åŠ¹ç‡çš„ã«æ¢ç´¢</li>
                    <li><strong>æœ€é©æ€§</strong>: å„çŠ¶æ…‹ã§æœ€å°ã‚³ã‚¹ãƒˆã‚’ä¿è¨¼</li>
                    <li><strong>æŸ”è»Ÿæ€§</strong>: nå€‹ä»¥ä¸Šã®æ¡ä»¶ã«å¯¾å¿œå¯èƒ½</li>
                    <li><strong>åŠ¹ç‡æ€§</strong>: O(n)æ™‚é–“ã§è§£ã‚’æ±‚ã‚ã‚‹</li>
                </ul>
            </div>

            <h2>ğŸ§ª 7. ä»–ã®å…¥åŠ›ä¾‹ã§ã®å‹•ä½œç¢ºèª</h2>
            <div class="interactive-demo">
                <h3>ç•°ãªã‚‹å…¥åŠ›ã§ã®å‹•ä½œãƒ†ã‚¹ãƒˆ</h3>
                <div class="demo-controls">
                    <label>n: <input type="number" id="test-n" value="6" min="1" max="20"></label>
                    <label>a (2å€‹ã®ä¾¡æ ¼): <input type="number" id="test-a" value="100" min="1" max="500"></label>
                    <label>b (5å€‹ã®ä¾¡æ ¼): <input type="number" id="test-b" value="300" min="1" max="500"></label>
                    <button onclick="testCustomInput()">è¨ˆç®—å®Ÿè¡Œ</button>
                </div>
                <div id="test-result"></div>
            </div>
        </div>

        <script>
            let currentStep = 0;
            let maxSteps = 0;
            let dpArray = [];
            let n = 4, a = 110, b = 200;
            let animationInterval;

            // åˆæœŸåŒ–
            function initializeDP() {
                dpArray = new Array(n + 5).fill(Infinity);
                dpArray[0] = 0;
                currentStep = 0;
                maxSteps = calculateMaxSteps();
                updateDPVisualization();
                updateStepDetails();
            }

            function calculateMaxSteps() {
                return (n + 4) * 2 + 1; // å„ä½ç½®ã‹ã‚‰2ã¤ã®é·ç§» + åˆæœŸåŒ–
            }

            function updateDPVisualization() {
                const container = document.getElementById('initial-dp-table');
                container.innerHTML = '';

                for (let i = 0; i <= n + 4; i++) {
                    const cell = document.createElement('div');
                    cell.className = 'memory-cell';
                    cell.innerHTML = `<div>dp[${i}]<br>${dpArray[i] === Infinity ? 'âˆ' : dpArray[i]}</div>`;

                    if (dpArray[i] === Infinity) {
                        cell.classList.add('infinity');
                    } else if (dpArray[i] === 0) {
                        cell.style.background = '#3498db';
                        cell.style.color = 'white';
                    } else {
                        cell.classList.add('highlight');
                    }

                    container.appendChild(cell);
                }
            }

            function updateStepDetails() {
                const container = document.getElementById('step-details');
                const steps = getStepExplanations();

                container.innerHTML = '';
                steps.forEach((step, index) => {
                    const stepDiv = document.createElement('div');
                    stepDiv.className = 'step-box';
                    stepDiv.innerHTML = `
                    <div class="step-title">ã‚¹ãƒ†ãƒƒãƒ— ${index + 1}: ${step.title}</div>
                    <p>${step.description}</p>
                    <div class="calculation-box">${step.calculation}</div>
                `;

                    if (index < currentStep) {
                        stepDiv.style.background = '#d5f4e6';
                    } else if (index === currentStep) {
                        stepDiv.style.background = '#fff3cd';
                        stepDiv.style.border = '2px solid #f39c12';
                    }

                    container.appendChild(stepDiv);
                });
            }

            function getStepExplanations() {
                const steps = [];
                let stepIndex = 0;

                // åˆæœŸåŒ–
                steps.push({
                    title: "åˆæœŸåŒ–",
                    description: "DPãƒ†ãƒ¼ãƒ–ãƒ«ã‚’åˆæœŸåŒ–ã—ã¾ã™",
                    calculation: "dp[0] = 0, dp[1]~dp[8] = âˆ"
                });
                stepIndex++;

                // i = 0ã‹ã‚‰ã®é·ç§»
                for (let i = 0; i <= n + 2; i++) {
                    if (i + 2 <= n + 4) {
                        steps.push({
                            title: `i=${i}ã‹ã‚‰+2å€‹ã®é·ç§»`,
                            description: `ä½ç½®${i}ã‹ã‚‰2å€‹ãƒ‘ãƒƒã‚¯ã‚’è³¼å…¥ã™ã‚‹å ´åˆ`,
                            calculation: `dp[${i + 2}] = min(dp[${i + 2}], dp[${i}] + ${a}) = min(${dpArray[i + 2] === Infinity ? 'âˆ' : dpArray[i + 2]}, ${dpArray[i] === Infinity ? 'âˆ' : dpArray[i]} + ${a})`
                        });
                    }

                    if (i + 5 <= n + 4) {
                        steps.push({
                            title: `i=${i}ã‹ã‚‰+5å€‹ã®é·ç§»`,
                            description: `ä½ç½®${i}ã‹ã‚‰5å€‹ãƒ‘ãƒƒã‚¯ã‚’è³¼å…¥ã™ã‚‹å ´åˆ`,
                            calculation: `dp[${i + 5}] = min(dp[${i + 5}], dp[${i}] + ${b}) = min(${dpArray[i + 5] === Infinity ? 'âˆ' : dpArray[i + 5]}, ${dpArray[i] === Infinity ? 'âˆ' : dpArray[i]} + ${b})`
                        });
                    }
                }

                return steps;
            }

            function resetDemo() {
                clearInterval(animationInterval);
                initializeDP();
                document.getElementById('current-step').textContent = 'ã‚¹ãƒ†ãƒƒãƒ— 0: åˆæœŸåŒ–å®Œäº†';
                document.getElementById('progress-fill').style.width = '0%';
                document.getElementById('step-button').disabled = false;
                document.getElementById('auto-button').disabled = false;
            }

            function stepDemo() {
                if (currentStep >= maxSteps) return;

                executeStep();
                currentStep++;

                const progress = (currentStep / maxSteps) * 100;
                document.getElementById('progress-fill').style.width = progress + '%';
                document.getElementById('current-step').textContent = `ã‚¹ãƒ†ãƒƒãƒ— ${currentStep}: ${getStepDescription()}`;

                updateDPVisualization();
                updateStepDetails();

                if (currentStep >= maxSteps) {
                    document.getElementById('step-button').disabled = true;
                    document.getElementById('current-step').textContent = 'ã™ã¹ã¦ã®ã‚¹ãƒ†ãƒƒãƒ—ãŒå®Œäº†ã—ã¾ã—ãŸï¼';
                    generateFinalTable();
                }
            }

            function executeStep() {
                const stepType = Math.floor((currentStep - 1) / 2);
                const isFirstTransition = (currentStep - 1) % 2 === 0;
                const i = stepType;

                if (currentStep === 0) return; // åˆæœŸåŒ–ã¯æ—¢ã«å®Œäº†

                if (isFirstTransition) {
                    // +2å€‹ã®é·ç§»
                    if (i + 2 <= n + 4 && dpArray[i] !== Infinity) {
                        dpArray[i + 2] = Math.min(dpArray[i + 2], dpArray[i] + a);
                    }
                } else {
                    // +5å€‹ã®é·ç§»  
                    if (i + 5 <= n + 4 && dpArray[i] !== Infinity) {
                        dpArray[i + 5] = Math.min(dpArray[i + 5], dpArray[i] + b);
                    }
                }
            }

            function getStepDescription() {
                if (currentStep === 0) return 'åˆæœŸåŒ–å®Œäº†';

                const stepType = Math.floor((currentStep - 1) / 2);
                const isFirstTransition = (currentStep - 1) % 2 === 0;
                const i = stepType;

                if (isFirstTransition) {
                    return `i=${i}ã‹ã‚‰+2å€‹ã®é·ç§»å®Ÿè¡Œ`;
                } else {
                    return `i=${i}ã‹ã‚‰+5å€‹ã®é·ç§»å®Ÿè¡Œ`;
                }
            }

            function autoDemo() {
                document.getElementById('auto-button').disabled = true;
                document.getElementById('step-button').disabled = true;

                animationInterval = setInterval(() => {
                    stepDemo();
                    if (currentStep >= maxSteps) {
                        clearInterval(animationInterval);
                    }
                }, 800);
            }

            function generateFinalTable() {
                const table = document.getElementById('final-dp-table');
                table.innerHTML = '';

                // ãƒ˜ãƒƒãƒ€ãƒ¼
                const headerRow = table.insertRow();
                headerRow.insertCell().outerHTML = '<th>ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹</th>';
                for (let i = 0; i <= n + 4; i++) {
                    headerRow.insertCell().outerHTML = `<th>${i}</th>`;
                }

                // å€¤ã®è¡Œ
                const valueRow = table.insertRow();
                valueRow.insertCell().outerHTML = '<th>dp[i]</th>';
                for (let i = 0; i <= n + 4; i++) {
                    const cell = valueRow.insertCell();
                    cell.textContent = dpArray[i] === Infinity ? 'âˆ' : dpArray[i];

                    if (i >= n && dpArray[i] !== Infinity) {
                        cell.classList.add('final-answer');
                    } else if (dpArray[i] === Infinity) {
                        cell.classList.add('infinity');
                    } else if (dpArray[i] > 0) {
                        cell.classList.add('highlight');
                    }
                }
            }

            function testCustomInput() {
                const testN = parseInt(document.getElementById('test-n').value);
                const testA = parseInt(document.getElementById('test-a').value);
                const testB = parseInt(document.getElementById('test-b').value);

                if (testA >= testB) {
                    document.getElementById('test-result').innerHTML = '<p style="color: red;">ã‚¨ãƒ©ãƒ¼: a < b ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™</p>';
                    return;
                }

                // ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
                const result = solveApplePurchase(testN, testA, testB);
                const testDP = calculateDP(testN, testA, testB);

                let resultHTML = `
                <h4>å…¥åŠ›: n=${testN}, a=${testA}, b=${testB}</h4>
                <p><strong>çµæœ: ${result}å††</strong></p>
                <table class="dp-table">
                    <tr><th>ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹</th>
            `;

                for (let i = 0; i <= testN + 4; i++) {
                    resultHTML += `<th>${i}</th>`;
                }
                resultHTML += '</tr><tr><th>dp[i]</th>';

                for (let i = 0; i <= testN + 4; i++) {
                    const value = testDP[i] === Infinity ? 'âˆ' : testDP[i];
                    const cellClass = i >= testN && testDP[i] !== Infinity ? 'final-answer' :
                        testDP[i] === Infinity ? 'infinity' : 'highlight';
                    resultHTML += `<td class="${cellClass}">${value}</td>`;
                }
                resultHTML += '</tr></table>';

                document.getElementById('test-result').innerHTML = resultHTML;
            }

            function calculateDP(n, a, b) {
                const dp = new Array(n + 5).fill(Infinity);
                dp[0] = 0;

                for (let i = 0; i <= n + 2; i++) {
                    if (dp[i] === Infinity) continue;

                    if (i + 2 <= n + 4) {
                        dp[i + 2] = Math.min(dp[i + 2], dp[i] + a);
                    }

                    if (i + 5 <= n + 4) {
                        dp[i + 5] = Math.min(dp[i + 5], dp[i] + b);
                    }
                }

                return dp;
            }

            function solveApplePurchase(n, a, b) {
                const dp = calculateDP(n, a, b);

                let minCost = Infinity;
                for (let i = n; i <= n + 4; i++) {
                    if (dp[i] !== Infinity) {
                        minCost = Math.min(minCost, dp[i]);
                    }
                }

                return minCost;
            }

            // åˆæœŸåŒ–å®Ÿè¡Œ
            window.onload = function () {
                initializeDP();
                generateFinalTable();
            };
        </script>
    </body>

</html>