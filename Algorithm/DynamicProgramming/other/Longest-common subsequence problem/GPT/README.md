了解しました！
では、DP を用いた解法について **「各処理の流れ」を図解しながら具体的に解析**します。

例として、問題文にある **入力例1** を使って説明します。

---

## 入力

```
n = 5
a = [187, 192, 115, 108, 109]
```

---

## ステップ 1: DP 配列の定義

- `dp[i]`: **「i番目（0始まりインデックス）の人で終わる逆背の順の区間の長さ」**

初期化:

```
dp = [1, 1, 1, 1, 1]
```

図（初期状態）:

```
index:   0     1     2     3     4
a[i]:   187   192   115   108   109
dp[i]:   1     1     1     1     1
```

---

## ステップ 2: DP の更新規則

漸化式:

```
もし a[i-1] >= a[i] なら dp[i] = dp[i-1] + 1
そうでなければ dp[i] = 1
```

---

## ステップ 3: 実際の更新過程

### i = 1 のとき

- 比較: `a[0] = 187`, `a[1] = 192`
- 条件: 187 >= 192 ❌ 成り立たない
- よって `dp[1] = 1`

図:

```
a:     [187, 192, 115, 108, 109]
dp:    [ 1 ,  1 ,  1 ,  1 ,  1 ]
```

---

### i = 2 のとき

- 比較: `a[1] = 192`, `a[2] = 115`
- 条件: 192 >= 115 ✅ 成り立つ
- よって `dp[2] = dp[1] + 1 = 1 + 1 = 2`

図:

```
a:     [187, 192, 115, 108, 109]
dp:    [ 1 ,  1 ,  2 ,  1 ,  1 ]
```

---

### i = 3 のとき

- 比較: `a[2] = 115`, `a[3] = 108`
- 条件: 115 >= 108 ✅ 成り立つ
- よって `dp[3] = dp[2] + 1 = 2 + 1 = 3`

図:

```
a:     [187, 192, 115, 108, 109]
dp:    [ 1 ,  1 ,  2 ,  3 ,  1 ]
```

---

### i = 4 のとき

- 比較: `a[3] = 108`, `a[4] = 109`
- 条件: 108 >= 109 ❌ 成り立たない
- よって `dp[4] = 1`

図:

```
a:     [187, 192, 115, 108, 109]
dp:    [ 1 ,  1 ,  2 ,  3 ,  1 ]
```

---

## ステップ 4: 答えの計算

- `dp` の最大値を取る

```
max(dp) = 3
```

これが答えです。

---

## 全体の流れをまとめた図

```
a:    [187] [192] [115] [108] [109]
dp:     1     1     2     3     1
```

- 区間 `[192, 115, 108]` が最長の逆背の順区間で、長さ 3 となる。

---

## ポイント

- **DP 配列**を使うことで「各地点までの最長長さ」を明示的に保持できる。
- 線形走査と同じ計算量 O(n) だが、「なぜそうなるか」を **配列の形で追跡**できるのが DP のメリット。

---
