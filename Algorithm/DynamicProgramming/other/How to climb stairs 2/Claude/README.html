<!DOCTYPE html>
<html lang="ja">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>éšæ®µä¸Šã‚ŠDPå•é¡Œã®è©³ç´°è§£æ</title>
        <style>
            body {
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                line-height: 1.6;
                color: #333;
                max-width: 1200px;
                margin: 0 auto;
                padding: 20px;
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            }

            .container {
                background: white;
                border-radius: 15px;
                padding: 30px;
                box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            }

            h1 {
                color: #2c3e50;
                text-align: center;
                border-bottom: 3px solid #3498db;
                padding-bottom: 10px;
                margin-bottom: 30px;
            }

            h2 {
                color: #34495e;
                border-left: 5px solid #3498db;
                padding-left: 15px;
                margin-top: 30px;
            }

            .dp-table {
                display: flex;
                flex-wrap: wrap;
                gap: 5px;
                margin: 20px 0;
                justify-content: center;
            }

            .dp-cell {
                width: 60px;
                height: 60px;
                border: 2px solid #3498db;
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                border-radius: 8px;
                background: linear-gradient(135deg, #74b9ff, #0984e3);
                color: white;
                font-weight: bold;
                transition: all 0.3s ease;
            }

            .dp-cell:hover {
                transform: scale(1.1);
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            }

            .cell-index {
                font-size: 10px;
                opacity: 0.8;
            }

            .cell-value {
                font-size: 16px;
            }

            .calculation-step {
                background: #f8f9fa;
                border-left: 4px solid #28a745;
                padding: 15px;
                margin: 10px 0;
                border-radius: 5px;
            }

            .arrow {
                color: #e74c3c;
                font-size: 20px;
                font-weight: bold;
                margin: 0 10px;
            }

            .step-by-step {
                background: #fff3cd;
                border: 1px solid #ffeaa7;
                border-radius: 10px;
                padding: 20px;
                margin: 20px 0;
            }

            .code-block {
                background: #2d3748;
                color: #e2e8f0;
                padding: 20px;
                border-radius: 10px;
                font-family: 'Courier New', monospace;
                margin: 20px 0;
                overflow-x: auto;
            }

            .highlight {
                background: #fdcb6e;
                padding: 2px 5px;
                border-radius: 3px;
                font-weight: bold;
            }

            .visual-stair {
                display: flex;
                align-items: flex-end;
                justify-content: center;
                gap: 2px;
                margin: 20px 0;
                height: 200px;
            }

            .stair-step {
                background: linear-gradient(135deg, #a29bfe, #6c5ce7);
                color: white;
                display: flex;
                align-items: center;
                justify-content: center;
                font-weight: bold;
                border-radius: 5px;
                position: relative;
                transition: all 0.3s ease;
            }

            .stair-step:hover {
                transform: translateY(-5px);
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            }

            .complexity-analysis {
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 20px;
                margin: 20px 0;
            }

            .complexity-box {
                background: linear-gradient(135deg, #fd79a8, #e84393);
                color: white;
                padding: 20px;
                border-radius: 10px;
                text-align: center;
            }

            .interactive-demo {
                background: #e8f4ff;
                border: 2px dashed #3498db;
                border-radius: 10px;
                padding: 20px;
                margin: 20px 0;
                text-align: center;
            }

            button {
                background: linear-gradient(135deg, #00b894, #00cec9);
                color: white;
                border: none;
                padding: 12px 24px;
                border-radius: 25px;
                cursor: pointer;
                font-size: 16px;
                font-weight: bold;
                transition: all 0.3s ease;
                margin: 10px;
            }

            button:hover {
                transform: translateY(-2px);
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            }

            .formula {
                background: #f1c40f;
                color: #2c3e50;
                padding: 15px;
                border-radius: 10px;
                font-size: 18px;
                font-weight: bold;
                text-align: center;
                margin: 20px 0;
                box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
            }
        </style>
    </head>

    <body>
        <div class="container">
            <h1>ğŸƒâ€â™‚ï¸ éšæ®µä¸Šã‚ŠDPå•é¡Œã®è©³ç´°è§£æ</h1>

            <h2>ğŸ“‹ å•é¡Œæ¦‚è¦</h2>
            <p><strong>å•é¡Œ:</strong> næ®µã®éšæ®µã‚’ã€1æ­©ã§aæ®µã¾ãŸã¯bæ®µãšã¤ä¸Šã‚‹æ–¹æ³•ã¯ä½•é€šã‚Šã‚ã‚‹ã‹ï¼Ÿ</p>
            <p><strong>ä¾‹:</strong> n=11, a=3, b=4ã®å ´åˆ</p>

            <h2>ğŸ¯ å‹•çš„ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ï¼ˆDPï¼‰ã®åŸºæœ¬æ¦‚å¿µ</h2>
            <div class="formula">
                dp[i] = dp[i-a] + dp[i-b] (i â‰¥ max(a,b)ã®å ´åˆ)
            </div>

            <div class="step-by-step">
                <h3>ğŸ’¡ DPãƒ†ãƒ¼ãƒ–ãƒ«ã®æ„å‘³</h3>
                <p><code>dp[i]</code> = <span class="highlight">iæ®µç›®ã«åˆ°é”ã™ã‚‹æ–¹æ³•ã®æ•°</span></p>
                <ul>
                    <li><code>dp[0] = 1</code>ï¼š0æ®µç›®ï¼ˆã‚¹ã‚¿ãƒ¼ãƒˆåœ°ç‚¹ï¼‰ã«ã„ã‚‹æ–¹æ³•ã¯1é€šã‚Š</li>
                    <li><code>dp[i]</code>ï¼šiæ®µç›®ã«ã¯ã€(i-a)æ®µç›®ã¾ãŸã¯(i-b)æ®µç›®ã‹ã‚‰æ¥ã‚‹ã“ã¨ãŒã§ãã‚‹</li>
                </ul>
            </div>

            <h2>ğŸ”„ å®Ÿä¾‹ã§ã®å‡¦ç†éç¨‹ï¼ˆn=11, a=3, b=4ï¼‰</h2>

            <h3>ã‚¹ãƒ†ãƒƒãƒ—1: DPãƒ†ãƒ¼ãƒ–ãƒ«ã®åˆæœŸåŒ–</h3>
            <div id="dp-table-init" class="dp-table"></div>

            <h3>ã‚¹ãƒ†ãƒƒãƒ—2: æ®µéšçš„è¨ˆç®—</h3>
            <div id="calculation-steps"></div>

            <h2>ğŸ“Š è¦–è¦šçš„ãªéšæ®µè¡¨ç¾</h2>
            <div id="visual-stairs" class="visual-stair"></div>

            <h2>ğŸ’» ã‚³ãƒ¼ãƒ‰è§£æ</h2>
            <div class="code-block">
                <pre><code>// åˆæœŸåŒ–ãƒ•ã‚§ãƒ¼ã‚º
const dp = new Array(n + 1).fill(0);  // O(n) ç©ºé–“
dp[0] = 1;  // ãƒ™ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹

// è¨ˆç®—ãƒ•ã‚§ãƒ¼ã‚º
for (let i = 1; i <= n; i++) {        // O(n) æ™‚é–“
    if (i >= a) dp[i] += dp[i - a];   // çŠ¶æ…‹é·ç§»1
    if (i >= b) dp[i] += dp[i - b];   // çŠ¶æ…‹é·ç§»2
}</code></pre>
            </div>

            <h2>âš¡ è¨ˆç®—é‡è§£æ</h2>
            <div class="complexity-analysis">
                <div class="complexity-box">
                    <h3>â±ï¸ æ™‚é–“è¨ˆç®—é‡</h3>
                    <p><strong>O(n)</strong></p>
                    <p>å„æ®µã‚’1å›ãšã¤è¨ˆç®—</p>
                </div>
                <div class="complexity-box">
                    <h3>ğŸ’¾ ç©ºé–“è¨ˆç®—é‡</h3>
                    <p><strong>O(n)</strong></p>
                    <p>DPãƒ†ãƒ¼ãƒ–ãƒ«ã®ã‚µã‚¤ã‚º</p>
                </div>
            </div>

            <h2>ğŸ® ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãƒ‡ãƒ¢</h2>
            <div class="interactive-demo">
                <p>ç•°ãªã‚‹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã§DPã®å‹•ä½œã‚’ç¢ºèªã—ã‚ˆã†ï¼</p>
                <button onclick="runDemo(7, 2, 3)">n=7, a=2, b=3</button>
                <button onclick="runDemo(10, 1, 4)">n=10, a=1, b=4</button>
                <button onclick="runDemo(8, 3, 5)">n=8, a=3, b=5</button>
                <div id="demo-result"></div>
            </div>

            <h2>ğŸ” é‡è¦ãªãƒã‚¤ãƒ³ãƒˆ</h2>
            <div class="calculation-step">
                <h4>âœ… ãªãœDPãŒåŠ¹ç‡çš„ãªã®ã‹ï¼Ÿ</h4>
                <ul>
                    <li><strong>é‡è¤‡ã™ã‚‹éƒ¨åˆ†å•é¡Œ</strong>ï¼šåŒã˜æ®µã¸ã®åˆ°é”æ–¹æ³•ã‚’ä½•åº¦ã‚‚è¨ˆç®—ã™ã‚‹å¿…è¦ãŒã‚ã‚‹</li>
                    <li><strong>æœ€é©éƒ¨åˆ†æ§‹é€ </strong>ï¼šiæ®µã¸ã®æœ€é©è§£ã¯ã€(i-a)æ®µã¨(i-b)æ®µã®æœ€é©è§£ã‹ã‚‰æ§‹æˆã•ã‚Œã‚‹</li>
                    <li><strong>ãƒ¡ãƒ¢åŒ–</strong>ï¼šä¸€åº¦è¨ˆç®—ã—ãŸçµæœã‚’ä¿å­˜ã—ã¦å†åˆ©ç”¨</li>
                </ul>
            </div>

            <div class="calculation-step">
                <h4>âš ï¸ æ³¨æ„ã™ã¹ãã‚±ãƒ¼ã‚¹</h4>
                <ul>
                    <li><strong>ç­”ãˆãŒ0ã«ãªã‚‹å ´åˆ</strong>ï¼šn=4, a=3, b=5 â†’ ã©ã†çµ„ã¿åˆã‚ã›ã¦ã‚‚4æ®µã«ãªã‚‰ãªã„</li>
                    <li><strong>å¢ƒç•Œæ¡ä»¶</strong>ï¼ši < a ã¾ãŸã¯ i < b ã®å ´åˆã¯åŠ ç®—ã—ãªã„</li>
                </ul>
            </div>
        </div>

        <script>
            // DPãƒ†ãƒ¼ãƒ–ãƒ«ã®åˆæœŸåŒ–è¡¨ç¤º
            function initializeDPTable() {
                const container = document.getElementById('dp-table-init');
                container.innerHTML = '';

                for (let i = 0; i <= 11; i++) {
                    const cell = document.createElement('div');
                    cell.className = 'dp-cell';
                    cell.innerHTML = `<div class="cell-index">dp[${i}]</div><div class="cell-value">${i === 0 ? '1' : '0'}</div>`;
                    if (i === 0) cell.style.background = 'linear-gradient(135deg, #00b894, #00cec9)';
                    container.appendChild(cell);
                }
            }

            // è¨ˆç®—ã‚¹ãƒ†ãƒƒãƒ—ã®è¡¨ç¤º
            function showCalculationSteps() {
                const container = document.getElementById('calculation-steps');
                const n = 11, a = 3, b = 4;
                const dp = new Array(n + 1).fill(0);
                dp[0] = 1;

                let stepsHTML = '';

                for (let i = 1; i <= n; i++) {
                    let stepHTML = `<div class="calculation-step">`;
                    stepHTML += `<h4>æ®µæ•° ${i} ã®è¨ˆç®—</h4>`;
                    stepHTML += `<p><strong>dp[${i}] = `;

                    let parts = [];
                    if (i >= a) {
                        dp[i] += dp[i - a];
                        parts.push(`dp[${i - a}] (=${dp[i - a]})`);
                    }
                    if (i >= b) {
                        dp[i] += dp[i - b];
                        parts.push(`dp[${i - b}] (=${dp[i - b]})`);
                    }

                    if (parts.length === 0) {
                        stepHTML += `0</strong> ï¼ˆã©ã®æ®µã‹ã‚‰ã‚‚åˆ°é”ä¸å¯ï¼‰</p>`;
                    } else {
                        stepHTML += parts.join(' + ') + ` = ${dp[i]}</strong></p>`;
                    }

                    stepHTML += `<div class="dp-table">`;
                    for (let j = 0; j <= n; j++) {
                        const cellValue = j <= i ? (j === 0 ? 1 : dp[j] || 0) : '?';
                        const isCurrently = j === i ? 'background: linear-gradient(135deg, #e17055, #d63031);' :
                            j < i ? 'background: linear-gradient(135deg, #00b894, #00cec9);' : '';
                        stepHTML += `<div class="dp-cell" style="${isCurrently}">
                        <div class="cell-index">dp[${j}]</div>
                        <div class="cell-value">${cellValue}</div>
                    </div>`;
                    }
                    stepHTML += `</div></div>`;

                    stepsHTML += stepHTML;
                }

                container.innerHTML = stepsHTML;
            }

            // è¦–è¦šçš„éšæ®µã®è¡¨ç¤º
            function showVisualStairs() {
                const container = document.getElementById('visual-stairs');
                container.innerHTML = '';

                for (let i = 0; i <= 11; i++) {
                    const step = document.createElement('div');
                    step.className = 'stair-step';
                    step.style.width = '30px';
                    step.style.height = `${15 + i * 12}px`;
                    step.textContent = i;
                    step.title = `æ®µæ•°: ${i}`;
                    container.appendChild(step);
                }
            }

            // ãƒ‡ãƒ¢å®Ÿè¡Œé–¢æ•°
            function runDemo(n, a, b) {
                const dp = new Array(n + 1).fill(0);
                dp[0] = 1;

                for (let i = 1; i <= n; i++) {
                    if (i >= a) dp[i] += dp[i - a];
                    if (i >= b) dp[i] += dp[i - b];
                }

                let resultHTML = `<div style="margin-top: 20px; padding: 20px; background: white; border-radius: 10px; box-shadow: 0 3px 10px rgba(0,0,0,0.1);">`;
                resultHTML += `<h4>ğŸ¯ çµæœ: n=${n}, a=${a}, b=${b}</h4>`;
                resultHTML += `<p><strong>ç­”ãˆ: ${dp[n]}é€šã‚Š</strong></p>`;
                resultHTML += `<div class="dp-table">`;

                for (let i = 0; i <= n; i++) {
                    resultHTML += `<div class="dp-cell" style="background: linear-gradient(135deg, #a29bfe, #6c5ce7);">
                    <div class="cell-index">dp[${i}]</div>
                    <div class="cell-value">${dp[i]}</div>
                </div>`;
                }

                resultHTML += `</div></div>`;
                document.getElementById('demo-result').innerHTML = resultHTML;
            }

            // åˆæœŸåŒ–
            window.onload = function () {
                initializeDPTable();
                showCalculationSteps();
                showVisualStairs();
            };
        </script>
    </body>

</html>