<!doctype html>
<html lang="ja">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Robot Unique Paths - æŠ€è¡“è§£èª¬</title>
        <script src="/vendor/tailwindcss/script.js"></script>
        <link
            href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css"
            rel="stylesheet"
        />
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
        <link
            href="/vendor/prismjs/plugins/line-numbers/prism-line-numbers.css"
            rel="stylesheet"
        />

        <style>
            /* ã‚«ã‚¹ã‚¿ãƒ CSS - Tailwindã‚¯ãƒ©ã‚¹ã®çµ±åˆ */
            .hero-section {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                padding: 80px 0;
                text-align: center;
            }

            .section-container {
                max-width: 1200px;
                margin: 0 auto;
                padding: 0 24px;
            }

            .card-container {
                background: white;
                border-radius: 12px;
                box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
                padding: 32px;
                margin-bottom: 32px;
                border-left: 4px solid #667eea;
                transition: all 0.3s ease;
            }

            .card-container:hover {
                transform: translateY(-4px);
                box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
            }

            .algorithm-step {
                background: #f8fafc;
                border: 2px solid #e2e8f0;
                border-radius: 8px;
                padding: 20px;
                margin: 16px 0;
                transition: all 0.3s ease;
            }

            .algorithm-step:hover {
                border-color: #667eea;
                background: #f1f5f9;
            }

            .grid-cell {
                width: 48px;
                height: 48px;
                border: 2px solid #cbd5e0;
                display: flex;
                align-items: center;
                justify-content: center;
                font-weight: bold;
                font-size: 14px;
                transition: all 0.3s ease;
                position: relative;
            }

            .grid-cell.start {
                background: #10b981;
                color: white;
                border-color: #059669;
            }

            .grid-cell.end {
                background: #ef4444;
                color: white;
                border-color: #dc2626;
            }

            .grid-cell.path {
                background: #3b82f6;
                color: white;
                border-color: #2563eb;
            }

            .grid-cell.highlighted {
                background: #fbbf24;
                color: #92400e;
                border-color: #f59e0b;
                animation: pulse 1s infinite;
            }

            @keyframes pulse {
                0%,
                100% {
                    opacity: 1;
                }
                50% {
                    opacity: 0.7;
                }
            }

            @keyframes fadeInUp {
                from {
                    opacity: 0;
                    transform: translateY(30px);
                }
                to {
                    opacity: 1;
                    transform: translateY(0);
                }
            }

            .fade-in-up {
                animation: fadeInUp 0.8s ease-out forwards;
            }

            /* ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã®æœ€é©åŒ– */
            pre,
            code {
                font-family:
                    'Courier New', Consolas, 'Liberation Mono', Menlo, monospace !important;
                white-space: pre !important;
                overflow-x: auto;
                line-height: 1.6;
            }

            pre {
                padding: 20px;
                background: #1a1b26 !important;
                border-radius: 12px;
                position: relative;
                margin: 20px 0;
            }

            .line-numbers {
                counter-reset: linenumber;
            }

            .line-numbers .line-numbers-rows {
                position: absolute;
                pointer-events: none;
                top: 20px;
                left: 0;
                width: 3em;
                letter-spacing: -1px;
                border-right: 1px solid #363b54;
                user-select: none;
            }

            .line-numbers .line-numbers-rows > span {
                pointer-events: none;
                display: block;
                counter-increment: linenumber;
            }

            .line-numbers .line-numbers-rows > span:before {
                content: counter(linenumber);
                color: #6272a4;
                display: block;
                padding-right: 0.8em;
                text-align: right;
            }

            .copy-button {
                position: absolute;
                top: 12px;
                right: 12px;
                background: #44475a;
                color: #f8f8f2;
                border: none;
                border-radius: 6px;
                padding: 8px 12px;
                font-size: 12px;
                cursor: pointer;
                transition: all 0.2s ease;
            }

            .copy-button:hover {
                background: #6272a4;
            }

            .tab-button {
                background: #e2e8f0;
                border: none;
                padding: 12px 24px;
                margin-right: 4px;
                border-radius: 8px 8px 0 0;
                cursor: pointer;
                font-weight: 600;
                transition: all 0.3s ease;
            }

            .tab-button.active {
                background: #667eea;
                color: white;
            }

            .tab-content {
                display: none;
            }

            .tab-content.active {
                display: block;
            }

            .complexity-badge {
                display: inline-block;
                padding: 6px 12px;
                border-radius: 20px;
                font-size: 14px;
                font-weight: 600;
                margin: 4px;
            }

            .time-complexity {
                background: #dcfce7;
                color: #166534;
            }

            .space-complexity {
                background: #dbeafe;
                color: #1d4ed8;
            }

            .visualization-controls {
                display: flex;
                gap: 12px;
                align-items: center;
                margin-bottom: 20px;
                padding: 16px;
                background: #f1f5f9;
                border-radius: 8px;
            }

            .control-button {
                background: #667eea;
                color: white;
                border: none;
                border-radius: 6px;
                padding: 10px 16px;
                cursor: pointer;
                font-weight: 600;
                transition: all 0.3s ease;
            }

            .control-button:hover {
                background: #5a67d8;
                transform: translateY(-2px);
            }

            .control-button:disabled {
                background: #cbd5e0;
                color: #6b7280;
                cursor: not-allowed;
                transform: none;
            }

            .formula-display {
                background: #1a202c;
                color: #e2e8f0;
                padding: 24px;
                border-radius: 12px;
                font-family: 'Times New Roman', serif;
                font-size: 18px;
                text-align: center;
                margin: 20px 0;
                position: relative;
            }

            .formula-display::before {
                content: 'æ•°å¼';
                position: absolute;
                top: -12px;
                left: 20px;
                background: #1a202c;
                padding: 0 8px;
                font-size: 12px;
                color: #9ca3af;
            }
        </style>
    </head>

    <body class="bg-gray-50 font-sans">
        <!-- ãƒ˜ãƒ­ãƒ¼ ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
        <header class="hero-section">
            <div class="section-container">
                <h1 class="text-5xl font-bold mb-6 fade-in-up">Robot Unique Paths</h1>
                <p class="text-xl mb-8 fade-in-up" style="animation-delay: 0.2s">
                    å‹•çš„ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã¨æ•°å­¦çš„è§£æ³•ã«ã‚ˆã‚‹çµŒè·¯æ•°è¨ˆç®—ã®æŠ€è¡“è§£èª¬
                </p>
                <div class="complexity-badge time-complexity">æ™‚é–“è¨ˆç®—é‡: O(1)</div>
                <div class="complexity-badge space-complexity">ç©ºé–“è¨ˆç®—é‡: O(1)</div>
            </div>
        </header>

        <main class="section-container py-12">
            <!-- å•é¡Œæ¦‚è¦ -->
            <section class="card-container fade-in-up">
                <h2 class="text-3xl font-bold text-gray-800 mb-6">ğŸ“‹ å•é¡Œæ¦‚è¦</h2>
                <div class="grid md:grid-cols-2 gap-8">
                    <div>
                        <p class="text-gray-700 leading-relaxed mb-4">
                            ãƒ­ãƒœãƒƒãƒˆãŒmÃ—nã‚°ãƒªãƒƒãƒ‰ã®å·¦ä¸Šè§’(0,0)ã‹ã‚‰å³ä¸‹è§’(m-1,n-1)ã«ç§»å‹•ã™ã‚‹éš›ã®ã€
                            <strong>ä¸€æ„ãªçµŒè·¯æ•°</strong>ã‚’è¨ˆç®—ã™ã‚‹å•é¡Œã§ã™ã€‚
                        </p>
                        <ul class="list-disc list-inside text-gray-700 space-y-2">
                            <li>ãƒ­ãƒœãƒƒãƒˆã¯å³ã¾ãŸã¯ä¸‹ã«ã®ã¿ç§»å‹•å¯èƒ½</li>
                            <li>åˆ¶ç´„: 1 â‰¤ m, n â‰¤ 100</li>
                            <li>çµæœã¯ 2 Ã— 10â¹ ä»¥ä¸‹ãŒä¿è¨¼</li>
                        </ul>
                    </div>
                    <div id="problemGrid" class="flex justify-center items-center">
                        <!-- ã‚°ãƒªãƒƒãƒ‰è¡¨ç¤ºã‚¨ãƒªã‚¢ -->
                    </div>
                </div>
            </section>

            <!-- ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ é¸æŠã‚¿ãƒ– -->
            <section class="card-container">
                <div class="mb-6">
                    <button class="tab-button active" onclick="switchTab(event, 'mathematical')">
                        æ•°å­¦çš„è§£æ³•
                    </button>
                    <button class="tab-button" onclick="switchTab(event, 'dp1d')">1æ¬¡å…ƒDP</button>
                    <button class="tab-button" onclick="switchTab(event, 'dp2d')">2æ¬¡å…ƒDP</button>
                    <button class="tab-button" onclick="switchTab(event, 'comparison')">
                        æ¯”è¼ƒåˆ†æ
                    </button>
                </div>

                <!-- æ•°å­¦çš„è§£æ³•ã‚¿ãƒ– -->
                <div id="mathematical" class="tab-content active">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">ğŸ§® æ•°å­¦çš„è§£æ³• (æœ€é©è§£)</h2>

                    <div class="algorithm-step">
                        <h3 class="text-xl font-semibold mb-4">ğŸ’¡ æ ¸å¿ƒã‚¢ã‚¤ãƒ‡ã‚¢</h3>
                        <p class="text-gray-700 mb-4">
                            ã“ã®å•é¡Œã¯<strong>çµ„ã¿åˆã‚ã›æ•°å­¦</strong>ã®å•é¡Œã¨ã—ã¦è§£ã‘ã¾ã™ã€‚
                            ãƒ­ãƒœãƒƒãƒˆã¯åˆè¨ˆ <code>(m-1) + (n-1) = m+n-2</code> å›ç§»å‹•ã—ã€
                            ãã®ã†ã¡å³ã« <code>n-1</code> å›ã€ä¸‹ã« <code>m-1</code> å›ç§»å‹•ã—ã¾ã™ã€‚
                        </p>

                        <div class="formula-display">C(m+n-2, min(m-1, n-1))</div>

                        <p class="text-gray-700">
                            ã“ã‚Œã¯ã€Œm+n-2å›ã®ç§»å‹•ã®ã†ã¡ã€å³ç§»å‹•ï¼ˆã¾ãŸã¯ä¸‹ç§»å‹•ï¼‰ã®å›æ•°ã‚’é¸ã¶çµ„ã¿åˆã‚ã›ã€ã¨ã—ã¦è¡¨ç¾ã§ãã¾ã™ã€‚
                        </p>
                    </div>

                    <div class="algorithm-step">
                        <h3 class="text-xl font-semibold mb-4">âš¡ å®Ÿè£…ã‚³ãƒ¼ãƒ‰</h3>
                        <pre class="line-numbers"><code class="language-python">import math

class Solution:
    def uniquePaths(self, m: int, n: int) -> int:
        """
        æ•°å­¦çš„è§£æ³•ã«ã‚ˆã‚‹çµŒè·¯æ•°è¨ˆç®—
        Time: O(1), Space: O(1)
        """
        # çµ„ã¿åˆã‚ã›æ•° C(m+n-2, min(m-1, n-1))
        total_moves = m + n - 2
        right_moves = n - 1
        down_moves = m - 1
        
        # math.comb()ã¯Python 3.8+ã®Cå®Ÿè£…ã§é«˜é€Ÿ
        return math.comb(total_moves, min(right_moves, down_moves))
    
    def uniquePathsManual(self, m: int, n: int) -> int:
        """
        æ‰‹å‹•å®Ÿè£…ç‰ˆï¼ˆPython 3.7ä»¥ä¸‹å¯¾å¿œï¼‰
        """
        total_moves = m + n - 2
        k = min(m - 1, n - 1)
        
        result = 1
        for i in range(k):
            result = result * (total_moves - i) // (i + 1)
        
        return result</code><button class="copy-button" onclick="copyCode(this)">Copy</button></pre>
                    </div>

                    <div class="algorithm-step">
                        <h3 class="text-xl font-semibold mb-4">ğŸ“Š è¨ˆç®—ä¾‹: m=3, n=7</h3>
                        <div class="grid md:grid-cols-2 gap-6">
                            <div>
                                <h4 class="font-semibold mb-2">è¨ˆç®—éç¨‹:</h4>
                                <div class="bg-gray-100 p-4 rounded-lg font-mono text-sm">
                                    <div>ç·ç§»å‹•å›æ•°: 3+7-2 = 8</div>
                                    <div>å³ç§»å‹•å›æ•°: 7-1 = 6</div>
                                    <div>ä¸‹ç§»å‹•å›æ•°: 3-1 = 2</div>
                                    <div class="mt-2 text-blue-600">C(8, 2) = 8!/(2!Ã—6!) = 28</div>
                                </div>
                            </div>
                            <div id="mathVisualization">
                                <!-- æ•°å­¦çš„å¯è¦–åŒ– -->
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 1æ¬¡å…ƒDP ã‚¿ãƒ– -->
                <div id="dp1d" class="tab-content">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">
                        ğŸ“ˆ 1æ¬¡å…ƒå‹•çš„ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°
                    </h2>

                    <div class="algorithm-step">
                        <h3 class="text-xl font-semibold mb-4">ğŸ’¡ æ ¸å¿ƒã‚¢ã‚¤ãƒ‡ã‚¢</h3>
                        <p class="text-gray-700 mb-4">
                            2æ¬¡å…ƒDPã®ç©ºé–“è¨ˆç®—é‡ã‚’æœ€é©åŒ–ã—ã€<strong>O(min(m,n))</strong>ã¾ã§å‰Šæ¸›ã€‚
                            å‰ã®è¡Œã®æƒ…å ±ã®ã¿ã‚’ä¿æŒã™ã‚‹ã“ã¨ã§å®Ÿç¾ã—ã¾ã™ã€‚
                        </p>
                    </div>

                    <div class="algorithm-step">
                        <h3 class="text-xl font-semibold mb-4">âš¡ å®Ÿè£…ã‚³ãƒ¼ãƒ‰</h3>
                        <pre
                            class="line-numbers"
                        ><code class="language-python">def uniquePathsDP1D(self, m: int, n: int) -> int:
    """
    1æ¬¡å…ƒDPã«ã‚ˆã‚‹å®Ÿè£…
    Time: O(mÃ—n), Space: O(min(m,n))
    """
    # ãƒ¡ãƒ¢ãƒªåŠ¹ç‡åŒ–: å°ã•ã„æ–¹ã®æ¬¡å…ƒã§é…åˆ—ä½œæˆ
    cols = min(m, n)
    rows = max(m, n)
    
    # DPãƒ†ãƒ¼ãƒ–ãƒ«åˆæœŸåŒ–
    dp = [1] * cols
    
    # å„è¡Œã‚’å‡¦ç†
    for i in range(1, rows):
        for j in range(1, cols):
            # dp[j] = ä¸Šã‹ã‚‰ + å·¦ã‹ã‚‰
            dp[j] += dp[j - 1]
    
    return dp[cols - 1]</code><button class="copy-button" onclick="copyCode(this)">Copy</button></pre>
                    </div>

                    <div class="algorithm-step">
                        <h3 class="text-xl font-semibold mb-4">ğŸ¯ å¯è¦–åŒ–ãƒ‡ãƒ¢</h3>
                        <div class="visualization-controls">
                            <button class="control-button" onclick="startDP1DAnimation()">
                                ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³é–‹å§‹
                            </button>
                            <button class="control-button" onclick="resetDP1DAnimation()">
                                ãƒªã‚»ãƒƒãƒˆ
                            </button>
                            <span class="text-gray-700"
                                >ã‚¹ãƒ†ãƒƒãƒ—: <span id="dp1dStep">0</span></span
                            >
                        </div>
                        <div id="dp1dVisualization" class="bg-white p-6 rounded-lg border">
                            <!-- 1æ¬¡å…ƒDPå¯è¦–åŒ–ã‚¨ãƒªã‚¢ -->
                        </div>
                    </div>
                </div>

                <!-- 2æ¬¡å…ƒDP ã‚¿ãƒ– -->
                <div id="dp2d" class="tab-content">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">
                        ğŸ“‹ 2æ¬¡å…ƒå‹•çš„ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°
                    </h2>

                    <div class="algorithm-step">
                        <h3 class="text-xl font-semibold mb-4">ğŸ’¡ æ ¸å¿ƒã‚¢ã‚¤ãƒ‡ã‚¢</h3>
                        <p class="text-gray-700 mb-4">
                            æœ€ã‚‚ç›´æ„Ÿçš„ãªè§£æ³•ã€‚å„ã‚»ãƒ«(i,j)ã¸ã®çµŒè·¯æ•°ã¯ã€
                            <code>dp[i][j] = dp[i-1][j] + dp[i][j-1]</code> ã§è¨ˆç®—ã€‚
                        </p>
                    </div>

                    <div class="algorithm-step">
                        <h3 class="text-xl font-semibold mb-4">âš¡ å®Ÿè£…ã‚³ãƒ¼ãƒ‰</h3>
                        <pre
                            class="line-numbers"
                        ><code class="language-python">def uniquePaths2D(self, m: int, n: int) -> int:
    """
    2æ¬¡å…ƒDPã«ã‚ˆã‚‹å®Ÿè£…
    Time: O(mÃ—n), Space: O(mÃ—n)
    """
    # 2æ¬¡å…ƒDPãƒ†ãƒ¼ãƒ–ãƒ«åˆæœŸåŒ–
    dp = [[0] * n for _ in range(m)]
    
    # åˆæœŸåŒ–: æœ€åˆã®è¡Œã¨åˆ—ã¯å…¨ã¦1
    for i in range(m):
        dp[i][0] = 1
    for j in range(n):
        dp[0][j] = 1
    
    # DPãƒ†ãƒ¼ãƒ–ãƒ«æ›´æ–°
    for i in range(1, m):
        for j in range(1, n):
            dp[i][j] = dp[i-1][j] + dp[i][j-1]
    
    return dp[m-1][n-1]</code><button class="copy-button" onclick="copyCode(this)">Copy</button></pre>
                    </div>

                    <div class="algorithm-step">
                        <h3 class="text-xl font-semibold mb-4">ğŸ¯ å¯è¦–åŒ–ãƒ‡ãƒ¢</h3>
                        <div class="visualization-controls">
                            <button class="control-button" onclick="startDP2DAnimation()">
                                ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³é–‹å§‹
                            </button>
                            <button class="control-button" onclick="resetDP2DAnimation()">
                                ãƒªã‚»ãƒƒãƒˆ
                            </button>
                            <span class="text-gray-700"
                                >ã‚¹ãƒ†ãƒƒãƒ—: <span id="dp2dStep">0</span></span
                            >
                        </div>
                        <div id="dp2dVisualization" class="bg-white p-6 rounded-lg border">
                            <!-- 2æ¬¡å…ƒDPå¯è¦–åŒ–ã‚¨ãƒªã‚¢ -->
                        </div>
                    </div>
                </div>

                <!-- æ¯”è¼ƒåˆ†æã‚¿ãƒ– -->
                <div id="comparison" class="tab-content">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6">ğŸ“Š ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ æ¯”è¼ƒåˆ†æ</h2>

                    <div class="algorithm-step">
                        <h3 class="text-xl font-semibold mb-4">âš–ï¸ è¨ˆç®—é‡æ¯”è¼ƒ</h3>
                        <div class="overflow-x-auto">
                            <table class="w-full border-collapse border border-gray-300">
                                <thead>
                                    <tr class="bg-gray-100">
                                        <th class="border border-gray-300 px-4 py-2">è§£æ³•</th>
                                        <th class="border border-gray-300 px-4 py-2">æ™‚é–“è¨ˆç®—é‡</th>
                                        <th class="border border-gray-300 px-4 py-2">ç©ºé–“è¨ˆç®—é‡</th>
                                        <th class="border border-gray-300 px-4 py-2">å¯èª­æ€§</th>
                                        <th class="border border-gray-300 px-4 py-2">å®Ÿè£…é›£æ˜“åº¦</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td class="border border-gray-300 px-4 py-2 font-semibold">
                                            æ•°å­¦çš„è§£æ³•
                                        </td>
                                        <td class="border border-gray-300 px-4 py-2 text-green-600">
                                            O(1)
                                        </td>
                                        <td class="border border-gray-300 px-4 py-2 text-green-600">
                                            O(1)
                                        </td>
                                        <td class="border border-gray-300 px-4 py-2">é«˜</td>
                                        <td class="border border-gray-300 px-4 py-2">ä½</td>
                                    </tr>
                                    <tr>
                                        <td class="border border-gray-300 px-4 py-2 font-semibold">
                                            1æ¬¡å…ƒDP
                                        </td>
                                        <td
                                            class="border border-gray-300 px-4 py-2 text-yellow-600"
                                        >
                                            O(mÃ—n)
                                        </td>
                                        <td class="border border-gray-300 px-4 py-2 text-blue-600">
                                            O(min(m,n))
                                        </td>
                                        <td class="border border-gray-300 px-4 py-2">ä¸­</td>
                                        <td class="border border-gray-300 px-4 py-2">ä¸­</td>
                                    </tr>
                                    <tr>
                                        <td class="border border-gray-300 px-4 py-2 font-semibold">
                                            2æ¬¡å…ƒDP
                                        </td>
                                        <td
                                            class="border border-gray-300 px-4 py-2 text-yellow-600"
                                        >
                                            O(mÃ—n)
                                        </td>
                                        <td class="border border-gray-300 px-4 py-2 text-red-600">
                                            O(mÃ—n)
                                        </td>
                                        <td class="border border-gray-300 px-4 py-2">æœ€é«˜</td>
                                        <td class="border border-gray-300 px-4 py-2">ä½</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div class="algorithm-step">
                        <h3 class="text-xl font-semibold mb-4">ğŸš€ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ</h3>
                        <div class="visualization-controls">
                            <button class="control-button" onclick="runPerformanceTest()">
                                ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
                            </button>
                            <button class="control-button" onclick="clearResults()">
                                çµæœã‚¯ãƒªã‚¢
                            </button>
                        </div>
                        <div id="performanceResults" class="bg-gray-50 p-4 rounded-lg min-h-32">
                            <p class="text-gray-500">ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„</p>
                        </div>
                    </div>

                    <div class="algorithm-step">
                        <h3 class="text-xl font-semibold mb-4">ğŸ’¡ é¸æŠæŒ‡é‡</h3>
                        <div class="grid md:grid-cols-3 gap-4">
                            <div class="bg-green-50 border border-green-200 rounded-lg p-4">
                                <h4 class="font-semibold text-green-800 mb-2">æ•°å­¦çš„è§£æ³• æ¨å¥¨</h4>
                                <ul class="text-sm text-green-700 list-disc list-inside space-y-1">
                                    <li>ç«¶æŠ€ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°</li>
                                    <li>é«˜é€Ÿå‡¦ç†ãŒå¿…è¦</li>
                                    <li>ãƒ¡ãƒ¢ãƒªåˆ¶ç´„ãŒå³ã—ã„</li>
                                </ul>
                            </div>
                            <div class="bg-blue-50 border border-blue-200 rounded-lg p-4">
                                <h4 class="font-semibold text-blue-800 mb-2">1æ¬¡å…ƒDP æ¨å¥¨</h4>
                                <ul class="text-sm text-blue-700 list-disc list-inside space-y-1">
                                    <li>ãƒ¡ãƒ¢ãƒªåŠ¹ç‡é‡è¦–</li>
                                    <li>DPã®å­¦ç¿’ç›®çš„</li>
                                    <li>æ‹¡å¼µæ€§ãŒå¿…è¦</li>
                                </ul>
                            </div>
                            <div class="bg-purple-50 border border-purple-200 rounded-lg p-4">
                                <h4 class="font-semibold text-purple-800 mb-2">2æ¬¡å…ƒDP æ¨å¥¨</h4>
                                <ul class="text-sm text-purple-700 list-disc list-inside space-y-1">
                                    <li>æ•™è‚²ãƒ»å­¦ç¿’ç›®çš„</li>
                                    <li>å¯èª­æ€§æœ€å„ªå…ˆ</li>
                                    <li>ãƒ‡ãƒãƒƒã‚°ãŒå¿…è¦</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- ã¾ã¨ã‚ -->
            <section class="card-container">
                <h2 class="text-3xl font-bold text-gray-800 mb-6">ğŸ¯ ã¾ã¨ã‚</h2>
                <div class="grid md:grid-cols-2 gap-8">
                    <div>
                        <h3 class="text-xl font-semibold mb-4">ğŸ“ˆ å­¦ç¿’ãƒã‚¤ãƒ³ãƒˆ</h3>
                        <ul class="list-disc list-inside text-gray-700 space-y-2">
                            <li>
                                <strong>å•é¡Œã®æŠ½è±¡åŒ–</strong>: æ ¼å­çµŒè·¯å•é¡Œã‚’çµ„ã¿åˆã‚ã›æ•°å­¦ã§è§£ã
                            </li>
                            <li><strong>ç©ºé–“è¨ˆç®—é‡æœ€é©åŒ–</strong>: 2æ¬¡å…ƒâ†’1æ¬¡å…ƒDPã¸ã®å¤‰æ›</li>
                            <li><strong>æ•°å­¦çš„æ´å¯Ÿ</strong>: å‹•çš„ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã‚’æ•°å¼ã§ç½®ãæ›ãˆ</li>
                            <li><strong>å®Ÿè£…é¸æŠ</strong>: ç”¨é€”ã«å¿œã˜ãŸæœ€é©è§£æ³•ã®é¸æŠ</li>
                        </ul>
                    </div>
                    <div>
                        <h3 class="text-xl font-semibold mb-4">ğŸ”§ å®Ÿè£…ã®ã‚³ãƒ„</h3>
                        <ul class="list-disc list-inside text-gray-700 space-y-2">
                            <li><strong>å¢ƒç•Œæ¡ä»¶</strong>: æœ€åˆã®è¡Œãƒ»åˆ—ã®åˆæœŸåŒ–</li>
                            <li><strong>ã‚ªãƒ¼ãƒãƒ¼ãƒ•ãƒ­ãƒ¼å¯¾ç­–</strong>: æ•´æ•°æ¼”ç®—ã®é †åºã«æ³¨æ„</li>
                            <li><strong>ãƒ¡ãƒ¢ãƒªæœ€é©åŒ–</strong>: å¿…è¦æœ€å°é™ã®ãƒ‡ãƒ¼ã‚¿æ§‹é€ ä½¿ç”¨</li>
                            <li><strong>å‹å®‰å…¨æ€§</strong>: é©åˆ‡ãªå‹ãƒ’ãƒ³ãƒˆã®æ´»ç”¨</li>
                        </ul>
                    </div>
                </div>
            </section>
        </main>

        <footer class="bg-gray-800 text-white text-center py-8">
            <div class="section-container">
                <p>&copy; 2024 Robot Unique Paths Technical Guide. All rights reserved.</p>
            </div>
        </footer>

        <script>
            // ========== ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•° ==========
            let dp1dAnimationInterval = null;
            let dp2dAnimationInterval = null;
            let currentDP1DStep = 0;
            let currentDP2DStep = 0;
            const ANIMATION_SPEED = 800; // ms

            // ========== ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•° ==========

            /**
             * è¦ç´ ä½œæˆã®ãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•°
             */
            function createElement(tag, className = '', content = '') {
                const element = document.createElement(tag);
                if (className) element.className = className;
                if (content) element.textContent = content;
                return element;
            }

            /**
             * ã‚°ãƒªãƒƒãƒ‰ã‚»ãƒ«ä½œæˆé–¢æ•°
             */
            function createGridCell(value = '', extraClasses = '') {
                const cell = createElement('div', `grid-cell ${extraClasses}`);
                cell.textContent = value;
                return cell;
            }

            // ========== åˆæœŸåŒ–é–¢æ•° ==========

            /**
             * å•é¡Œæ¦‚è¦ã®ã‚°ãƒªãƒƒãƒ‰è¡¨ç¤º
             */
            function initializeProblemGrid() {
                const container = document.getElementById('problemGrid');
                const gridContainer = createElement('div', 'grid grid-cols-4 gap-1');

                // 3x4ã®ã‚µãƒ³ãƒ—ãƒ«ã‚°ãƒªãƒƒãƒ‰ä½œæˆ
                for (let i = 0; i < 3; i++) {
                    for (let j = 0; j < 4; j++) {
                        let extraClasses = '';
                        if (i === 0 && j === 0) extraClasses = 'start';
                        else if (i === 2 && j === 3) extraClasses = 'end';
                        else if (
                            (i === 0 && j <= 3) ||
                            (i === 1 && j === 3) ||
                            (i === 2 && j === 3)
                        ) {
                            extraClasses = 'path';
                        }
                        gridContainer.appendChild(createGridCell('', extraClasses));
                    }
                }

                container.appendChild(gridContainer);

                // èª¬æ˜ãƒ†ã‚­ã‚¹ãƒˆ
                const description = createElement('div', 'text-center mt-4 text-sm text-gray-600');
                description.innerHTML =
                    '<strong>ç·‘:</strong> é–‹å§‹ç‚¹ | <strong>èµ¤:</strong> çµ‚äº†ç‚¹ | <strong>é’:</strong> å¯èƒ½ãªçµŒè·¯';
                container.appendChild(description);
            }

            /**
             * æ•°å­¦çš„è§£æ³•ã®å¯è¦–åŒ–
             */
            function initializeMathVisualization() {
                const container = document.getElementById('mathVisualization');

                const visualDiv = createElement('div', 'text-center');

                // çµ„ã¿åˆã‚ã›ã®è¦–è¦šçš„è¡¨ç¾
                const combinationDisplay = createElement('div', 'bg-blue-50 p-4 rounded-lg');
                combinationDisplay.innerHTML = `
                <div class="text-lg font-semibold mb-2">çµ„ã¿åˆã‚ã›ã®å¯è¦–åŒ–</div>
                <div class="text-sm text-gray-600">
                    8ã¤ã®ç§»å‹•ã®ã†ã¡ã€2ã¤ã®ä¸‹ç§»å‹•ã‚’é¸ã¶
                </div>
                <div class="mt-4 font-mono text-xs">
                    <div>â†’ â†’ â†“ â†’ â†’ â†’ â†“ â†’</div>
                    <div class="mt-1 text-blue-600">å³:6å›, ä¸‹:2å› = 28é€šã‚Š</div>
                </div>
            `;

                visualDiv.appendChild(combinationDisplay);
                container.appendChild(visualDiv);
            }

            // ========== ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆæ©Ÿèƒ½ ==========

            /**
             * ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆé–¢æ•°
             */
            function switchTab(event, tabName) {
                // ã™ã¹ã¦ã®ã‚¿ãƒ–ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’éè¡¨ç¤º
                const tabContents = document.querySelectorAll('.tab-content');
                tabContents.forEach((tab) => tab.classList.remove('active'));

                // ã™ã¹ã¦ã®ã‚¿ãƒ–ãƒœã‚¿ãƒ³ã‚’éã‚¢ã‚¯ãƒ†ã‚£ãƒ–
                const tabButtons = document.querySelectorAll('.tab-button');
                tabButtons.forEach((button) => button.classList.remove('active'));

                // é¸æŠã•ã‚ŒãŸã‚¿ãƒ–ã‚’è¡¨ç¤º
                document.getElementById(tabName).classList.add('active');
                event.target.classList.add('active');

                // ã‚¿ãƒ–å›ºæœ‰ã®åˆæœŸåŒ–
                if (tabName === 'mathematical') {
                    setTimeout(initializeMathVisualization, 100);
                } else if (tabName === 'dp1d') {
                    setTimeout(initializeDP1DVisualization, 100);
                } else if (tabName === 'dp2d') {
                    setTimeout(initializeDP2DVisualization, 100);
                }
            }

            // ========== 1æ¬¡å…ƒDPå¯è¦–åŒ– ==========

            /**
             * 1æ¬¡å…ƒDPå¯è¦–åŒ–ã®åˆæœŸåŒ–
             */
            function initializeDP1DVisualization() {
                const container = document.getElementById('dp1dVisualization');
                if (!container) return;

                container.innerHTML = '';

                const m = 3,
                    n = 4; // ã‚µãƒ³ãƒ—ãƒ«ã‚µã‚¤ã‚º
                const cols = Math.min(m, n);

                // DPãƒ†ãƒ¼ãƒ–ãƒ«è¡¨ç¤º
                const tableContainer = createElement('div', 'mb-6');
                const table = createElement('div', 'inline-block border border-gray-300');

                // ãƒ˜ãƒƒãƒ€ãƒ¼
                const headerRow = createElement('div', 'flex bg-gray-100');
                headerRow.appendChild(
                    createElement(
                        'div',
                        'w-16 h-12 flex items-center justify-center border border-gray-300 font-semibold',
                        'DP[j]',
                    ),
                );
                for (let j = 0; j < cols; j++) {
                    headerRow.appendChild(
                        createElement(
                            'div',
                            'w-16 h-12 flex items-center justify-center border border-gray-300 font-semibold',
                            `j=${j}`,
                        ),
                    );
                }
                table.appendChild(headerRow);

                // ãƒ‡ãƒ¼ã‚¿è¡Œ
                const dataRow = createElement('div', 'flex', 'dp1d-row');
                dataRow.appendChild(
                    createElement(
                        'div',
                        'w-16 h-12 flex items-center justify-center border border-gray-300 bg-blue-50 font-semibold',
                        'å€¤',
                    ),
                );
                for (let j = 0; j < cols; j++) {
                    const cell = createElement(
                        'div',
                        'w-16 h-12 flex items-center justify-center border border-gray-300 bg-white',
                        '1',
                    );
                    cell.id = `dp1d-cell-${j}`;
                    dataRow.appendChild(cell);
                }
                table.appendChild(dataRow);

                tableContainer.appendChild(table);
                container.appendChild(tableContainer);

                // ã‚¹ãƒ†ãƒƒãƒ—èª¬æ˜
                const explanation = createElement('div', 'mt-4 p-4 bg-gray-50 rounded-lg');
                explanation.id = 'dp1d-explanation';
                explanation.textContent = 'åˆæœŸçŠ¶æ…‹: ã™ã¹ã¦ã®å€¤ãŒ1ã§åˆæœŸåŒ–ã•ã‚Œã¦ã„ã¾ã™';
                container.appendChild(explanation);
            }

            // ========== 1æ¬¡å…ƒDPå¯è¦–åŒ– - ä¿®æ­£ç‰ˆ ==========

            /**
             * 1æ¬¡å…ƒDPå¯è¦–åŒ–ã®åˆæœŸåŒ–
             * 2Dã‚°ãƒªãƒƒãƒ‰ã¨1Dé…åˆ—ã®å¯¾å¿œé–¢ä¿‚ã‚’ä¸¦åˆ—è¡¨ç¤º
             */
            function initializeDP1DVisualization() {
                const container = document.getElementById('dp1dVisualization');
                if (!container) return;

                container.innerHTML = '';

                const m = 4,
                    n = 3; // 4è¡Œ3åˆ—ã®ã‚°ãƒªãƒƒãƒ‰
                const cols = Math.min(m, n); // 3åˆ—
                const rows = Math.max(m, n); // 4è¡Œ

                // 2Dã‚°ãƒªãƒƒãƒ‰ã¨1Dé…åˆ—ã®å¯¾å¿œé–¢ä¿‚ã‚’è¡¨ç¤º
                const comparisonContainer = createElement('div', 'grid md:grid-cols-2 gap-8 mb-6');

                // å·¦å´: 2Dã‚°ãƒªãƒƒãƒ‰è¡¨ç¾
                const grid2DContainer = createElement('div', 'text-center');
                const grid2DTitle = createElement('h4', 'font-semibold mb-2', '2Dã‚°ãƒªãƒƒãƒ‰è¡¨ç¾');
                const grid2D = createElement('div', 'inline-block border border-gray-300');

                for (let i = 0; i < m; i++) {
                    const row = createElement('div', 'flex');
                    for (let j = 0; j < n; j++) {
                        let value = '1';
                        let bgClass = 'bg-blue-50';
                        if (i > 0 && j > 0) {
                            value = '?';
                            bgClass = 'bg-gray-100';
                        }
                        const cell = createElement(
                            'div',
                            `w-12 h-12 flex items-center justify-center border border-gray-300 text-xs font-semibold ${bgClass}`,
                            value,
                        );
                        cell.id = `grid2d-cell-${i}-${j}`;
                        row.appendChild(cell);
                    }
                    grid2D.appendChild(row);
                }

                grid2DContainer.appendChild(grid2DTitle);
                grid2DContainer.appendChild(grid2D);

                // å³å´: 1Dé…åˆ—è¡¨ç¾ï¼ˆç¾åœ¨å‡¦ç†ä¸­ã®è¡Œï¼‰
                const dp1DContainer = createElement('div', 'text-center');
                const dp1DTitle = createElement('h4', 'font-semibold mb-2', '1Dé…åˆ—ï¼ˆç¾åœ¨ã®è¡Œï¼‰');
                const dpArray = createElement('div', 'inline-block');

                // è¡Œã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼
                const rowIndicator = createElement(
                    'div',
                    'mb-2 text-sm font-semibold text-blue-600',
                );
                rowIndicator.id = 'current-row-indicator';
                rowIndicator.textContent = 'å‡¦ç†ä¸­ã®è¡Œ: 0';

                // 1Dé…åˆ—è¡¨ç¤º
                const arrayContainer = createElement('div', 'flex border border-gray-300');
                for (let j = 0; j < cols; j++) {
                    const cell = createElement(
                        'div',
                        'w-16 h-16 flex items-center justify-center border border-gray-300 bg-white font-semibold',
                        '1',
                    );
                    cell.id = `dp1d-cell-${j}`;
                    arrayContainer.appendChild(cell);
                }

                dpArray.appendChild(rowIndicator);
                dpArray.appendChild(arrayContainer);
                dp1DContainer.appendChild(dp1DTitle);
                dp1DContainer.appendChild(dpArray);

                comparisonContainer.appendChild(grid2DContainer);
                comparisonContainer.appendChild(dp1DContainer);
                container.appendChild(comparisonContainer);

                // ã‚¹ãƒ†ãƒƒãƒ—èª¬æ˜
                const explanation = createElement('div', 'mt-4 p-4 bg-gray-50 rounded-lg');
                explanation.id = 'dp1d-explanation';
                explanation.innerHTML = `
        <div class="font-semibold mb-2">1æ¬¡å…ƒDPã®ä»•çµ„ã¿:</div>
        <div class="text-sm">
        â€¢ å·¦å´ã¯å®Œå…¨ãª2Dã‚°ãƒªãƒƒãƒ‰ã€å³å´ã¯1Dé…åˆ—ï¼ˆãƒ¡ãƒ¢ãƒªåŠ¹ç‡åŒ–ï¼‰<br>
        â€¢ å„è¡Œã‚’å‡¦ç†ã™ã‚‹éš›ã€å‰ã®è¡Œã®æƒ…å ±ã¯1Dé…åˆ—ã«ä¿å­˜<br>
        â€¢ dp[j] = dp[j] + dp[j-1] ã§æ›´æ–°ï¼ˆä¸Šã‹ã‚‰ + å·¦ã‹ã‚‰ï¼‰
        </div>
    `;
                container.appendChild(explanation);
            }

            /**
             * 1æ¬¡å…ƒDPã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³é–‹å§‹
             * å„è¡Œã‚’é †ç•ªã«å‡¦ç†ã—ã€2Dã¨1Dã®å¯¾å¿œé–¢ä¿‚ã‚’è¡¨ç¤º
             */
            function startDP1DAnimation() {
                if (dp1dAnimationInterval) return;

                resetDP1DAnimation();
                currentDP1DStep = 0;

                const m = 4,
                    n = 3; // 4è¡Œ3åˆ—
                const cols = Math.min(m, n); // 3
                const rows = Math.max(m, n); // 4

                dp1dAnimationInterval = setInterval(() => {
                    const currentRow = Math.floor(currentDP1DStep / (cols - 1)) + 1;
                    const currentCol = (currentDP1DStep % (cols - 1)) + 1;

                    if (currentRow >= rows) {
                        clearInterval(dp1dAnimationInterval);
                        dp1dAnimationInterval = null;
                        updateDP1DExplanation(
                            'ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³å®Œäº†ï¼æœ€çµ‚çµæœ: ' +
                                document.getElementById('dp1d-cell-2').textContent +
                                ' é€šã‚Šã®çµŒè·¯ãŒã‚ã‚Šã¾ã™ã€‚',
                        );
                        return;
                    }

                    // ç¾åœ¨ã®è¡Œã‚’è¡¨ç¤º
                    document.getElementById('current-row-indicator').textContent =
                        `å‡¦ç†ä¸­ã®è¡Œ: ${currentRow}`;

                    animateDP1DStep(currentRow, currentCol, rows, cols);
                    currentDP1DStep++;

                    document.getElementById('dp1dStep').textContent = currentDP1DStep;
                }, ANIMATION_SPEED);
            }

            /**
             * 1æ¬¡å…ƒDPã®1ã‚¹ãƒ†ãƒƒãƒ—ã‚’ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
             * dp[j] = dp[j] + dp[j-1] ã®æ›´æ–°ã‚’è¦–è¦šåŒ–
             */
            function animateDP1DStep(row, col, rows, cols) {
                // 1Dé…åˆ—ã®æ›´æ–°
                const currentCell = document.getElementById(`dp1d-cell-${col}`);
                const leftCell = document.getElementById(`dp1d-cell-${col - 1}`);

                if (!currentCell || !leftCell) return;

                const currentValue = parseInt(currentCell.textContent);
                const leftValue = parseInt(leftCell.textContent);
                const newValue = currentValue + leftValue;

                // 2Dã‚°ãƒªãƒƒãƒ‰ã§ã®å¯¾å¿œä½ç½®ã‚’ãƒã‚¤ãƒ©ã‚¤ãƒˆ
                const grid2DCell = document.getElementById(`grid2d-cell-${row}-${col}`);
                const grid2DTop = document.getElementById(`grid2d-cell-${row - 1}-${col}`);
                const grid2DLeft = document.getElementById(`grid2d-cell-${row}-${col - 1}`);

                // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³åŠ¹æœ
                currentCell.classList.add('highlighted');
                leftCell.classList.add('highlighted');

                if (grid2DCell) grid2DCell.classList.add('highlighted');
                if (grid2DTop) grid2DTop.classList.add('highlighted');
                if (grid2DLeft) grid2DLeft.classList.add('highlighted');

                setTimeout(() => {
                    // 1Dé…åˆ—ã‚’æ›´æ–°
                    currentCell.textContent = newValue;
                    currentCell.style.backgroundColor = '#dcfce7'; // æ›´æ–°ã•ã‚ŒãŸã‚»ãƒ«ã‚’ç·‘è‰²ã«

                    // 2Dã‚°ãƒªãƒƒãƒ‰ã‚’æ›´æ–°
                    if (grid2DCell) {
                        grid2DCell.textContent = newValue;
                        grid2DCell.style.backgroundColor = '#dcfce7';
                    }

                    // ãƒã‚¤ãƒ©ã‚¤ãƒˆã‚’å‰Šé™¤
                    currentCell.classList.remove('highlighted');
                    leftCell.classList.remove('highlighted');
                    if (grid2DCell) grid2DCell.classList.remove('highlighted');
                    if (grid2DTop) grid2DTop.classList.remove('highlighted');
                    if (grid2DLeft) grid2DLeft.classList.remove('highlighted');

                    updateDP1DExplanation(`è¡Œ${row}, åˆ—${col}: dp[${col}] = ${currentValue} + ${leftValue} = ${newValue}<br>
            <small class="text-gray-600">2Dã§ã¯ dp[${row}][${col}] = dp[${row - 1}][${col}] + dp[${row}][${col - 1}] ã¨åŒç­‰</small>`);
                }, ANIMATION_SPEED / 2);
            }

            /**
             * 1æ¬¡å…ƒDPèª¬æ˜æ›´æ–°
             * ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³é€²è¡Œã«å¿œã˜ã¦èª¬æ˜ã‚’æ›´æ–°
             */
            function updateDP1DExplanation(text) {
                const explanation = document.getElementById('dp1d-explanation');
                if (explanation) {
                    explanation.innerHTML = `
            <div class="font-semibold mb-2">1æ¬¡å…ƒDPã®ä»•çµ„ã¿:</div>
            <div class="text-sm mb-3">
            â€¢ å·¦å´ã¯å®Œå…¨ãª2Dã‚°ãƒªãƒƒãƒ‰ã€å³å´ã¯1Dé…åˆ—ï¼ˆãƒ¡ãƒ¢ãƒªåŠ¹ç‡åŒ–ï¼‰<br>
            â€¢ å„è¡Œã‚’å‡¦ç†ã™ã‚‹éš›ã€å‰ã®è¡Œã®æƒ…å ±ã¯1Dé…åˆ—ã«ä¿å­˜<br>
            â€¢ dp[j] = dp[j] + dp[j-1] ã§æ›´æ–°ï¼ˆä¸Šã‹ã‚‰ + å·¦ã‹ã‚‰ï¼‰
            </div>
            <div class="border-t pt-2 text-sm font-medium text-blue-700">${text}</div>
        `;
                }
            }

            /**
             * 1æ¬¡å…ƒDPã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãƒªã‚»ãƒƒãƒˆ
             * åˆæœŸçŠ¶æ…‹ã«æˆ»ã™
             */
            function resetDP1DAnimation() {
                if (dp1dAnimationInterval) {
                    clearInterval(dp1dAnimationInterval);
                    dp1dAnimationInterval = null;
                }
                currentDP1DStep = 0;
                document.getElementById('dp1dStep').textContent = '0';
                initializeDP1DVisualization();
            }

            // ========== ãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•° ==========

            /**
             * è¦ç´ ä½œæˆã®ãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•°
             */
            function createElement(tag, className = '', content = '') {
                const element = document.createElement(tag);
                if (className) element.className = className;
                if (content) element.textContent = content;
                return element;
            }

            // ========== ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•° ==========
            // let dp1dAnimationInterval = null;
            // let currentDP1DStep = 0;
            // const ANIMATION_SPEED = 800; // ms
            // /**
            //  * 1æ¬¡å…ƒDPã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³é–‹å§‹
            //  */
            // function startDP1DAnimation() {
            //     if (dp1dAnimationInterval) return;

            //     resetDP1DAnimation();
            //     currentDP1DStep = 0;

            //     const m = 3, n = 4;
            //     const cols = Math.min(m, n);
            //     const rows = Math.max(m, n);

            //     dp1dAnimationInterval = setInterval(() => {
            //         if (currentDP1DStep >= (rows - 1) * (cols - 1)) {
            //             clearInterval(dp1dAnimationInterval);
            //             dp1dAnimationInterval = null;
            //             updateDP1DExplanation('ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³å®Œäº†ï¼æœ€çµ‚çµæœãŒå³ä¸‹ã«è¡¨ç¤ºã•ã‚Œã¦ã„ã¾ã™ã€‚');
            //             return;
            //         }

            //         const row = Math.floor(currentDP1DStep / (cols - 1)) + 1;
            //         const col = (currentDP1DStep % (cols - 1)) + 1;

            //         animateDP1DStep(row, col, rows, cols);
            //         currentDP1DStep++;

            //         document.getElementById('dp1dStep').textContent = currentDP1DStep;
            //     }, ANIMATION_SPEED);
            // }

            // /**
            //  * 1æ¬¡å…ƒDPã®1ã‚¹ãƒ†ãƒƒãƒ—ã‚’ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
            //  */
            // function animateDP1DStep(row, col, rows, cols) {
            //     // ç¾åœ¨ã®å€¤ã‚’å–å¾—
            //     const currentCell = document.getElementById(`dp1d-cell-${col}`);
            //     const leftCell = document.getElementById(`dp1d-cell-${col-1}`);

            //     if (!currentCell || !leftCell) return;

            //     const currentValue = parseInt(currentCell.textContent);
            //     const leftValue = parseInt(leftCell.textContent);
            //     const newValue = currentValue + leftValue;

            //     // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³åŠ¹æœ
            //     currentCell.classList.add('highlighted');
            //     leftCell.classList.add('highlighted');

            //     setTimeout(() => {
            //         currentCell.textContent = newValue;
            //         currentCell.classList.remove('highlighted');
            //         leftCell.classList.remove('highlighted');

            //         updateDP1DExplanation(`è¡Œ ${row}, åˆ— ${col}: dp[${col}] = ${currentValue} + ${leftValue} = ${newValue}`);
            //     }, ANIMATION_SPEED / 2);
            // }

            // /**
            //  * 1æ¬¡å…ƒDPèª¬æ˜æ›´æ–°
            //  */
            // function updateDP1DExplanation(text) {
            //     const explanation = document.getElementById('dp1d-explanation');
            //     if (explanation) explanation.textContent = text;
            // }

            // /**
            //  * 1æ¬¡å…ƒDPã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãƒªã‚»ãƒƒãƒˆ
            //  */
            // function resetDP1DAnimation() {
            //     if (dp1dAnimationInterval) {
            //         clearInterval(dp1dAnimationInterval);
            //         dp1dAnimationInterval = null;
            //     }
            //     currentDP1DStep = 0;
            //     document.getElementById('dp1dStep').textContent = '0';
            //     initializeDP1DVisualization();
            // }

            // ========== 2æ¬¡å…ƒDPå¯è¦–åŒ– ==========

            /**
             * 2æ¬¡å…ƒDPå¯è¦–åŒ–ã®åˆæœŸåŒ–
             */
            function initializeDP2DVisualization() {
                const container = document.getElementById('dp2dVisualization');
                if (!container) return;

                container.innerHTML = '';

                const m = 3,
                    n = 4; // ã‚µãƒ³ãƒ—ãƒ«ã‚µã‚¤ã‚º

                // ã‚°ãƒªãƒƒãƒ‰ã‚³ãƒ³ãƒ†ãƒŠ
                const gridContainer = createElement('div', 'inline-block border border-gray-300');

                for (let i = 0; i < m; i++) {
                    const row = createElement('div', 'flex');
                    for (let j = 0; j < n; j++) {
                        let value = '0';
                        let extraClasses = 'bg-white';

                        if (i === 0 || j === 0) {
                            value = '1';
                            extraClasses = 'bg-blue-50';
                        }

                        const cell = createElement(
                            'div',
                            `w-16 h-16 flex items-center justify-center border border-gray-300 font-semibold ${extraClasses}`,
                            value,
                        );
                        cell.id = `dp2d-cell-${i}-${j}`;
                        row.appendChild(cell);
                    }
                    gridContainer.appendChild(row);
                }

                container.appendChild(gridContainer);

                // ã‚¹ãƒ†ãƒƒãƒ—èª¬æ˜
                const explanation = createElement('div', 'mt-4 p-4 bg-gray-50 rounded-lg');
                explanation.id = 'dp2d-explanation';
                explanation.textContent = 'åˆæœŸçŠ¶æ…‹: æœ€åˆã®è¡Œã¨åˆ—ãŒ1ã§åˆæœŸåŒ–ã•ã‚Œã¦ã„ã¾ã™';
                container.appendChild(explanation);
            }

            /**
             * 2æ¬¡å…ƒDPã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³é–‹å§‹
             */
            function startDP2DAnimation() {
                if (dp2dAnimationInterval) return;

                resetDP2DAnimation();
                currentDP2DStep = 0;

                const m = 3,
                    n = 4;
                const totalSteps = (m - 1) * (n - 1);

                dp2dAnimationInterval = setInterval(() => {
                    if (currentDP2DStep >= totalSteps) {
                        clearInterval(dp2dAnimationInterval);
                        dp2dAnimationInterval = null;
                        updateDP2DExplanation('ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³å®Œäº†ï¼æœ€çµ‚çµæœã¯å³ä¸‹ã®ã‚»ãƒ«ã§ã™ã€‚');
                        return;
                    }

                    const i = Math.floor(currentDP2DStep / (n - 1)) + 1;
                    const j = (currentDP2DStep % (n - 1)) + 1;

                    animateDP2DStep(i, j);
                    currentDP2DStep++;

                    document.getElementById('dp2dStep').textContent = currentDP2DStep;
                }, ANIMATION_SPEED);
            }

            /**
             * 2æ¬¡å…ƒDPã®1ã‚¹ãƒ†ãƒƒãƒ—ã‚’ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
             */
            function animateDP2DStep(i, j) {
                const currentCell = document.getElementById(`dp2d-cell-${i}-${j}`);
                const topCell = document.getElementById(`dp2d-cell-${i - 1}-${j}`);
                const leftCell = document.getElementById(`dp2d-cell-${i}-${j - 1}`);

                if (!currentCell || !topCell || !leftCell) return;

                const topValue = parseInt(topCell.textContent);
                const leftValue = parseInt(leftCell.textContent);
                const newValue = topValue + leftValue;

                // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³åŠ¹æœ
                currentCell.classList.add('highlighted');
                topCell.classList.add('highlighted');
                leftCell.classList.add('highlighted');

                setTimeout(() => {
                    currentCell.textContent = newValue;
                    currentCell.className =
                        'w-16 h-16 flex items-center justify-center border border-gray-300 font-semibold bg-green-50';

                    topCell.classList.remove('highlighted');
                    leftCell.classList.remove('highlighted');
                    currentCell.classList.remove('highlighted');

                    updateDP2DExplanation(
                        `ã‚»ãƒ« (${i},${j}): dp[${i}][${j}] = ${topValue} + ${leftValue} = ${newValue}`,
                    );
                }, ANIMATION_SPEED / 2);
            }

            /**
             * 2æ¬¡å…ƒDPèª¬æ˜æ›´æ–°
             */
            function updateDP2DExplanation(text) {
                const explanation = document.getElementById('dp2d-explanation');
                if (explanation) explanation.textContent = text;
            }

            /**
             * 2æ¬¡å…ƒDPã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãƒªã‚»ãƒƒãƒˆ
             */
            function resetDP2DAnimation() {
                if (dp2dAnimationInterval) {
                    clearInterval(dp2dAnimationInterval);
                    dp2dAnimationInterval = null;
                }
                currentDP2DStep = 0;
                document.getElementById('dp2dStep').textContent = '0';
                initializeDP2DVisualization();
            }

            // ========== ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ ==========

            /**
             * å„ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®å®Ÿè£…
             */
            const algorithms = {
                mathematical: function (m, n) {
                    // JavaScriptç‰ˆ math.comb ã®è¿‘ä¼¼å®Ÿè£…
                    const totalMoves = m + n - 2;
                    const k = Math.min(m - 1, n - 1);
                    let result = 1;
                    for (let i = 0; i < k; i++) {
                        result = Math.round((result * (totalMoves - i)) / (i + 1));
                    }
                    return result;
                },

                dp1d: function (m, n) {
                    const cols = Math.min(m, n);
                    const rows = Math.max(m, n);
                    const dp = new Array(cols).fill(1);

                    for (let i = 1; i < rows; i++) {
                        for (let j = 1; j < cols; j++) {
                            dp[j] += dp[j - 1];
                        }
                    }
                    return dp[cols - 1];
                },

                dp2d: function (m, n) {
                    const dp = Array.from({ length: m }, () => new Array(n).fill(0));

                    for (let i = 0; i < m; i++) dp[i][0] = 1;
                    for (let j = 0; j < n; j++) dp[0][j] = 1;

                    for (let i = 1; i < m; i++) {
                        for (let j = 1; j < n; j++) {
                            dp[i][j] = dp[i - 1][j] + dp[i][j - 1];
                        }
                    }
                    return dp[m - 1][n - 1];
                },
            };

            // /**
            //  * ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
            //  */
            // function runPerformanceTest() {
            //     const resultsContainer = document.getElementById('performanceResults');
            //     resultsContainer.innerHTML = '<div class="text-blue-600">ãƒ†ã‚¹ãƒˆå®Ÿè¡Œä¸­...</div>';

            //     setTimeout(() => {
            //         const testCases = [
            //             { m: 3, n: 7, expected: 28, name: 'Small (3Ã—7)' },
            //             { m: 10, n: 10, expected: 48620, name: 'Medium (10Ã—10)' },
            //             { m: 23, n: 12, expected: 1352078, name: 'Large (23Ã—12)' }
            //         ];

            //         let resultsHTML = '<h4 class="font-semibold mb-4">ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆçµæœ</h4>';

            //         testCases.forEach(testCase => {
            //             resultsHTML += `<div class="mb-6"><h5 class="font-medium mb-2">${testCase.name}</h5>`;
            //             resultsHTML += '<div class="overflow-x-auto"><table class="w-full text-sm border border-gray-300">';
            //             resultsHTML += '<tr class="bg-gray-100"><th class="border px-2 py-1">ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ </th><th class="border px-2 py-1">çµæœ</th><th class="border px-2 py-1">å®Ÿè¡Œæ™‚é–“</th><th class="border px-2 py-1">æ­£ç¢ºæ€§</th></tr>';

            //             Object.entries(algorithms).forEach(([name, algorithm]) => {
            //                 const startTime = performance.now();
            //                 const result = algorithm(testCase.m, testCase.n);
            //                 const endTime = performance.now();
            //                 const executionTime = (endTime - startTime).toFixed(4);
            //                 const isCorrect = result === testCase.expected;

            //                 const algorithmNames = {
            //                     mathematical: 'æ•°å­¦çš„è§£æ³•',
            //                     dp1d: '1æ¬¡å…ƒDP',
            //                     dp2d: '2æ¬¡å…ƒDP'
            //                 };

            //                 resultsHTML += `<tr>
            //                     <td class="border px-2 py-1">${algorithmNames[name]}</td>
            //                     <td class="border px-2 py-1">${result.toLocaleString()}</td>
            //                     <td class="border px-2 py-1">${executionTime}ms</td>
            //                     <td class="border px-2 py-1">${isCorrect ? 'âœ“' : 'âœ—'}</td>
            //                 </tr>`;
            //             });

            //             resultsHTML += '</table></div></div>';
            //         });

            //         resultsContainer.innerHTML = resultsHTML;
            //     }, 500);
            // }

            /**
             * ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
             */
            function runPerformanceTest() {
                const resultsContainer = document.getElementById('performanceResults');
                resultsContainer.innerHTML = '<div class="text-blue-600">ãƒ†ã‚¹ãƒˆå®Ÿè¡Œä¸­...</div>';

                setTimeout(() => {
                    const testCases = [
                        { m: 3, n: 7, expected: 28, name: 'Small (3Ã—7)' },
                        { m: 10, n: 10, expected: 48620, name: 'Medium (10Ã—10)' },
                        { m: 15, n: 15, expected: 40116600, name: 'Large (15Ã—15)' },
                    ];

                    let resultsHTML =
                        '<h4 class="font-semibold mb-4">ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆçµæœ</h4>';

                    testCases.forEach((testCase) => {
                        resultsHTML += `<div class="mb-6"><h5 class="font-medium mb-2">${testCase.name} - æœŸå¾…å€¤: ${testCase.expected.toLocaleString()}</h5>`;
                        resultsHTML +=
                            '<div class="overflow-x-auto"><table class="w-full text-sm border border-gray-300">';
                        resultsHTML +=
                            '<tr class="bg-gray-100"><th class="border px-3 py-2">ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ </th><th class="border px-3 py-2">çµæœ</th><th class="border px-3 py-2">å®Ÿè¡Œæ™‚é–“</th><th class="border px-3 py-2">æ­£ç¢ºæ€§</th></tr>';

                        Object.entries(algorithms).forEach(([name, algorithm]) => {
                            const startTime = performance.now();
                            let result, executionTime, isCorrect;

                            try {
                                // ã‚ˆã‚Šç²¾å¯†ãªè¨ˆæ¸¬ã®ãŸã‚è¤‡æ•°å›å®Ÿè¡Œ
                                const iterations = 1000;
                                const measureStart = performance.now();
                                for (let i = 0; i < iterations; i++) {
                                    result = algorithm(testCase.m, testCase.n);
                                }
                                const measureEnd = performance.now();
                                executionTime = ((measureEnd - measureStart) / iterations).toFixed(
                                    6,
                                );
                                isCorrect = result === testCase.expected;
                            } catch (error) {
                                result = 'ã‚¨ãƒ©ãƒ¼';
                                executionTime = 'N/A';
                                isCorrect = false;
                            }

                            const algorithmNames = {
                                mathematical: 'æ•°å­¦çš„è§£æ³•',
                                dp1d: '1æ¬¡å…ƒDP',
                                dp2d: '2æ¬¡å…ƒDP',
                            };

                            const correctnessColor = isCorrect ? 'text-green-600' : 'text-red-600';
                            const correctnessIcon = isCorrect ? 'âœ“' : 'âœ—';

                            resultsHTML += `<tr>
                            <td class="border px-3 py-2 font-medium">${algorithmNames[name]}</td>
                            <td class="border px-3 py-2">${typeof result === 'number' ? result.toLocaleString() : result}</td>
                            <td class="border px-3 py-2">${executionTime}ms</td>
                            <td class="border px-3 py-2 ${correctnessColor}">${correctnessIcon}</td>
                        </tr>`;
                        });

                        resultsHTML += '</table></div></div>';
                    });

                    // è¨ˆç®—ã®æ¤œè¨¼ã‚³ãƒ¡ãƒ³ãƒˆ
                    resultsHTML += `
                    <div class="mt-4 p-3 bg-blue-50 rounded-lg text-sm">
                        <div class="font-semibold mb-2">è¨ˆç®—æ¤œè¨¼:</div>
                        <div>â€¢ Small (3Ã—7): C(8,2) = 8!/(2!Ã—6!) = 28</div>
                        <div>â€¢ Medium (10Ã—10): C(18,9) = 48,620</div>
                        <div>â€¢ Large (15Ã—15): C(28,14) = 40,116,600</div>
                    </div>
                `;

                    resultsContainer.innerHTML = resultsHTML;
                }, 500);
            }
            /**
             * ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹çµæœã‚¯ãƒªã‚¢
             */
            function clearResults() {
                const resultsContainer = document.getElementById('performanceResults');
                resultsContainer.innerHTML =
                    '<p class="text-gray-500">ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„</p>';
            }

            // ========== ã‚³ãƒ¼ãƒ‰ã‚³ãƒ”ãƒ¼æ©Ÿèƒ½ ==========

            /**
             * ã‚³ãƒ¼ãƒ‰ã‚³ãƒ”ãƒ¼æ©Ÿèƒ½
             */
            function copyCode(button) {
                const codeBlock = button.parentElement.querySelector('code');
                const text = codeBlock.textContent;

                navigator.clipboard
                    .writeText(text)
                    .then(() => {
                        button.textContent = 'Copied!';
                        button.style.background = '#48bb78';

                        setTimeout(() => {
                            button.textContent = 'Copy';
                            button.style.background = '#44475a';
                        }, 2000);
                    })
                    .catch((err) => {
                        console.error('ã‚³ãƒ”ãƒ¼ã«å¤±æ•—ã—ã¾ã—ãŸ:', err);
                    });
            }

            // ========== åˆæœŸåŒ–å®Ÿè¡Œ ==========

            /**
             * ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã®åˆæœŸåŒ–
             */
            document.addEventListener('DOMContentLoaded', function () {
                // ãƒ•ã‚§ãƒ¼ãƒ‰ã‚¤ãƒ³ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã®é…å»¶å®Ÿè¡Œ
                const elements = document.querySelectorAll('.fade-in-up');
                elements.forEach((element, index) => {
                    element.style.animationDelay = `${index * 0.1}s`;
                });

                // åˆæœŸè¡¨ç¤ºã®è¨­å®š
                initializeProblemGrid();
                initializeMathVisualization();

                // Prism.jsã®å†åˆæœŸåŒ–
                if (typeof Prism !== 'undefined') {
                    Prism.highlightAll();
                }

                console.log('Robot Unique Paths Technical Guide initialized successfully!');
            });
        </script>
    </body>
</html>
