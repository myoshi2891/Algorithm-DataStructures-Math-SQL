<!doctype html>
<html lang="ja">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>LeetCode 67: Add Binary - Two-Pointer + Carry方式</title>

        <!-- Tailwind CSS -->
        <script src="https://cdn.tailwindcss.com"></script>

        <!-- Google Fonts -->
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=JetBrains+Mono:wght@400;600&family=Source+Code+Pro:wght@400;600&display=swap"
            rel="stylesheet"
        />

        <!-- Prism.js -->
        <link
            href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css"
            rel="stylesheet"
        />
        <link
            href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css"
            rel="stylesheet"
        />
        <link
            href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/toolbar/prism-toolbar.min.css"
            rel="stylesheet"
        />

        <!-- React -->
        <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
        <script
            crossorigin
            src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"
        ></script>
        <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

        <style>
            html {
                scroll-behavior: smooth;
            }

            code[class*='language-'],
            pre[class*='language-'] {
                font-family: 'JetBrains Mono', 'Source Code Pro', monospace;
                font-size: 0.95rem;
            }

            div.code-toolbar > .toolbar {
                opacity: 1;
            }

            div.code-toolbar > .toolbar .toolbar-item > button,
            div.code-toolbar > .toolbar .toolbar-item > a {
                background: #fff;
                border: 1px solid #e6e8ef;
                border-radius: 10px;
                padding: 1rem 1.5rem;
                margin: 1rem 1rem 0 0;
                font:
                    600 13px/1.2 Inter,
                    system-ui,
                    sans-serif;
                color: #334155;
                box-shadow: 0 2px 6px rgba(20, 32, 70, 0.06);
                transition:
                    transform 0.15s,
                    box-shadow 0.15s,
                    background 0.15s;
            }

            div.code-toolbar > .toolbar .toolbar-item > button:hover {
                transform: translateY(-1px);
                box-shadow: 0 10px 28px rgba(20, 32, 70, 0.08);
                background: linear-gradient(180deg, #e8fff6, #c8f1e1);
            }
        </style>
    </head>
    <body
        class="min-h-screen p-8 sm:p-6 font-[Inter] text-slate-800 leading-relaxed bg-[linear-gradient(135deg,#f0fdf4_0%,#dbeafe_100%)]"
    >
        <!-- Header -->
        <header
            id="header"
            class="mb-8 rounded-2xl p-8 shadow-[0_10px_30px_rgba(16,185,129,0.10)] bg-[linear-gradient(135deg,#d1fae5,#bfdbfe)]"
        >
            <h1 class="text-[2.5rem] font-bold text-teal-800 mb-2">Add Binary</h1>
            <p class="text-xl text-cyan-700 font-semibold mt-2">
                Two-Pointer + Carry方式による O(n) 時間・O(1) 補助空間実装
            </p>
            <nav class="flex flex-wrap gap-4 mt-6">
                <a
                    href="#overview"
                    class="inline-block px-5 py-2 font-semibold text-slate-700 no-underline rounded-lg border-2 border-slate-200 bg-white transition hover:shadow-[0_10px_20px_rgba(15,118,110,0.20)] hover:-translate-y-0.5 hover:bg-[linear-gradient(180deg,#e8fff6,#c8f1e1)] hover:border-teal-700"
                >
                    概要
                </a>
                <a
                    href="#steps"
                    class="inline-block px-5 py-2 font-semibold text-slate-700 no-underline rounded-lg border-2 border-slate-200 bg-white transition hover:shadow-[0_10px_20px_rgba(15,118,110,0.20)] hover:-translate-y-0.5 hover:bg-[linear-gradient(180deg,#e8fff6,#c8f1e1)] hover:border-teal-700"
                >
                    ステップ解説
                </a>
                <a
                    href="#code"
                    class="inline-block px-5 py-2 font-semibold text-slate-700 no-underline rounded-lg border-2 border-slate-200 bg-white transition hover:shadow-[0_10px_20px_rgba(15,118,110,0.20)] hover:-translate-y-0.5 hover:bg-[linear-gradient(180deg,#e8fff6,#c8f1e1)] hover:border-teal-700"
                >
                    実装コード
                </a>
                <a
                    href="#diagram"
                    class="inline-block px-5 py-2 font-semibold text-slate-700 no-underline rounded-lg border-2 border-slate-200 bg-white transition hover:shadow-[0_10px_20px_rgba(15,118,110,0.20)] hover:-translate-y-0.5 hover:bg-[linear-gradient(180deg,#e8fff6,#c8f1e1)] hover:border-teal-700"
                >
                    フローチャート
                </a>
                <a
                    href="#complexity"
                    class="inline-block px-5 py-2 font-semibold text-slate-700 no-underline rounded-lg border-2 border-slate-200 bg-white transition hover:shadow-[0_10px_20px_rgba(15,118,110,0.20)] hover:-translate-y-0.5 hover:bg-[linear-gradient(180deg,#e8fff6,#c8f1e1)] hover:border-teal-700"
                >
                    計算量
                </a>
            </nav>
        </header>

        <!-- Overview -->
        <section id="overview" class="bg-white rounded-2xl p-8 mb-8 shadow">
            <h2
                class="text-[2rem] font-bold text-cyan-700 mb-4 pb-2 border-b-[3px] border-emerald-200"
            >
                アルゴリズム概要
            </h2>

            <h3 class="text-xl font-semibold text-teal-800 mt-6 mb-3">問題</h3>
            <p class="mb-4">
                2つの2進数文字列 <code class="px-2 py-1 bg-slate-100 rounded">a</code> と
                <code class="px-2 py-1 bg-slate-100 rounded">b</code>
                が与えられたとき、それらの和を2進数文字列として返す。
            </p>

            <h3 class="text-xl font-semibold text-teal-800 mt-6 mb-3">入出力例</h3>
            <div class="bg-slate-50 p-4 rounded-lg font-[JetBrains_Mono] text-sm">
                <p><strong>例1:</strong></p>
                <p>入力: a = "11", b = "1"</p>
                <p>出力: "100"</p>
                <br />
                <p><strong>例2:</strong></p>
                <p>入力: a = "1010", b = "1011"</p>
                <p>出力: "10101"</p>
            </div>

            <h3 class="text-xl font-semibold text-teal-800 mt-6 mb-3">制約</h3>
            <ul class="list-disc list-inside space-y-2 text-slate-700">
                <li>1 ≤ a.length, b.length ≤ 10⁴</li>
                <li>a と b は '0' と '1' のみで構成される</li>
                <li>先頭ゼロは存在しない（"0" 自体を除く）</li>
            </ul>

            <h3 class="text-xl font-semibold text-teal-800 mt-6 mb-3">戦略</h3>
            <ul class="list-disc list-inside space-y-2 text-slate-700">
                <li><strong>Two-Pointer</strong>: 末尾（最下位桁）から順に走査</li>
                <li><strong>Carry（桁上がり）</strong>: 各桁で 0 または 1 のキャリーを管理</li>
                <li>
                    <strong>固定長バッファ</strong>:
                    <code class="px-2 py-1 bg-slate-100 rounded">bytearray</code>
                    に直接ASCII文字を書き込み
                </li>
                <li>
                    <strong>bytes化</strong>:
                    <code class="px-2 py-1 bg-slate-100 rounded">encode('ascii')</code> で各反復の
                    <code class="px-2 py-1 bg-slate-100 rounded">ord()</code> 呼び出しを排除
                </li>
            </ul>

            <h3 class="text-xl font-semibold text-teal-800 mt-6 mb-3">主要ポイント</h3>
            <ul class="list-disc list-inside space-y-2 text-slate-700">
                <li><strong>時間計算量</strong>: O(n) ※ n = max(len(a), len(b))</li>
                <li><strong>空間計算量</strong>: O(1) 補助空間（出力バッファを除く）</li>
                <li>
                    <strong>最適化手法</strong>: ビット演算（<code
                        class="px-2 py-1 bg-slate-100 rounded"
                        >& 1</code
                    >）で分岐レスにビット取得
                </li>
            </ul>
        </section>

        <!-- Steps -->
        <section id="steps" class="bg-white rounded-2xl p-8 mb-8 shadow">
            <h2
                class="text-[2rem] font-bold text-cyan-700 mb-4 pb-2 border-b-[3px] border-emerald-200"
            >
                ステップバイステップ解説
            </h2>
            <div id="react-root"></div>
        </section>

        <!-- Code -->
        <section id="code" class="bg-white rounded-2xl p-8 mb-8 shadow">
            <h2
                class="text-[2rem] font-bold text-cyan-700 mb-4 pb-2 border-b-[3px] border-emerald-200"
            >
                Python実装
            </h2>
            <pre
                class="line-numbers"
            ><code class="language-python">from __future__ import annotations
from typing import Final


class Solution:
    """
    Add Binary
    2つの2進数文字列の和を2進数文字列として返す
    """

    def addBinary(self, a: str, b: str) -> str:
        """
        2つの2進数文字列 a, b の和を2進数文字列で返す

        Args:
            a: 2進文字列（'0'/'1' のみ、長さ1〜10^4）
            b: 同上

        Returns:
            a + b の2進表現

        Complexity:
            Time: O(n), Space: O(1) auxiliary
        """
        # 早期リターン: 一方が "0" の場合
        if a == "0":
            return b
        if b == "0":
            return a

        # bytes化で各反復の ord() 呼び出しを排除
        a_bytes: bytes = a.encode("ascii")
        b_bytes: bytes = b.encode("ascii")

        # インデックス初期化（末尾から開始）
        i: int = len(a_bytes) - 1
        j: int = len(b_bytes) - 1
        k: int = (i if i > j else j) + 1  # 書き込み位置（キャリー分+1）
        carry: int = 0

        ZERO: Final[int] = 48  # ASCII '0'
        out = bytearray(k + 1)  # 最上位桁のキャリー用に+1

        # 末尾から1パスで加算
        while i >= 0 or j >= 0 or carry:
            s = carry

            # a の現在の桁を加算（範囲内の場合）
            if i >= 0:
                s += (a_bytes[i] & 1)  # '0'(48) -> 0, '1'(49) -> 1
                i -= 1

            # b の現在の桁を加算（範囲内の場合）
            if j >= 0:
                s += (b_bytes[j] & 1)
                j -= 1

            # 結果の桁を書き込み（s の最下位ビット）
            out[k] = ZERO + (s & 1)

            # キャリーを更新（s を右シフト）
            carry = s >> 1
            k -= 1

        # k+1 以降が有効な結果領域
        start: int = k + 1
        return out[start:].decode("ascii")</code></pre>
        </section>

        <!-- Diagram -->
        <section id="diagram" class="bg-white rounded-2xl p-8 mb-8 shadow">
            <h2
                class="text-[2rem] font-bold text-cyan-700 mb-4 pb-2 border-b-[3px] border-emerald-200"
            >
                フローチャート
            </h2>
            <div class="mt-[20px] overflow-x-auto">
                <svg
                    viewBox="0 0 840 1100"
                    style="max-width: 100%; height: auto; color: #333"
                    role="img"
                    aria-label="Add Binary アルゴリズムのフローチャート"
                >
                    <defs>
                        <marker
                            id="arrow"
                            markerWidth="10"
                            markerHeight="10"
                            refX="9"
                            refY="3"
                            orient="auto"
                            markerUnits="strokeWidth"
                        >
                            <path d="M0,0 L0,6 L9,3 z" fill="#64748b" />
                        </marker>
                        <marker
                            id="arrowGreen"
                            markerWidth="10"
                            markerHeight="10"
                            refX="9"
                            refY="3"
                            orient="auto"
                            markerUnits="strokeWidth"
                        >
                            <path d="M0,0 L0,6 L9,3 z" fill="#059669" />
                        </marker>
                        <marker
                            id="arrowRed"
                            markerWidth="10"
                            markerHeight="10"
                            refX="9"
                            refY="3"
                            orient="auto"
                            markerUnits="strokeWidth"
                        >
                            <path d="M0,0 L0,6 L9,3 z" fill="#dc2626" />
                        </marker>
                        <marker
                            id="arrowPurple"
                            markerWidth="10"
                            markerHeight="10"
                            refX="9"
                            refY="3"
                            orient="auto"
                            markerUnits="strokeWidth"
                        >
                            <path d="M0,0 L0,6 L9,3 z" fill="#a855f7" />
                        </marker>
                    </defs>

                    <!-- 開始 -->
                    <ellipse
                        cx="420"
                        cy="50"
                        rx="100"
                        ry="35"
                        fill="#d1fae5"
                        stroke="#10b981"
                        stroke-width="2"
                    />
                    <text
                        x="420"
                        y="50"
                        text-anchor="middle"
                        dominant-baseline="middle"
                        font-size="18"
                        font-weight="600"
                    >
                        開始
                    </text>

                    <!-- 早期チェック -->
                    <path
                        d="M 420 85 L 420 130"
                        stroke="#64748b"
                        stroke-width="2"
                        fill="none"
                        marker-end="url(#arrow)"
                    />
                    <path
                        d="M 420 130 L 520 180 L 420 230 L 320 180 Z"
                        fill="#fef3c7"
                        stroke="#f59e0b"
                        stroke-width="2"
                    />
                    <text
                        x="420"
                        y="175"
                        text-anchor="middle"
                        dominant-baseline="middle"
                        font-size="16"
                        font-weight="600"
                    >
                        <tspan x="420" dy="-8">a または b が</tspan>
                        <tspan x="420" dy="18">"0" か？</tspan>
                    </text>

                    <!-- 早期リターン -->
                    <path
                        d="M 520 180 L 650 180"
                        stroke="#059669"
                        stroke-width="2"
                        fill="none"
                        marker-end="url(#arrowGreen)"
                    />
                    <text
                        x="570"
                        y="165"
                        text-anchor="middle"
                        dominant-baseline="middle"
                        font-size="14"
                        font-weight="600"
                        fill="#059669"
                    >
                        はい
                    </text>
                    <rect
                        x="650"
                        y="150"
                        width="140"
                        height="60"
                        rx="8"
                        fill="#d1fae5"
                        stroke="#10b981"
                        stroke-width="2"
                    />
                    <text
                        x="720"
                        y="180"
                        text-anchor="middle"
                        dominant-baseline="middle"
                        font-size="16"
                        font-weight="600"
                    >
                        <tspan x="720" dy="-8">他方を</tspan>
                        <tspan x="720" dy="18">返す</tspan>
                    </text>
                    <path
                        d="M 720 210 L 720 1050"
                        stroke="#059669"
                        stroke-width="2"
                        fill="none"
                        marker-end="url(#arrowGreen)"
                    />

                    <!-- bytes化 -->
                    <path
                        d="M 420 230 L 420 280"
                        stroke="#dc2626"
                        stroke-width="2"
                        fill="none"
                        marker-end="url(#arrowRed)"
                    />
                    <text
                        x="360"
                        y="255"
                        text-anchor="middle"
                        dominant-baseline="middle"
                        font-size="14"
                        font-weight="600"
                        fill="#dc2626"
                    >
                        いいえ
                    </text>
                    <rect
                        x="320"
                        y="280"
                        width="200"
                        height="60"
                        rx="8"
                        fill="#e0f2fe"
                        stroke="#0284c7"
                        stroke-width="2"
                    />
                    <text
                        x="420"
                        y="310"
                        text-anchor="middle"
                        dominant-baseline="middle"
                        font-size="16"
                        font-weight="600"
                    >
                        <tspan x="420" dy="-8">a, b を</tspan>
                        <tspan x="420" dy="18">bytes に変換</tspan>
                    </text>

                    <!-- 初期化 -->
                    <path
                        d="M 420 340 L 420 390"
                        stroke="#64748b"
                        stroke-width="2"
                        fill="none"
                        marker-end="url(#arrow)"
                    />
                    <rect
                        x="280"
                        y="390"
                        width="280"
                        height="80"
                        rx="8"
                        fill="#e0f2fe"
                        stroke="#0284c7"
                        stroke-width="2"
                    />
                    <text
                        x="420"
                        y="420"
                        text-anchor="middle"
                        dominant-baseline="middle"
                        font-size="16"
                        font-weight="600"
                    >
                        <tspan x="420" dy="-18">i = len(a) - 1</tspan>
                        <tspan x="420" dy="18">j = len(b) - 1</tspan>
                        <tspan x="420" dy="18">carry = 0, out = bytearray()</tspan>
                    </text>

                    <!-- ループ条件 -->
                    <path
                        d="M 420 470 L 420 520"
                        stroke="#64748b"
                        stroke-width="2"
                        fill="none"
                        marker-end="url(#arrow)"
                    />
                    <path
                        d="M 420 520 L 540 580 L 420 640 L 300 580 Z"
                        fill="#fef3c7"
                        stroke="#f59e0b"
                        stroke-width="2"
                    />
                    <text
                        x="420"
                        y="575"
                        text-anchor="middle"
                        dominant-baseline="middle"
                        font-size="16"
                        font-weight="600"
                    >
                        <tspan x="420" dy="-8">i &ge; 0 または</tspan>
                        <tspan x="420" dy="18">j &ge; 0 または carry？</tspan>
                    </text>

                    <!-- ループ脱出 -->
                    <path
                        d="M 300 580 L 100 580 L 100 1010 L 420 1010"
                        stroke="#dc2626"
                        stroke-width="2"
                        fill="none"
                        marker-end="url(#arrowRed)"
                    />
                    <text
                        x="180"
                        y="565"
                        text-anchor="middle"
                        dominant-baseline="middle"
                        font-size="14"
                        font-weight="600"
                        fill="#dc2626"
                    >
                        いいえ
                    </text>

                    <!-- s = carry -->
                    <path
                        d="M 420 640 L 420 690"
                        stroke="#059669"
                        stroke-width="2"
                        fill="none"
                        marker-end="url(#arrowGreen)"
                    />
                    <text
                        x="460"
                        y="665"
                        text-anchor="middle"
                        dominant-baseline="middle"
                        font-size="14"
                        font-weight="600"
                        fill="#059669"
                    >
                        はい
                    </text>
                    <rect
                        x="320"
                        y="690"
                        width="200"
                        height="60"
                        rx="8"
                        fill="#e0f2fe"
                        stroke="#0284c7"
                        stroke-width="2"
                    />
                    <text
                        x="420"
                        y="720"
                        text-anchor="middle"
                        dominant-baseline="middle"
                        font-size="16"
                        font-weight="600"
                    >
                        s = carry
                    </text>

                    <!-- a の桁を加算 -->
                    <path
                        d="M 420 750 L 420 790"
                        stroke="#64748b"
                        stroke-width="2"
                        fill="none"
                        marker-end="url(#arrow)"
                    />
                    <path
                        d="M 420 790 L 520 840 L 420 890 L 320 840 Z"
                        fill="#fef3c7"
                        stroke="#f59e0b"
                        stroke-width="2"
                    />
                    <text
                        x="420"
                        y="840"
                        text-anchor="middle"
                        dominant-baseline="middle"
                        font-size="16"
                        font-weight="600"
                    >
                        i &ge; 0 ?
                    </text>

                    <path
                        d="M 520 840 L 620 840"
                        stroke="#059669"
                        stroke-width="2"
                        fill="none"
                        marker-end="url(#arrowGreen)"
                    />
                    <text
                        x="555"
                        y="825"
                        text-anchor="middle"
                        dominant-baseline="middle"
                        font-size="14"
                        font-weight="600"
                        fill="#059669"
                    >
                        はい
                    </text>
                    <rect
                        x="620"
                        y="810"
                        width="150"
                        height="60"
                        rx="8"
                        fill="#e0f2fe"
                        stroke="#0284c7"
                        stroke-width="2"
                    />
                    <text
                        x="695"
                        y="840"
                        text-anchor="middle"
                        dominant-baseline="middle"
                        font-size="16"
                        font-weight="600"
                    >
                        <tspan x="695" dy="-8">s += a[i] & 1</tspan>
                        <tspan x="695" dy="18">i -= 1</tspan>
                    </text>
                    <path
                        d="M 695 870 L 695 920 L 560 920"
                        stroke="#64748b"
                        stroke-width="2"
                        fill="none"
                        marker-end="url(#arrow)"
                    />

                    <!-- b の桁を加算 -->
                    <path
                        d="M 420 890 L 420 930"
                        stroke="#dc2626"
                        stroke-width="2"
                        fill="none"
                        marker-end="url(#arrowRed)"
                    />
                    <text
                        x="360"
                        y="910"
                        text-anchor="middle"
                        dominant-baseline="middle"
                        font-size="14"
                        font-weight="600"
                        fill="#dc2626"
                    >
                        いいえ
                    </text>
                    <path
                        d="M 420 930 L 520 980 L 420 1030 L 320 980 Z"
                        fill="#fef3c7"
                        stroke="#f59e0b"
                        stroke-width="2"
                    />
                    <text
                        x="420"
                        y="980"
                        text-anchor="middle"
                        dominant-baseline="middle"
                        font-size="16"
                        font-weight="600"
                    >
                        j &ge; 0 ?
                    </text>

                    <path
                        d="M 320 980 L 220 980"
                        stroke="#dc2626"
                        stroke-width="2"
                        fill="none"
                        marker-end="url(#arrowRed)"
                    />
                    <text
                        x="285"
                        y="965"
                        text-anchor="middle"
                        dominant-baseline="middle"
                        font-size="14"
                        font-weight="600"
                        fill="#dc2626"
                    >
                        いいえ
                    </text>
                    <rect
                        x="70"
                        y="950"
                        width="150"
                        height="100"
                        rx="8"
                        fill="#e0f2fe"
                        stroke="#0284c7"
                        stroke-width="2"
                    />
                    <text
                        x="145"
                        y="990"
                        text-anchor="middle"
                        dominant-baseline="middle"
                        font-size="16"
                        font-weight="600"
                    >
                        <tspan x="145" dy="-18">out[k] = '0'+'1'</tspan>
                        <tspan x="145" dy="18">carry = s >> 1</tspan>
                        <tspan x="145" dy="18">k -= 1</tspan>
                    </text>
                    <path
                        d="M 145 1050 L 145 1080 L 560 1080 L 560 580 L 540 580"
                        stroke="#a855f7"
                        stroke-width="2"
                        fill="none"
                        marker-end="url(#arrowPurple)"
                    />

                    <path
                        d="M 520 980 L 560 980 L 560 920"
                        stroke="#059669"
                        stroke-width="2"
                        fill="none"
                        marker-end="url(#arrowGreen)"
                    />
                    <text
                        x="555"
                        y="965"
                        text-anchor="middle"
                        dominant-baseline="middle"
                        font-size="14"
                        font-weight="600"
                        fill="#059669"
                    >
                        はい
                    </text>
                    <rect
                        x="560"
                        y="890"
                        width="150"
                        height="60"
                        rx="8"
                        fill="#e0f2fe"
                        stroke="#0284c7"
                        stroke-width="2"
                    />
                    <text
                        x="635"
                        y="920"
                        text-anchor="middle"
                        dominant-baseline="middle"
                        font-size="16"
                        font-weight="600"
                    >
                        <tspan x="635" dy="-8">s += b[j] & 1</tspan>
                        <tspan x="635" dy="18">j -= 1</tspan>
                    </text>

                    <!-- デコードと返却 -->
                    <rect
                        x="320"
                        y="1010"
                        width="200"
                        height="60"
                        rx="8"
                        fill="#e0f2fe"
                        stroke="#0284c7"
                        stroke-width="2"
                    />
                    <text
                        x="420"
                        y="1040"
                        text-anchor="middle"
                        dominant-baseline="middle"
                        font-size="16"
                        font-weight="600"
                    >
                        <tspan x="420" dy="-8">out[start:]</tspan>
                        <tspan x="420" dy="18">.decode("ascii")</tspan>
                    </text>

                    <!-- 終了 -->
                    <path
                        d="M 520 1040 L 720 1040 L 720 1050"
                        stroke="#64748b"
                        stroke-width="2"
                        fill="none"
                        marker-end="url(#arrow)"
                    />
                    <ellipse
                        cx="720"
                        cy="1080"
                        rx="100"
                        ry="35"
                        fill="#d1fae5"
                        stroke="#10b981"
                        stroke-width="2"
                    />
                    <text
                        x="720"
                        y="1080"
                        text-anchor="middle"
                        dominant-baseline="middle"
                        font-size="18"
                        font-weight="600"
                    >
                        終了
                    </text>
                </svg>
            </div>

            <p class="mt-8 font-[Source_Code_Pro] text-[20px] font-semibold leading-8">
                <strong class="text-2xl">フローの説明：</strong><br />
                1. 早期チェックで一方が "0" の場合は他方を返す<br />
                2. 入力を bytes に変換して ord() 呼び出しを排除<br />
                3. インデックス i, j, k と carry を初期化<br />
                4. ループ条件：i ≥ 0 または j ≥ 0 または carry がある<br />
                5. 各桁で s = carry + a[i] + b[j] を計算<br />
                6. 結果の桁を out[k] に書き込み、carry を更新<br />
                7. すべての桁を処理したら decode して返す
            </p>
        </section>

        <!-- Complexity -->
        <section id="complexity" class="bg-white rounded-2xl p-8 mb-8 shadow">
            <h2
                class="text-[2rem] font-bold text-cyan-700 mb-4 pb-2 border-b-[3px] border-emerald-200"
            >
                計算量分析
            </h2>

            <h3 class="text-xl font-semibold text-teal-800 mt-6 mb-3">時間計算量</h3>
            <p class="mb-4">
                <strong class="text-emerald-700 text-lg">O(n)</strong> ※ n = max(len(a), len(b))
            </p>
            <ul class="list-disc list-inside space-y-2 text-slate-700 mb-6">
                <li>
                    <code class="px-2 py-1 bg-slate-100 rounded">encode('ascii')</code>: O(len(a)) +
                    O(len(b))
                </li>
                <li>メインループ: 最大 n+1 回の反復（キャリー分）</li>
                <li>各反復での操作: ビット取得・加算・書き込みはすべて O(1)</li>
                <li><code class="px-2 py-1 bg-slate-100 rounded">decode('ascii')</code>: O(n)</li>
            </ul>

            <h3 class="text-xl font-semibold text-teal-800 mt-6 mb-3">空間計算量</h3>
            <p class="mb-4">
                <strong class="text-emerald-700 text-lg">O(1) 補助空間</strong
                >（出力バッファを除く）
            </p>
            <ul class="list-disc list-inside space-y-2 text-slate-700 mb-6">
                <li>
                    <code class="px-2 py-1 bg-slate-100 rounded">a_bytes</code>,
                    <code class="px-2 py-1 bg-slate-100 rounded">b_bytes</code>:
                    入力サイズに比例（O(n)）だが入力として必要
                </li>
                <li>
                    <code class="px-2 py-1 bg-slate-100 rounded">out</code> (bytearray):
                    出力として必要な O(n)
                </li>
                <li>その他の変数（i, j, k, carry）: O(1)</li>
            </ul>

            <h3 class="text-xl font-semibold text-teal-800 mt-6 mb-3">アプローチ比較</h3>
            <div class="overflow-x-auto">
                <table class="w-full border-collapse">
                    <thead>
                        <tr class="bg-slate-100">
                            <th class="border border-slate-300 px-4 py-2 text-left">アプローチ</th>
                            <th class="border border-slate-300 px-4 py-2 text-left">時間計算量</th>
                            <th class="border border-slate-300 px-4 py-2 text-left">空間計算量</th>
                            <th class="border border-slate-300 px-4 py-2 text-left">特徴</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="bg-emerald-50">
                            <td class="border border-slate-300 px-4 py-2 font-semibold">
                                Two-Pointer + bytearray（採用）
                            </td>
                            <td class="border border-slate-300 px-4 py-2">O(n)</td>
                            <td class="border border-slate-300 px-4 py-2">O(1)</td>
                            <td class="border border-slate-300 px-4 py-2">最速、メモリ効率最高</td>
                        </tr>
                        <tr>
                            <td class="border border-slate-300 px-4 py-2">
                                list.append + reverse + join
                            </td>
                            <td class="border border-slate-300 px-4 py-2">O(n)</td>
                            <td class="border border-slate-300 px-4 py-2">O(n)</td>
                            <td class="border border-slate-300 px-4 py-2">
                                実装簡単だが中間配列必要
                            </td>
                        </tr>
                        <tr>
                            <td class="border border-slate-300 px-4 py-2">int変換 + bin()</td>
                            <td class="border border-slate-300 px-4 py-2">O(n)</td>
                            <td class="border border-slate-300 px-4 py-2">O(n)</td>
                            <td class="border border-slate-300 px-4 py-2">
                                大きい数で非効率、多倍長演算
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Prism.js Scripts -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/toolbar/prism-toolbar.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/copy-to-clipboard/prism-copy-to-clipboard.min.js"></script>

        <!-- React Component -->
        <script type="text/babel">
            const { useState, useEffect, useRef } = React;

            function StepVisualization({ visual }) {
                const { type, a, b, i, j, carry, s, out, result } = visual;

                const boxWidth = 75;
                const boxHeight = 75;
                const spacing = 90;

                // 配列の中央揃え計算
                const maxLen = Math.max(a?.length || 0, b?.length || 0);
                const totalWidth = maxLen * spacing;
                const startX = (600 - totalWidth) / 2 + spacing / 2;

                if (type === 'init') {
                    return (
                        <svg
                            viewBox="0 0 600 300"
                            style={{ maxWidth: '100%', height: 'auto', marginTop: '20px' }}
                        >
                            <text
                                x="300"
                                y="30"
                                textAnchor="middle"
                                dominantBaseline="middle"
                                fontSize="18"
                                fontWeight="600"
                            >
                                入力文字列
                            </text>

                            {/* a の表示 */}
                            <text
                                x="100"
                                y="100"
                                textAnchor="end"
                                dominantBaseline="middle"
                                fontSize="18"
                                fontWeight="600"
                                fill="#0284c7"
                            >
                                a =
                            </text>
                            {a.split('').map((bit, idx) => (
                                <g key={`a-${idx}`}>
                                    <rect
                                        x={startX + idx * spacing - boxWidth / 2}
                                        y="70"
                                        width={boxWidth}
                                        height={boxHeight}
                                        fill="#e0f2fe"
                                        stroke="#0284c7"
                                        strokeWidth="2"
                                        rx="6"
                                    />
                                    <text
                                        x={startX + idx * spacing}
                                        y="107"
                                        textAnchor="middle"
                                        dominantBaseline="middle"
                                        fontSize="18"
                                        fontWeight="600"
                                    >
                                        {bit}
                                    </text>
                                </g>
                            ))}

                            {/* b の表示 */}
                            <text
                                x="100"
                                y="220"
                                textAnchor="end"
                                dominantBaseline="middle"
                                fontSize="18"
                                fontWeight="600"
                                fill="#059669"
                            >
                                b =
                            </text>
                            {b.split('').map((bit, idx) => (
                                <g key={`b-${idx}`}>
                                    <rect
                                        x={startX + idx * spacing - boxWidth / 2}
                                        y="190"
                                        width={boxWidth}
                                        height={boxHeight}
                                        fill="#d1fae5"
                                        stroke="#059669"
                                        strokeWidth="2"
                                        rx="6"
                                    />
                                    <text
                                        x={startX + idx * spacing}
                                        y="227"
                                        textAnchor="middle"
                                        dominantBaseline="middle"
                                        fontSize="18"
                                        fontWeight="600"
                                    >
                                        {bit}
                                    </text>
                                </g>
                            ))}
                        </svg>
                    );
                }

                if (type === 'convert') {
                    return (
                        <svg
                            viewBox="0 0 600 350"
                            style={{ maxWidth: '100%', height: 'auto', marginTop: '20px' }}
                        >
                            <text
                                x="300"
                                y="30"
                                textAnchor="middle"
                                dominantBaseline="middle"
                                fontSize="18"
                                fontWeight="600"
                            >
                                bytes 変換後
                            </text>

                            {/* a_bytes */}
                            <text
                                x="80"
                                y="100"
                                textAnchor="end"
                                dominantBaseline="middle"
                                fontSize="16"
                                fontWeight="600"
                                fill="#0284c7"
                            >
                                a_bytes
                            </text>
                            {a.split('').map((bit, idx) => (
                                <g key={`ab-${idx}`}>
                                    <rect
                                        x={startX + idx * spacing - boxWidth / 2}
                                        y="70"
                                        width={boxWidth}
                                        height={boxHeight}
                                        fill="#e0f2fe"
                                        stroke="#0284c7"
                                        strokeWidth="2"
                                        rx="6"
                                    />
                                    <text
                                        x={startX + idx * spacing}
                                        y="107"
                                        textAnchor="middle"
                                        dominantBaseline="middle"
                                        fontSize="18"
                                        fontWeight="600"
                                    >
                                        {bit}
                                    </text>
                                </g>
                            ))}

                            {/* b_bytes */}
                            <text
                                x="80"
                                y="220"
                                textAnchor="end"
                                dominantBaseline="middle"
                                fontSize="16"
                                fontWeight="600"
                                fill="#059669"
                            >
                                b_bytes
                            </text>
                            {b.split('').map((bit, idx) => (
                                <g key={`bb-${idx}`}>
                                    <rect
                                        x={startX + idx * spacing - boxWidth / 2}
                                        y="190"
                                        width={boxWidth}
                                        height={boxHeight}
                                        fill="#d1fae5"
                                        stroke="#059669"
                                        strokeWidth="2"
                                        rx="6"
                                    />
                                    <text
                                        x={startX + idx * spacing}
                                        y="227"
                                        textAnchor="middle"
                                        dominantBaseline="middle"
                                        fontSize="18"
                                        fontWeight="600"
                                    >
                                        {bit}
                                    </text>
                                </g>
                            ))}

                            <text
                                x="300"
                                y="310"
                                textAnchor="middle"
                                dominantBaseline="middle"
                                fontSize="18"
                                fill="#64748b"
                            >
                                i = {i}, j = {j}, carry = {carry}
                            </text>
                        </svg>
                    );
                }

                if (type === 'process') {
                    const aArr = a.split('');
                    const bArr = b.split('');

                    return (
                        <svg
                            viewBox="0 0 600 450"
                            style={{ maxWidth: '100%', height: 'auto', marginTop: '20px' }}
                        >
                            <text
                                x="300"
                                y="30"
                                textAnchor="middle"
                                dominantBaseline="middle"
                                fontSize="18"
                                fontWeight="600"
                            >
                                現在の処理: i={i}, j={j}
                            </text>

                            {/* a_bytes */}
                            <text
                                x="80"
                                y="100"
                                textAnchor="end"
                                dominantBaseline="middle"
                                fontSize="16"
                                fontWeight="600"
                                fill="#0284c7"
                            >
                                a_bytes
                            </text>
                            {aArr.map((bit, idx) => {
                                const isActive = idx === i;
                                return (
                                    <g key={`a-${idx}`}>
                                        <rect
                                            x={startX + idx * spacing - boxWidth / 2}
                                            y="70"
                                            width={boxWidth}
                                            height={boxHeight}
                                            fill={isActive ? '#fef3c7' : '#e0f2fe'}
                                            stroke={isActive ? '#f59e0b' : '#0284c7'}
                                            strokeWidth={isActive ? '3' : '2'}
                                            rx="6"
                                        />
                                        <text
                                            x={startX + idx * spacing}
                                            y="107"
                                            textAnchor="middle"
                                            dominantBaseline="middle"
                                            fontSize="18"
                                            fontWeight="600"
                                        >
                                            {bit}
                                        </text>
                                        {isActive && (
                                            <>
                                                <path
                                                    d={`M ${startX + idx * spacing} 50 L ${startX + idx * spacing} 70`}
                                                    stroke="#f59e0b"
                                                    strokeWidth="2"
                                                    fill="none"
                                                    markerEnd="url(#arrowOrange)"
                                                />
                                                <text
                                                    x={startX + idx * spacing}
                                                    y="40"
                                                    textAnchor="middle"
                                                    dominantBaseline="middle"
                                                    fontSize="16"
                                                    fontWeight="600"
                                                    fill="#f59e0b"
                                                >
                                                    i
                                                </text>
                                            </>
                                        )}
                                    </g>
                                );
                            })}

                            {/* b_bytes */}
                            <text
                                x="80"
                                y="220"
                                textAnchor="end"
                                dominantBaseline="middle"
                                fontSize="16"
                                fontWeight="600"
                                fill="#059669"
                            >
                                b_bytes
                            </text>
                            {bArr.map((bit, idx) => {
                                const isActive = idx === j;
                                return (
                                    <g key={`b-${idx}`}>
                                        <rect
                                            x={startX + idx * spacing - boxWidth / 2}
                                            y="190"
                                            width={boxWidth}
                                            height={boxHeight}
                                            fill={isActive ? '#fef3c7' : '#d1fae5'}
                                            stroke={isActive ? '#f59e0b' : '#059669'}
                                            strokeWidth={isActive ? '3' : '2'}
                                            rx="6"
                                        />
                                        <text
                                            x={startX + idx * spacing}
                                            y="227"
                                            textAnchor="middle"
                                            dominantBaseline="middle"
                                            fontSize="18"
                                            fontWeight="600"
                                        >
                                            {bit}
                                        </text>
                                        {isActive && (
                                            <>
                                                <path
                                                    d={`M ${startX + idx * spacing} 170 L ${startX + idx * spacing} 190`}
                                                    stroke="#f59e0b"
                                                    strokeWidth="2"
                                                    fill="none"
                                                    markerEnd="url(#arrowOrange)"
                                                />
                                                <text
                                                    x={startX + idx * spacing}
                                                    y="160"
                                                    textAnchor="middle"
                                                    dominantBaseline="middle"
                                                    fontSize="16"
                                                    fontWeight="600"
                                                    fill="#f59e0b"
                                                >
                                                    j
                                                </text>
                                            </>
                                        )}
                                    </g>
                                );
                            })}

                            {/* 計算式 */}
                            <rect
                                x="150"
                                y="300"
                                width="300"
                                height="100"
                                rx="8"
                                fill="#fef3c7"
                                stroke="#f59e0b"
                                strokeWidth="2"
                            />
                            <text
                                x="300"
                                y="330"
                                textAnchor="middle"
                                dominantBaseline="middle"
                                fontSize="18"
                                fontWeight="600"
                            >
                                s = carry + a[i] + b[j]
                            </text>
                            <text
                                x="300"
                                y="360"
                                textAnchor="middle"
                                dominantBaseline="middle"
                                fontSize="18"
                                fontWeight="600"
                            >
                                s = {carry} + {i >= 0 ? aArr[i] : '0'} + {j >= 0 ? bArr[j] : '0'} ={' '}
                                {s}
                            </text>
                            <text
                                x="300"
                                y="385"
                                textAnchor="middle"
                                dominantBaseline="middle"
                                fontSize="16"
                                fill="#64748b"
                            >
                                out[k] = {s & 1}, carry = {s >> 1}
                            </text>

                            <defs>
                                <marker
                                    id="arrowOrange"
                                    markerWidth="10"
                                    markerHeight="10"
                                    refX="9"
                                    refY="3"
                                    orient="auto"
                                    markerUnits="strokeWidth"
                                >
                                    <path d="M0,0 L0,6 L9,3 z" fill="#f59e0b" />
                                </marker>
                            </defs>
                        </svg>
                    );
                }

                if (type === 'result') {
                    return (
                        <svg
                            viewBox="0 0 600 250"
                            style={{ maxWidth: '100%', height: 'auto', marginTop: '20px' }}
                        >
                            <text
                                x="300"
                                y="40"
                                textAnchor="middle"
                                dominantBaseline="middle"
                                fontSize="18"
                                fontWeight="600"
                            >
                                最終結果
                            </text>

                            <text
                                x="100"
                                y="130"
                                textAnchor="end"
                                dominantBaseline="middle"
                                fontSize="18"
                                fontWeight="600"
                                fill="#10b981"
                            >
                                result =
                            </text>
                            {result.split('').map((bit, idx) => (
                                <g key={`r-${idx}`}>
                                    <rect
                                        x={startX + idx * spacing - boxWidth / 2}
                                        y="100"
                                        width={boxWidth}
                                        height={boxHeight}
                                        fill="#d1fae5"
                                        stroke="#10b981"
                                        strokeWidth="3"
                                        rx="6"
                                    />
                                    <text
                                        x={startX + idx * spacing}
                                        y="137"
                                        textAnchor="middle"
                                        dominantBaseline="middle"
                                        fontSize="18"
                                        fontWeight="600"
                                    >
                                        {bit}
                                    </text>
                                </g>
                            ))}

                            <text
                                x="300"
                                y="210"
                                textAnchor="middle"
                                dominantBaseline="middle"
                                fontSize="18"
                                fill="#10b981"
                                fontWeight="600"
                            >
                                "{result}"
                            </text>
                        </svg>
                    );
                }

                return null;
            }

            function AddBinarySteps() {
                const stepsData = [
                    {
                        step: 1,
                        title: '入力と初期確認',
                        desc: 'a = "11", b = "1" の場合を例とする。どちらも "0" ではないため、本処理に進む。',
                        visual: {
                            type: 'init',
                            a: '11',
                            b: '1',
                        },
                    },
                    {
                        step: 2,
                        title: 'bytes変換と初期化',
                        desc: "a.encode('ascii') と b.encode('ascii') でbytes化。インデックス i=1, j=0, carry=0 を初期化。",
                        visual: {
                            type: 'convert',
                            a: '11',
                            b: '1',
                            i: 1,
                            j: 0,
                            carry: 0,
                        },
                    },
                    {
                        step: 3,
                        title: '第1反復: 最下位桁',
                        desc: "i=1, j=0 の位置。s = 0 + 1 + 1 = 2。out[k] = '0' (2 & 1 = 0), carry = 1 (2 >> 1 = 1)。",
                        visual: {
                            type: 'process',
                            a: '11',
                            b: '1',
                            i: 1,
                            j: 0,
                            carry: 0,
                            s: 2,
                        },
                    },
                    {
                        step: 4,
                        title: '第2反復: 次の桁',
                        desc: "i=0, j=-1（範囲外）。s = 1 + 1 + 0 = 2。out[k] = '0' (2 & 1 = 0), carry = 1 (2 >> 1 = 1)。",
                        visual: {
                            type: 'process',
                            a: '11',
                            b: '1',
                            i: 0,
                            j: -1,
                            carry: 1,
                            s: 2,
                        },
                    },
                    {
                        step: 5,
                        title: '第3反復: キャリー処理',
                        desc: "i=-1, j=-1（どちらも範囲外）。s = 1 + 0 + 0 = 1。out[k] = '1' (1 & 1 = 1), carry = 0 (1 >> 1 = 0)。",
                        visual: {
                            type: 'process',
                            a: '11',
                            b: '1',
                            i: -1,
                            j: -1,
                            carry: 1,
                            s: 1,
                        },
                    },
                    {
                        step: 6,
                        title: 'ループ終了とデコード',
                        desc: 'i<0, j<0, carry=0 でループ終了。out[start:].decode(\'ascii\') で "100" を取得。',
                        visual: {
                            type: 'result',
                            result: '100',
                        },
                    },
                ];

                const [activeStep, setActiveStep] = useState(1);
                const [isPlaying, setIsPlaying] = useState(false);
                const timerRef = useRef(null);

                useEffect(() => {
                    if (isPlaying) {
                        if (activeStep >= stepsData.length) {
                            setIsPlaying(false);
                            setActiveStep(1);
                            return;
                        }
                        timerRef.current = setTimeout(() => {
                            setActiveStep((prev) => prev + 1);
                        }, 1800);
                    }
                    return () => {
                        if (timerRef.current) clearTimeout(timerRef.current);
                    };
                }, [isPlaying, activeStep]);

                const handlePlay = () => {
                    if (isPlaying) return;
                    setIsPlaying(true);
                    if (activeStep >= stepsData.length) {
                        setActiveStep(1);
                    }
                };

                const handlePrev = () => {
                    if (activeStep > 1) {
                        setActiveStep((prev) => prev - 1);
                        setIsPlaying(false);
                    }
                };

                const handleNext = () => {
                    if (activeStep < stepsData.length) {
                        setActiveStep((prev) => prev + 1);
                        setIsPlaying(false);
                    }
                };

                const handleReset = () => {
                    setActiveStep(1);
                    setIsPlaying(false);
                };

                const handleStepClick = (step) => {
                    setActiveStep(step);
                    setIsPlaying(false);
                };

                const currentStepData =
                    stepsData.find((s) => s.step === activeStep) || stepsData[0];

                return (
                    <div className="grid grid-cols-1 md:grid-cols-[1fr_2fr] gap-8 mt-2">
                        <div>
                            <h3 className="mt-0 mb-4 text-teal-800 text-xl font-semibold">
                                ステップ一覧
                            </h3>
                            <div className="space-y-2">
                                {stepsData.map((step) => {
                                    const isActive = activeStep === step.step;
                                    return (
                                        <button
                                            key={step.step}
                                            type="button"
                                            className={[
                                                'w-full text-left text-[0.95rem] rounded-xl border-2 transition cursor-pointer px-4 py-4',
                                                'bg-white border-slate-200 hover:border-emerald-500 hover:translate-x-1',
                                                isActive
                                                    ? 'bg-[linear-gradient(135deg,#d1fae5,#a7f3d0)] border-emerald-500 shadow-[0_4px_12px_rgba(16,185,129,0.20)]'
                                                    : '',
                                            ].join(' ')}
                                            onClick={() => handleStepClick(step.step)}
                                            aria-label={`ステップ${step.step}: ${step.title}`}
                                            aria-current={isActive ? 'step' : undefined}
                                        >
                                            <div
                                                className={[
                                                    'font-bold mb-1',
                                                    isActive ? 'text-emerald-900' : 'text-teal-800',
                                                ].join(' ')}
                                            >
                                                Step {step.step}: {step.title}
                                            </div>
                                            <div className="text-slate-500 text-sm mt-1">
                                                {step.desc.substring(0, 50)}
                                                {step.desc.length > 50 ? '...' : ''}
                                            </div>
                                        </button>
                                    );
                                })}
                            </div>
                        </div>

                        <div className="my-auto">
                            <div className="rounded-2xl p-8 mt-10 border-2 border-emerald-200 bg-[linear-gradient(135deg,#ecfdf5,#f0f9ff)]">
                                <h3 className="mt-0 text-teal-800 text-xl font-semibold">
                                    Step {currentStepData.step}: {currentStepData.title}
                                </h3>
                                <p className="text-slate-600 leading-7">{currentStepData.desc}</p>
                            </div>

                            <StepVisualization visual={currentStepData.visual} />

                            <div className="flex flex-wrap justify-center gap-2 mt-1">
                                <button
                                    type="button"
                                    className="px-6 py-3 rounded-xl font-semibold text-white transition disabled:opacity-50 shadow hover:-translate-y-0.5 hover:shadow-[0_8px_16px_rgba(16,185,129,0.30)] bg-[linear-gradient(135deg,#10b981,#059669)]"
                                    onClick={handlePlay}
                                    disabled={isPlaying}
                                    aria-label="自動再生"
                                >
                                    ▶ Play
                                </button>
                                <button
                                    type="button"
                                    className="px-6 py-3 rounded-xl font-semibold text-white transition disabled:opacity-50 shadow hover:-translate-y-0.5 hover:shadow-[0_8px_16px_rgba(16,185,129,0.30)] bg-[linear-gradient(135deg,#0ea5e9,#0284c7)]"
                                    onClick={handlePrev}
                                    disabled={activeStep === 1}
                                    aria-label="前へ"
                                >
                                    ◀ Prev
                                </button>
                                <button
                                    type="button"
                                    className="px-6 py-3 rounded-xl font-semibold text-white transition disabled:opacity-50 shadow hover:-translate-y-0.5 hover:shadow-[0_8px_16px_rgba(16,185,129,0.30)] bg-[linear-gradient(135deg,#0ea5e9,#0284c7)]"
                                    onClick={handleNext}
                                    disabled={activeStep === stepsData.length}
                                    aria-label="次へ"
                                >
                                    Next ▶
                                </button>
                                <button
                                    type="button"
                                    className="px-6 py-3 rounded-xl font-semibold text-white transition shadow hover:-translate-y-0.5 hover:shadow-[0_8px_16px_rgba(16,185,129,0.30)] bg-[linear-gradient(135deg,#64748b,#475569)]"
                                    onClick={handleReset}
                                    aria-label="リセット"
                                >
                                    ⟲ Reset
                                </button>
                            </div>
                        </div>
                    </div>
                );
            }

            const root = ReactDOM.createRoot(document.getElementById('react-root'));
            root.render(<AddBinarySteps />);
        </script>
    </body>
</html>
