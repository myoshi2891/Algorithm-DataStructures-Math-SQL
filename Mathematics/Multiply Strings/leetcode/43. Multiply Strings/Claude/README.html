<!DOCTYPE html>
<html lang="ja">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>æ–‡å­—åˆ—æ›ã‘ç®—ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®è©³ç´°è§£æ</title>
        <style>
            body {
                font-family: 'Arial', sans-serif;
                line-height: 1.6;
                margin: 0;
                padding: 20px;
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: #333;
                min-height: 100vh;
            }

            .container {
                max-width: 1200px;
                margin: 0 auto;
                background: white;
                border-radius: 15px;
                padding: 30px;
                box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            }

            h1 {
                color: #4a5568;
                text-align: center;
                margin-bottom: 30px;
                font-size: 2.5em;
                background: linear-gradient(45deg, #667eea, #764ba2);
                -webkit-background-clip: text;
                -webkit-text-fill-color: transparent;
            }

            h2 {
                color: #2d3748;
                border-bottom: 3px solid #667eea;
                padding-bottom: 10px;
                margin-top: 40px;
            }

            .step-container {
                background: #f7fafc;
                border-radius: 10px;
                padding: 20px;
                margin: 20px 0;
                border-left: 5px solid #667eea;
            }

            .grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(50px, 1fr));
                gap: 2px;
                margin: 15px 0;
                max-width: 600px;
            }

            .cell {
                background: #e2e8f0;
                border: 2px solid #cbd5e0;
                padding: 10px;
                text-align: center;
                font-weight: bold;
                border-radius: 5px;
                transition: all 0.3s ease;
            }

            .cell.highlight {
                background: #fed7d7;
                border-color: #f56565;
                transform: scale(1.05);
            }

            .cell.result {
                background: #c6f6d5;
                border-color: #38a169;
            }

            .cell.carry {
                background: #fbb6ce;
                border-color: #d53f8c;
            }

            .multiplication-table {
                background: white;
                border-radius: 10px;
                padding: 20px;
                margin: 20px 0;
                box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            }

            .process-flow {
                display: flex;
                align-items: center;
                margin: 20px 0;
                flex-wrap: wrap;
            }

            .process-step {
                background: #667eea;
                color: white;
                padding: 15px 20px;
                border-radius: 25px;
                margin: 5px;
                font-weight: bold;
                box-shadow: 0 4px 8px rgba(102, 126, 234, 0.3);
            }

            .arrow {
                font-size: 24px;
                color: #667eea;
                margin: 0 10px;
            }

            .example-box {
                background: linear-gradient(135deg, #667eea, #764ba2);
                color: white;
                padding: 25px;
                border-radius: 15px;
                margin: 20px 0;
            }

            .code-block {
                background: #2d3748;
                color: #e2e8f0;
                padding: 20px;
                border-radius: 10px;
                font-family: 'Courier New', monospace;
                margin: 15px 0;
                overflow-x: auto;
            }

            .complexity-badge {
                display: inline-block;
                background: #38a169;
                color: white;
                padding: 8px 16px;
                border-radius: 20px;
                font-weight: bold;
                margin: 5px;
            }

            .interactive-demo {
                background: #f7fafc;
                padding: 25px;
                border-radius: 15px;
                margin: 20px 0;
                border: 2px dashed #667eea;
            }

            input {
                padding: 12px;
                border: 2px solid #cbd5e0;
                border-radius: 8px;
                margin: 10px 5px;
                font-size: 16px;
                width: 120px;
            }

            button {
                background: linear-gradient(135deg, #667eea, #764ba2);
                color: white;
                border: none;
                padding: 12px 24px;
                border-radius: 25px;
                cursor: pointer;
                font-weight: bold;
                font-size: 16px;
                transition: transform 0.2s ease;
            }

            button:hover {
                transform: translateY(-2px);
                box-shadow: 0 6px 12px rgba(102, 126, 234, 0.3);
            }

            #result {
                font-size: 20px;
                font-weight: bold;
                color: #38a169;
                margin-top: 15px;
            }

            .visualization {
                background: white;
                border-radius: 10px;
                padding: 20px;
                margin: 20px 0;
                box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            }
        </style>
    </head>

    <body>
        <div class="container">
            <h1>æ–‡å­—åˆ—æ›ã‘ç®—ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®è©³ç´°è§£æ</h1>

            <h2>ğŸ¯ ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ æ¦‚è¦</h2>
            <div class="step-container">
                <p>ã“ã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã¯<strong>ç­†ç®—ã®æ›ã‘ç®—</strong>ã‚’æ¨¡å€£ã—ã¦ã€æ–‡å­—åˆ—ã¨ã—ã¦è¡¨ç¾ã•ã‚ŒãŸå¤§ããªæ•°ã®æ›ã‘ç®—ã‚’å®Ÿç¾ã—ã¾ã™ã€‚</p>
                <div class="process-flow">
                    <div class="process-step">å…¥åŠ›æ¤œè¨¼</div>
                    <span class="arrow">â†’</span>
                    <div class="process-step">é…åˆ—åˆæœŸåŒ–</div>
                    <span class="arrow">â†’</span>
                    <div class="process-step">æ¡ã”ã¨æ›ã‘ç®—</div>
                    <span class="arrow">â†’</span>
                    <div class="process-step">ç¹°ã‚Šä¸ŠãŒã‚Šå‡¦ç†</div>
                    <span class="arrow">â†’</span>
                    <div class="process-step">æ–‡å­—åˆ—å¤‰æ›</div>
                </div>
            </div>

            <h2>ğŸ“Š å…·ä½“ä¾‹ã§ã®å‹•ä½œè§£æï¼š123 Ã— 456</h2>
            <div class="example-box">
                <h3>Step 1: åˆæœŸåŒ–</h3>
                <p>num1 = "123" (é•·ã• 3), num2 = "456" (é•·ã• 3)</p>
                <p>çµæœé…åˆ—ã‚µã‚¤ã‚º: 3 + 3 = 6</p>
            </div>

            <div class="visualization">
                <h3>Step 2: é…åˆ—ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹æ§‹é€ </h3>
                <div class="grid" style="grid-template-columns: repeat(6, 1fr);">
                    <div class="cell">0</div>
                    <div class="cell">1</div>
                    <div class="cell">2</div>
                    <div class="cell">3</div>
                    <div class="cell">4</div>
                    <div class="cell">5</div>
                </div>
                <p><strong>result[0] result[1] result[2] result[3] result[4] result[5]</strong></p>
                <p>åˆæœŸå€¤: [0, 0, 0, 0, 0, 0]</p>
            </div>

            <div class="multiplication-table">
                <h3>Step 3: ç­†ç®—ã®æ›ã‘ç®—å‡¦ç†</h3>
                <div style="font-family: monospace; font-size: 18px; line-height: 1.8;">
                    <div style="text-align: center; margin-bottom: 20px;">
                        <div style="color: #667eea;"> 1 2 3</div>
                        <div style="color: #764ba2;">Ã— 4 5 6</div>
                        <div style="border-bottom: 2px solid #333;">â”€â”€â”€â”€â”€â”€â”€â”€â”€</div>
                    </div>
                </div>

                <h4>å„æ¡ã®æ›ã‘ç®—ã¨ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹è¨ˆç®—:</h4>
                <div class="code-block">
                    i=2, j=2: 3Ã—6=18 â†’ p1=4, p2=5 â†’ result[5]=8, result[4]=1
                    i=2, j=1: 3Ã—5=15 â†’ p1=3, p2=4 â†’ sum=15+1=16 â†’ result[4]=6, result[3]=1
                    i=2, j=0: 3Ã—4=12 â†’ p1=2, p2=3 â†’ sum=12+1=13 â†’ result[3]=3, result[2]=1
                    i=1, j=2: 2Ã—6=12 â†’ p1=3, p2=4 â†’ sum=12+6=18 â†’ result[4]=8, result[3]=4
                    i=1, j=1: 2Ã—5=10 â†’ p1=2, p2=3 â†’ sum=10+4=14 â†’ result[3]=4, result[2]=2
                    i=1, j=0: 2Ã—4=8 â†’ p1=1, p2=2 â†’ sum=8+2=10 â†’ result[2]=0, result[1]=1
                    i=0, j=2: 1Ã—6=6 â†’ p1=2, p2=3 â†’ sum=6+4=10 â†’ result[3]=0, result[2]=1
                    i=0, j=1: 1Ã—5=5 â†’ p1=1, p2=2 â†’ sum=5+1=6 â†’ result[2]=6, result[1]=1
                    i=0, j=0: 1Ã—4=4 â†’ p1=0, p2=1 â†’ sum=4+1=5 â†’ result[1]=5, result[0]=0
                </div>
            </div>

            <div class="visualization">
                <h3>Step 4: æœ€çµ‚çµæœé…åˆ—</h3>
                <div class="grid" style="grid-template-columns: repeat(6, 1fr);">
                    <div class="cell">0</div>
                    <div class="cell result">5</div>
                    <div class="cell result">6</div>
                    <div class="cell result">0</div>
                    <div class="cell result">8</div>
                    <div class="cell result">8</div>
                </div>
                <p>å…ˆé ­ã®0ã‚’é™¤å»: "56088"</p>
            </div>

            <h2>ğŸ” è©³ç´°ãªå‡¦ç†ãƒ•ãƒ­ãƒ¼</h2>

            <div class="step-container">
                <h3>1. ç‰¹æ®Šã‚±ãƒ¼ã‚¹å‡¦ç†</h3>
                <div class="code-block">
                    if (num1 === "0" || num2 === "0") {
                    return "0"; // æ—©æœŸçµ‚äº†ã§ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å‘ä¸Š
                    }
                </div>
            </div>

            <div class="step-container">
                <h3>2. ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹è¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯</h3>
                <p><strong>é‡è¦:</strong> ç­†ç®—ã§ã®æ¡ã®ä½ç½®ã‚’é…åˆ—ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã«ãƒãƒƒãƒ”ãƒ³ã‚°</p>
                <div class="code-block">
                    p1 = i + j // ä¸Šä½æ¡ï¼ˆç¹°ã‚Šä¸ŠãŒã‚Šå…ˆï¼‰
                    p2 = i + j + 1 // ä¸‹ä½æ¡ï¼ˆç¾åœ¨ã®çµæœï¼‰

                    ä¾‹: i=1, j=2 ã®å ´åˆ
                    p1 = 1 + 2 = 3
                    p2 = 1 + 2 + 1 = 4
                </div>
            </div>

            <div class="step-container">
                <h3>3. ç¹°ã‚Šä¸ŠãŒã‚Šå‡¦ç†</h3>
                <div class="code-block">
                    const sum = mul + result[p2]; // ç¾åœ¨ã®å€¤ã«åŠ ç®—
                    result[p2] = sum % 10; // 1æ¡ã®ã¿ä¿æŒ
                    result[p1] += Math.floor(sum / 10); // ç¹°ã‚Šä¸ŠãŒã‚Šã‚’åŠ ç®—
                </div>
            </div>

            <h2>âš¡ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åˆ†æ</h2>
            <div class="step-container">
                <h3>è¨ˆç®—é‡</h3>
                <div class="complexity-badge">æ™‚é–“è¨ˆç®—é‡: O(m Ã— n)</div>
                <div class="complexity-badge">ç©ºé–“è¨ˆç®—é‡: O(m + n)</div>

                <h4>æœ€é©åŒ–ãƒã‚¤ãƒ³ãƒˆ:</h4>
                <ul>
                    <li><strong>æ—©æœŸçµ‚äº†:</strong> "0" ã®ç‰¹æ®Šã‚±ãƒ¼ã‚¹å‡¦ç†</li>
                    <li><strong>åŠ¹ç‡çš„ãªé…åˆ—æ“ä½œ:</strong> ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹è¨ˆç®—ã«ã‚ˆã‚‹ç›´æ¥ã‚¢ã‚¯ã‚»ã‚¹</li>
                    <li><strong>æœ€å°é™ã®æ–‡å­—åˆ—æ“ä½œ:</strong> æœ€å¾Œã«ä¸€åº¦ã ã‘ join() ã‚’å®Ÿè¡Œ</li>
                    <li><strong>ãƒ¡ãƒ¢ãƒªåŠ¹ç‡:</strong> å›ºå®šã‚µã‚¤ã‚ºã®é…åˆ—ä½¿ç”¨</li>
                </ul>
            </div>

            <h2>ğŸ® ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãƒ‡ãƒ¢</h2>
            <div class="interactive-demo">
                <h3>å®Ÿéš›ã«è©¦ã—ã¦ã¿ã¾ã—ã‚‡ã†ï¼</h3>
                <div>
                    <input type="text" id="num1" placeholder="æ•°å€¤1" value="123">
                    <span>Ã—</span>
                    <input type="text" id="num2" placeholder="æ•°å€¤2" value="456">
                    <button onclick="demoMultiply()">è¨ˆç®—å®Ÿè¡Œ</button>
                </div>
                <div id="result"></div>
                <div id="process"></div>
            </div>

            <h2>ğŸ”§ TypeScriptå®Ÿè£…ã®åˆ©ç‚¹</h2>
            <div class="step-container">
                <h4>å‹å®‰å…¨æ€§ã«ã‚ˆã‚‹åˆ©ç‚¹:</h4>
                <ul>
                    <li><strong>ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ãƒã‚§ãƒƒã‚¯:</strong> å‹ã‚¨ãƒ©ãƒ¼ã®äº‹å‰æ¤œå‡º</li>
                    <li><strong>IDEæ”¯æ´:</strong> è‡ªå‹•è£œå®Œã¨ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°</li>
                    <li><strong>ä¿å®ˆæ€§å‘ä¸Š:</strong> æ„å›³çš„ã§ãªã„å‹å¤‰æ›ã®é˜²æ­¢</li>
                    <li><strong>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆåŒ–:</strong> å‹æ³¨é‡ˆã«ã‚ˆã‚‹ä»•æ§˜ã®æ˜ç¢ºåŒ–</li>
                </ul>
            </div>
        </div>

        <script>
            function multiply(num1, num2) {
                if (num1 === "0" || num2 === "0") {
                    return "0";
                }

                const m = num1.length;
                const n = num2.length;
                const result = new Array(m + n).fill(0);

                for (let i = m - 1; i >= 0; i--) {
                    for (let j = n - 1; j >= 0; j--) {
                        const mul = parseInt(num1[i]) * parseInt(num2[j]);
                        const p1 = i + j;
                        const p2 = i + j + 1;
                        const sum = mul + result[p2];

                        result[p2] = sum % 10;
                        result[p1] += Math.floor(sum / 10);
                    }
                }

                let start = 0;
                while (start < result.length && result[start] === 0) {
                    start++;
                }

                return result.slice(start).join('');
            }

            function demoMultiply() {
                const num1 = document.getElementById('num1').value;
                const num2 = document.getElementById('num2').value;

                if (!num1 || !num2 || !/^\d+$/.test(num1) || !/^\d+$/.test(num2)) {
                    document.getElementById('result').innerHTML =
                        '<span style="color: #e53e3e;">æ­£ã®æ•´æ•°ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„</span>';
                    return;
                }

                const startTime = performance.now();
                const result = multiply(num1, num2);
                const endTime = performance.now();

                document.getElementById('result').innerHTML =
                    `<strong>çµæœ: ${result}</strong><br>
                 <small>è¨ˆç®—æ™‚é–“: ${(endTime - startTime).toFixed(4)}ms</small>`;

                // ãƒ—ãƒ­ã‚»ã‚¹è¡¨ç¤º
                let processHtml = '<h4 style="margin-top: 20px;">è¨ˆç®—ãƒ—ãƒ­ã‚»ã‚¹:</h4>';
                processHtml += `<div style="font-family: monospace;">`;
                processHtml += `é…åˆ—ã‚µã‚¤ã‚º: ${num1.length + num2.length}<br>`;
                processHtml += `ãƒ«ãƒ¼ãƒ—å›æ•°: ${num1.length} Ã— ${num2.length} = ${num1.length * num2.length}<br>`;
                processHtml += `</div>`;

                document.getElementById('process').innerHTML = processHtml;
            }

            // åˆæœŸãƒ‡ãƒ¢å®Ÿè¡Œ
            window.onload = function () {
                demoMultiply();
            };
        </script>
    </body>

</html>