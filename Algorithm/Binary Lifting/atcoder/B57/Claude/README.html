<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ãƒ€ãƒ–ãƒªãƒ³ã‚°æ³•ã«ã‚ˆã‚‹æ•°å­—æ“ä½œå•é¡Œ - ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ è©³ç´°è§£æ</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
        }
        
        h1 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 30px;
            font-size: 2.5em;
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        h2 {
            color: #34495e;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
            margin-top: 40px;
        }
        
        h3 {
            color: #2980b9;
            margin-top: 30px;
        }
        
        .algorithm-box {
            background: #f8f9ff;
            border-left: 5px solid #3498db;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .step-visualization {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .step-card {
            background: white;
            padding: 20px;
            border-radius: 12px;
            border: 2px solid #e0e6ed;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .step-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
        }
        
        .step-number {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-bottom: 15px;
        }
        
        .complexity-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .complexity-table th, .complexity-table td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #e0e6ed;
        }
        
        .complexity-table th {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            font-weight: bold;
        }
        
        .complexity-table tr:nth-child(even) {
            background-color: #f8f9ff;
        }
        
        .code-block {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 20px 0;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            line-height: 1.4;
        }
        
        .example-flow {
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            gap: 15px;
            margin: 20px 0;
            padding: 20px;
            background: #f8f9ff;
            border-radius: 12px;
            border: 2px solid #3498db;
        }
        
        .flow-step {
            background: white;
            padding: 10px 20px;
            border-radius: 25px;
            border: 2px solid #3498db;
            font-weight: bold;
            color: #2980b9;
            white-space: nowrap;
        }
        
        .arrow {
            font-size: 24px;
            color: #3498db;
            font-weight: bold;
        }
        
        .doubling-table {
            overflow-x: auto;
            margin: 20px 0;
        }
        
        .doubling-table table {
            min-width: 600px;
            width: 100%;
            border-collapse: collapse;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .doubling-table th, .doubling-table td {
            padding: 12px;
            text-align: center;
            border: 1px solid #e0e6ed;
            font-family: 'Monaco', 'Menlo', monospace;
        }
        
        .doubling-table th {
            background: #34495e;
            color: white;
            font-weight: bold;
        }
        
        .doubling-table .bit-header {
            background: linear-gradient(135deg, #667eea, #764ba2);
        }
        
        .doubling-table .highlight {
            background: #f1c40f;
            font-weight: bold;
        }
        
        .memory-diagram {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        
        .memory-block {
            background: white;
            border: 2px solid #3498db;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            position: relative;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .memory-header {
            background: #3498db;
            color: white;
            padding: 5px 10px;
            border-radius: 4px;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .performance-chart {
            background: white;
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .chart-bar {
            display: flex;
            align-items: center;
            margin: 10px 0;
        }
        
        .chart-label {
            width: 150px;
            font-weight: bold;
            color: #2c3e50;
        }
        
        .chart-bar-fill {
            height: 25px;
            background: linear-gradient(90deg, #667eea, #764ba2);
            border-radius: 12px;
            margin-right: 10px;
            position: relative;
            overflow: hidden;
        }
        
        .chart-value {
            color: #2c3e50;
            font-weight: bold;
        }
        
        .interactive-demo {
            background: #f8f9ff;
            border: 2px solid #3498db;
            border-radius: 12px;
            padding: 20px;
            margin: 30px 0;
        }
        
        .demo-controls {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .demo-input {
            padding: 10px;
            border: 2px solid #bdc3c7;
            border-radius: 6px;
            font-size: 16px;
        }
        
        .demo-button {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: bold;
            transition: transform 0.2s;
        }
        
        .demo-button:hover {
            transform: scale(1.05);
        }
        
        .demo-result {
            background: white;
            padding: 20px;
            border-radius: 8px;
            border: 2px solid #27ae60;
            margin-top: 20px;
            font-family: 'Monaco', 'Menlo', monospace;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸš€ ãƒ€ãƒ–ãƒªãƒ³ã‚°æ³•ã«ã‚ˆã‚‹æ•°å­—æ“ä½œå•é¡Œ<br>è©³ç´°ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ è§£æ</h1>
        
        <!-- å•é¡Œæ¦‚è¦ -->
        <section>
            <h2>ğŸ“‹ å•é¡Œæ¦‚è¦</h2>
            <div class="algorithm-box">
                <strong>æ“ä½œå®šç¾©:</strong> æ•°å€¤ã‹ã‚‰å„æ¡ã®æ•°å­—ã®å’Œã‚’å¼•ã<br>
                <strong>ç›®æ¨™:</strong> 1ã‹ã‚‰Nã®å„æ•°å€¤ã«å¯¾ã—ã¦Kå›æ“ä½œå¾Œã®å€¤ã‚’æ±‚ã‚ã‚‹<br>
                <strong>åˆ¶ç´„:</strong> N â‰¤ 300,000, K â‰¤ 10â¹
            </div>
            
            <div class="example-flow">
                <div class="flow-step">108</div>
                <div class="arrow">â†’</div>
                <div class="flow-step">108-(1+0+8)=99</div>
                <div class="arrow">â†’</div>
                <div class="flow-step">99-(9+9)=81</div>
                <div class="arrow">â†’</div>
                <div class="flow-step">81-(8+1)=72</div>
            </div>
        </section>
        
        <!-- ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ é¸æŠã®æ¯”è¼ƒ -->
        <section>
            <h2>âš–ï¸ ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ é¸æŠã®æ¯”è¼ƒ</h2>
            <table class="complexity-table">
                <thead>
                    <tr>
                        <th>ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ</th>
                        <th>æ™‚é–“è¨ˆç®—é‡</th>
                        <th>ç©ºé–“è¨ˆç®—é‡</th>
                        <th>åˆ¶ç´„ã§ã®å®Ÿè¡Œå¯èƒ½æ€§</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>å˜ç´”ãªç¹°ã‚Šè¿”ã—</strong></td>
                        <td>O(N Ã— K)</td>
                        <td>O(1)</td>
                        <td>âŒ TLE (æœ€å¤§ 3Ã—10Â¹â´ æ“ä½œ)</td>
                    </tr>
                    <tr>
                        <td><strong>ã‚µã‚¤ã‚¯ãƒ«æ¤œå‡º</strong></td>
                        <td>O(N Ã— âˆšmax_value)</td>
                        <td>O(âˆšmax_value)</td>
                        <td>âš ï¸ å¤§ããªå€¤ã§TLE</td>
                    </tr>
                    <tr>
                        <td><strong>ãƒ€ãƒ–ãƒªãƒ³ã‚°æ³•</strong></td>
                        <td>O(N Ã— log K)</td>
                        <td>O(N Ã— log K)</td>
                        <td>âœ… é«˜é€Ÿ (æœ€å¤§ 9Ã—10â¶ æ“ä½œ)</td>
                    </tr>
                </tbody>
            </table>
        </section>
        
        <!-- ãƒ€ãƒ–ãƒªãƒ³ã‚°æ³•ã®åŸç† -->
        <section>
            <h2>ğŸ”„ ãƒ€ãƒ–ãƒªãƒ³ã‚°æ³•ã®åŸç†</h2>
            
            <h3>åŸºæœ¬æ¦‚å¿µ</h3>
            <div class="step-visualization">
                <div class="step-card">
                    <div class="step-number">1</div>
                    <h4>äº‹å‰è¨ˆç®—</h4>
                    <p>å„å€¤ã‹ã‚‰2â¿å›æ“ä½œå¾Œã®å€¤ã‚’å…¨ã¦è¨ˆç®—</p>
                </div>
                <div class="step-card">
                    <div class="step-number">2</div>
                    <h4>äºŒé€²åˆ†è§£</h4>
                    <p>K ã‚’2ã®å†ªã®å’Œã§è¡¨ç¾<br>ä¾‹: 13 = 8+4+1 = 2Â³+2Â²+2â°</p>
                </div>
                <div class="step-card">
                    <div class="step-number">3</div>
                    <h4>é«˜é€Ÿè¨ˆç®—</h4>
                    <p>äº‹å‰è¨ˆç®—ã—ãŸå€¤ã‚’çµ„ã¿åˆã‚ã›ã¦<br>O(log K)ã§çµæœã‚’å–å¾—</p>
                </div>
            </div>
            
            <h3>ãƒ€ãƒ–ãƒªãƒ³ã‚°ãƒ†ãƒ¼ãƒ–ãƒ«æ§‹ç¯‰ä¾‹</h3>
            <div class="doubling-table">
                <table>
                    <thead>
                        <tr>
                            <th>å€¤\ãƒ“ãƒƒãƒˆ</th>
                            <th class="bit-header">2â°=1å›</th>
                            <th class="bit-header">2Â¹=2å›</th>
                            <th class="bit-header">2Â²=4å›</th>
                            <th class="bit-header">2Â³=8å›</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>10</strong></td>
                            <td>9</td>
                            <td>0</td>
                            <td>0</td>
                            <td>0</td>
                        </tr>
                        <tr>
                            <td><strong>20</strong></td>
                            <td>18</td>
                            <td>9</td>
                            <td>0</td>
                            <td>0</td>
                        </tr>
                        <tr>
                            <td><strong>108</strong></td>
                            <td>99</td>
                            <td>81</td>
                            <td>45</td>
                            <td>36</td>
                        </tr>
                        <tr>
                            <td><strong>123</strong></td>
                            <td class="highlight">117</td>
                            <td class="highlight">102</td>
                            <td class="highlight">99</td>
                            <td class="highlight">81</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>
        
        <!-- å®Ÿè£…ã®è©³ç´°è§£æ -->
        <section>
            <h2>ğŸ”§ å®Ÿè£…ã®è©³ç´°è§£æ</h2>
            
            <h3>1. åŸºæœ¬æ“ä½œé–¢æ•°</h3>
            <div class="code-block">
function getDigitSum(n: number): number {
    let sum = 0;
    while (n > 0) {
        sum += n % 10;        // æœ€ä¸‹ä½æ¡ã‚’å–å¾—
        n = Math.floor(n / 10); // æ¡ã‚’å³ã‚·ãƒ•ãƒˆ
    }
    return sum;
}

// ä¾‹: getDigitSum(123) â†’ 1+2+3 = 6
// è¨ˆç®—é‡: O(logâ‚â‚€ n) â‰ˆ æ¡æ•°ã«æ¯”ä¾‹
            </div>
            
            <h3>2. ãƒ€ãƒ–ãƒªãƒ³ã‚°ãƒ†ãƒ¼ãƒ–ãƒ«æ§‹ç¯‰</h3>
            <div class="algorithm-box">
                <strong>æ§‹ç¯‰éç¨‹:</strong><br>
                1. <code>table[0][i]</code> = i ã‹ã‚‰1å›æ“ä½œå¾Œã®å€¤ã‚’è¨ˆç®—<br>
                2. <code>table[bit][i] = table[bit-1][table[bit-1][i]]</code><br>
                3. 2^bitå› = 2^(bit-1)å› + 2^(bit-1)å› ã®æ€§è³ªã‚’åˆ©ç”¨
            </div>
            
            <div class="code-block">
// bit=1ã®æ§‹ç¯‰ä¾‹ï¼ˆ2å›æ“ä½œï¼‰
for (let i = 0; i <= maxIndex; i++) {
    table[1][i] = table[0][table[0][i]];
    // i â†’ 1å›æ“ä½œ â†’ 1å›æ“ä½œ = 2å›æ“ä½œ
}

// bit=2ã®æ§‹ç¯‰ä¾‹ï¼ˆ4å›æ“ä½œï¼‰  
for (let i = 0; i <= maxIndex; i++) {
    table[2][i] = table[1][table[1][i]];
    // i â†’ 2å›æ“ä½œ â†’ 2å›æ“ä½œ = 4å›æ“ä½œ
}
            </div>
            
            <h3>3. ã‚¯ã‚¨ãƒªå‡¦ç†ï¼ˆKå›æ“ä½œã®è¨ˆç®—ï¼‰</h3>
            <div class="example-flow">
                <div class="flow-step">K=13ã‚’ãƒ“ãƒƒãƒˆåˆ†è§£</div>
                <div class="arrow">â†’</div>
                <div class="flow-step">13 = 1101â‚‚</div>
                <div class="arrow">â†’</div>
                <div class="flow-step">8+4+1å›æ“ä½œ</div>
            </div>
            
            <div class="code-block">
// K=13 (1101â‚‚) ã®å ´åˆ
function queryExample(start: number) {
    let current = start;
    
    // ãƒ“ãƒƒãƒˆ0ãŒç«‹ã£ã¦ã„ã‚‹ â†’ 1å›æ“ä½œ
    if (13 & 1) current = table[0][current];
    
    // ãƒ“ãƒƒãƒˆ2ãŒç«‹ã£ã¦ã„ã‚‹ â†’ 4å›æ“ä½œ  
    if (13 & 4) current = table[2][current];
    
    // ãƒ“ãƒƒãƒˆ3ãŒç«‹ã£ã¦ã„ã‚‹ â†’ 8å›æ“ä½œ
    if (13 & 8) current = table[3][current];
    
    return current; // åˆè¨ˆ13å›æ“ä½œå¾Œã®å€¤
}
            </div>
        </section>
        
        <!-- ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡è§£æ -->
        <section>
            <h2>ğŸ’¾ ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡è§£æ</h2>
            
            <div class="memory-diagram">
                <div class="memory-block">
                    <div class="memory-header">ãƒ€ãƒ–ãƒªãƒ³ã‚°ãƒ†ãƒ¼ãƒ–ãƒ«</div>
                    <strong>ã‚µã‚¤ã‚º:</strong> maxIndex Ã— logâ‚‚K<br>
                    <strong>ä¾‹:</strong> 600,000 Ã— 30 = 18M è¦ç´ <br>
                    <strong>ãƒ¡ãƒ¢ãƒª:</strong> ç´„72MB
                </div>
                <div class="memory-block">
                    <div class="memory-header">çµæœé…åˆ—</div>
                    <strong>ã‚µã‚¤ã‚º:</strong> N å€‹ã®æ–‡å­—åˆ—<br>
                    <strong>ä¾‹:</strong> 300,000 å€‹<br>
                    <strong>ãƒ¡ãƒ¢ãƒª:</strong> ç´„2-3MB
                </div>
                <div class="memory-block">
                    <div class="memory-header">ä¸€æ™‚å¤‰æ•°</div>
                    <strong>ã‚¯ã‚¨ãƒªå‡¦ç†ç”¨:</strong> O(1)<br>
                    <strong>ãã®ä»–:</strong> æœ€å°é™<br>
                    <strong>ãƒ¡ãƒ¢ãƒª:</strong> < 1MB
                </div>
            </div>
            
            <div class="algorithm-box">
                <strong>ãƒ¡ãƒ¢ãƒªæœ€é©åŒ–æŠ€è¡“:</strong><br>
                â€¢ é©å¿œçš„ä¸Šé™è¨­å®š: <code>Math.min(NÃ—2, 1,000,000)</code><br>
                â€¢ ç¯„å›²å¤–ã¯ç›´æ¥è¨ˆç®—: äº‹å‰è¨ˆç®—ç¯„å›²ã‚’åˆ¶é™<br>
                â€¢ å®šæœŸçš„GC: å¤§ããªNã§ã®ãƒ¡ãƒ¢ãƒªã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
            </div>
        </section>
        
        <!-- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ¯”è¼ƒ -->
        <section>
            <h2>âš¡ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ¯”è¼ƒ</h2>
            
            <div class="performance-chart">
                <h3>å®Ÿè¡Œæ™‚é–“æ¯”è¼ƒ (N=300,000, K=10â¹)</h3>
                <div class="chart-bar">
                    <div class="chart-label">å˜ç´”ç¹°ã‚Šè¿”ã—</div>
                    <div class="chart-bar-fill" style="width: 100%;"></div>
                    <div class="chart-value">ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ</div>
                </div>
                <div class="chart-bar">
                    <div class="chart-label">ã‚µã‚¤ã‚¯ãƒ«æ¤œå‡º</div>
                    <div class="chart-bar-fill" style="width: 60%;"></div>
                    <div class="chart-value">~10ç§’</div>
                </div>
                <div class="chart-bar">
                    <div class="chart-label">ãƒ€ãƒ–ãƒªãƒ³ã‚°æ³•</div>
                    <div class="chart-bar-fill" style="width: 8%;"></div>
                    <div class="chart-value">~0.8ç§’</div>
                </div>
            </div>
            
            <table class="complexity-table">
                <thead>
                    <tr>
                        <th>æ®µéš</th>
                        <th>å‡¦ç†å†…å®¹</th>
                        <th>è¨ˆç®—é‡</th>
                        <th>å®Ÿè¡Œæ™‚é–“(æ¨å®š)</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>å‰å‡¦ç†</strong></td>
                        <td>ãƒ€ãƒ–ãƒªãƒ³ã‚°ãƒ†ãƒ¼ãƒ–ãƒ«æ§‹ç¯‰</td>
                        <td>O(maxIndex Ã— log K)</td>
                        <td>~200ms</td>
                    </tr>
                    <tr>
                        <td><strong>ã‚¯ã‚¨ãƒªå‡¦ç†</strong></td>
                        <td>Nå€‹ã®å€¤ã‚’ä¸¦åˆ—è¨ˆç®—</td>
                        <td>O(N Ã— log K)</td>
                        <td>~500ms</td>
                    </tr>
                    <tr>
                        <td><strong>å‡ºåŠ›ç”Ÿæˆ</strong></td>
                        <td>æ–‡å­—åˆ—çµåˆãƒ»å‡ºåŠ›</td>
                        <td>O(N)</td>
                        <td>~100ms</td>
                    </tr>
                </tbody>
            </table>
        </section>
        
        <!-- ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰æœ€é©åŒ– -->
        <section>
            <h2>ğŸ¯ ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰æœ€é©åŒ–æˆ¦ç•¥</h2>
            
            <div class="step-visualization">
                <div class="step-card">
                    <div class="step-number">1</div>
                    <h4>é–¾å€¤åˆ¤å®š</h4>
                    <p>K â‰¤ 100: ç›´æ¥è¨ˆç®—<br>K > 100: ãƒ€ãƒ–ãƒªãƒ³ã‚°æ³•</p>
                </div>
                <div class="step-card">
                    <div class="step-number">2</div>
                    <h4>ç¯„å›²ãƒã‚§ãƒƒã‚¯</h4>
                    <p>äº‹å‰è¨ˆç®—ç¯„å›²å†…: ãƒ†ãƒ¼ãƒ–ãƒ«ä½¿ç”¨<br>ç¯„å›²å¤–: ç›´æ¥è¨ˆç®—ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯</p>
                </div>
                <div class="step-card">
                    <div class="step-number">3</div>
                    <h4>ãƒ¡ãƒ¢ãƒªç®¡ç†</h4>
                    <p>é©å¿œçš„ä¸Šé™è¨­å®š<br>å®šæœŸçš„ã‚¬ãƒ™ãƒ¼ã‚¸ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³</p>
                </div>
            </div>
            
            <div class="algorithm-box">
                <strong>æœ€é©åŒ–ã®åŠ¹æœ:</strong><br>
                â€¢ å°ã•ãªK: ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰å‰Šæ¸›ã§2-3å€é«˜é€ŸåŒ–<br>
                â€¢ å¤§ããªK: ãƒ€ãƒ–ãƒªãƒ³ã‚°æ³•ã§æŒ‡æ•°çš„é«˜é€ŸåŒ–<br>
                â€¢ ãƒ¡ãƒ¢ãƒªåŠ¹ç‡: åˆ¶ç´„å†…ã§æœ€å¤§ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’å®Ÿç¾
            </div>
        </section>
        
        <!-- ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãƒ‡ãƒ¢ -->
        <section>
            <h2>ğŸ® ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãƒ‡ãƒ¢</h2>
            
            <div class="interactive-demo">
                <h3>ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ å‹•ä½œç¢ºèª</h3>
                <div class="demo-controls">
                    <input type="number" id="startValue" class="demo-input" placeholder="é–‹å§‹å€¤ (ä¾‹: 108)" value="108">
                    <input type="number" id="operationCount" class="demo-input" placeholder="æ“ä½œå›æ•° (ä¾‹: 13)" value="13">
                    <button onclick="runDemo()" class="demo-button">å®Ÿè¡Œ</button>
                    <button onclick="showSteps()" class="demo-button">ã‚¹ãƒ†ãƒƒãƒ—è¡¨ç¤º</button>
                </div>
                <div id="demoResult" class="demo-result" style="display: none;"></div>
            </div>
        </section>
        
        <!-- çµè«– -->
        <section>
            <h2>ğŸ¯ çµè«–</h2>
            <div class="algorithm-box">
                <strong>ãƒ€ãƒ–ãƒªãƒ³ã‚°æ³•ã®å„ªä½æ€§:</strong><br>
                â€¢ <strong>æ™‚é–“åŠ¹ç‡:</strong> O(N log K) - åˆ¶ç´„ä¸‹ã§ç¢ºå®Ÿã«å®Ÿè¡Œå¯èƒ½<br>
                â€¢ <strong>ç©ºé–“åŠ¹ç‡:</strong> é©å¿œçš„åˆ¶é™ã§ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ã‚’æœ€é©åŒ–<br>
                â€¢ <strong>å®Ÿè£…å®‰å®šæ€§:</strong> TypeScriptã®å‹å®‰å…¨æ€§ã§å …ç‰¢ãªå®Ÿè£…<br>
                â€¢ <strong>æ‹¡å¼µæ€§:</strong> ã‚ˆã‚Šå¤§ããªåˆ¶ç´„ã«ã‚‚å¯¾å¿œå¯èƒ½ãªè¨­è¨ˆ
            </div>
        </section>
    </div>
    
    <script>
        function getDigitSum(n) {
            let sum = 0;
            while (n > 0) {
                sum += n % 10;
                n = Math.floor(n / 10);
            }
            return sum;
        }
        
        function performOperation(n) {
            return n - getDigitSum(n);
        }
        
        function runDemo() {
            const start = parseInt(document.getElementById('startValue').value) || 108;
            const k = parseInt(document.getElementById('operationCount').value) || 13;
            
            let current = start;
            const steps = [start];
            
            for (let i = 0; i < k && i < 20; i++) { // æœ€å¤§20ã‚¹ãƒ†ãƒƒãƒ—ã¾ã§è¡¨ç¤º
                current = performOperation(current);
                steps.push(current);
            }
            
            const resultDiv = document.getElementById('demoResult');
            resultDiv.style.display = 'block';
            
            if (k <= 20) {
                resultDiv.innerHTML = `
                    <h4>è¨ˆç®—çµæœ:</h4>
                    <p><strong>${start}</strong> ã‹ã‚‰ <strong>${k}</strong> å›æ“ä½œå¾Œ: <strong>${current}</strong></p>
                    <h4>å„ã‚¹ãƒ†ãƒƒãƒ—:</h4>
                    <p>${steps.join(' â†’ ')}</p>
                `;
            } else {
                resultDiv.innerHTML = `
                    <h4>è¨ˆç®—çµæœ:</h4>
                    <p><strong>${start}</strong> ã‹ã‚‰ <strong>${k}</strong> å›æ“ä½œå¾Œ: <strong>${current}</strong></p>
                    <p><em>ã‚¹ãƒ†ãƒƒãƒ—æ•°ãŒå¤šã„ãŸã‚ã€æœ€åˆã®20ã‚¹ãƒ†ãƒƒãƒ—ã®ã¿è¡¨ç¤º</em></p>
                    <h4>æœ€åˆã®20ã‚¹ãƒ†ãƒƒãƒ—:</h4>
                    <p>${steps.join(' â†’ ')}</p>
                `;
            }
        }
        
        function showSteps() {
            const start = parseInt(document.getElementById('startValue').value) || 108;
            const k = parseInt(document.getElementById('operationCount').value) || 13;
            
            const resultDiv = document.getElementById('demoResult');
            resultDiv.style.display = 'block';
            
            // ãƒ€ãƒ–ãƒªãƒ³ã‚°æ³•ã®ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
            const binaryK = k.toString(2);
            let explanation = `<h4>ãƒ€ãƒ–ãƒªãƒ³ã‚°æ³•ã«ã‚ˆã‚‹è¨ˆç®—éç¨‹:</h4>`;
            explanation += `<p><strong>K = ${k} = ${binaryK}â‚‚</strong></p>`;
            
            let powerSum = '';
            let totalOps = 0;
            for (let i = 0; i < binaryK.length; i++) {
                if (binaryK[binaryK.length - 1 - i] === '1') {
                    const power = Math.pow(2, i);
                    if (powerSum) powerSum += ' + ';
                    powerSum += `2^${i}(=${power})`;
                    totalOps += power;
                }
            }
            
            explanation += `<p>äºŒé€²åˆ†è§£: ${k} = ${powerSum}</p>`;
            explanation += `<p>å¿…è¦ãªäº‹å‰è¨ˆç®—: 2^0, 2^1, 2^2, ... å›æ“ä½œå¾Œã®å€¤</p>`;
            explanation += `<p>è¨ˆç®—é‡: O(log ${k}) = O(${Math.ceil(Math.log2(k + 1))}) ãƒ“ãƒƒãƒˆæ“ä½œ</p>`;
            
            resultDiv.innerHTML = explanation;
        }
        
        // åˆå›å®Ÿè¡Œ
        document.addEventListener('DOMContentLoaded', function() {
            runDemo();
        });
    </script>
</body>
</html>