<!doctype html>
<html lang="ja">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>BigInt + äºŒé‡ãƒãƒƒã‚·ãƒ¥ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ è©³ç´°è§£æ</title>
        <style>
            body {
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                line-height: 1.6;
                color: #333;
                max-width: 1400px;
                margin: 0 auto;
                padding: 20px;
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                min-height: 100vh;
            }

            .container {
                background: rgba(255, 255, 255, 0.95);
                border-radius: 20px;
                padding: 40px;
                box-shadow: 0 25px 50px rgba(0, 0, 0, 0.15);
                backdrop-filter: blur(15px);
            }

            h1,
            h2,
            h3 {
                color: #2c3e50;
                margin-top: 2rem;
            }

            h1 {
                text-align: center;
                font-size: 3rem;
                margin-bottom: 2rem;
                background: linear-gradient(45deg, #667eea, #764ba2);
                -webkit-background-clip: text;
                -webkit-text-fill-color: transparent;
                background-clip: text;
                text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
            }

            .algorithm-section {
                margin: 40px 0;
                padding: 25px;
                border: 3px solid #e1e8ed;
                border-radius: 15px;
                background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
                box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
                transition: transform 0.3s ease;
            }

            .algorithm-section:hover {
                transform: translateY(-5px);
            }

            .visualization {
                margin: 25px 0;
                padding: 20px;
                background: white;
                border-radius: 12px;
                border: 2px solid #ddd;
                box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
            }

            .string-display {
                font-family: 'Courier New', monospace;
                font-size: 16px;
                text-align: center;
                margin: 20px 0;
                padding: 15px;
                background: #f8f9fa;
                border-radius: 8px;
                border: 1px solid #e9ecef;
            }

            .character {
                display: inline-block;
                width: 35px;
                height: 35px;
                line-height: 35px;
                text-align: center;
                margin: 3px;
                border: 2px solid #ccc;
                border-radius: 6px;
                background: #fff;
                font-weight: bold;
                transition: all 0.3s ease;
            }

            .character:hover {
                transform: scale(1.1);
                box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            }

            .forward {
                background: linear-gradient(135deg, #ff6b6b, #ee5a24) !important;
                color: white;
                border-color: #c0392b;
            }

            .backward {
                background: linear-gradient(135deg, #4ecdc4, #44bd32) !important;
                color: white;
                border-color: #27ae60;
            }

            .hash1 {
                background: linear-gradient(135deg, #a8e6cf, #7fcdcd) !important;
                border-color: #16a085;
            }

            .hash2 {
                background: linear-gradient(135deg, #ffd93d, #ff6b35) !important;
                border-color: #f39c12;
            }

            .step {
                margin: 25px 0;
                padding: 20px;
                border-left: 5px solid #667eea;
                background: rgba(102, 126, 234, 0.1);
                border-radius: 0 12px 12px 0;
                transition: all 0.3s ease;
            }

            .step:hover {
                background: rgba(102, 126, 234, 0.2);
                transform: translateX(5px);
            }

            .complexity {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                padding: 25px;
                border-radius: 15px;
                margin: 25px 0;
                box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
            }

            .example {
                background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
                border: 3px solid #0ea5e9;
                border-radius: 15px;
                padding: 25px;
                margin: 25px 0;
            }

            /* æ”¹å–„ã•ã‚ŒãŸã‚³ãƒ¼ãƒ‰ã‚¹ãƒ‹ãƒšãƒƒãƒˆ */
            .code-snippet {
                background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
                color: #e2e8f0;
                padding: 25px;
                border-radius: 12px;
                font-family: 'Monaco', 'Consolas', 'Courier New', monospace;
                font-size: 15px;
                line-height: 1.6;
                overflow-x: auto;
                margin: 20px 0;
                border: 2px solid #475569;
                box-shadow: 0 10px 25px rgba(30, 41, 59, 0.4);
                position: relative;
            }

            .code-snippet::before {
                content: '';
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                height: 3px;
                background: linear-gradient(90deg, #f59e0b, #10b981, #3b82f6, #8b5cf6);
                border-radius: 12px 12px 0 0;
            }

            /* ã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ãƒã‚¤ãƒ©ã‚¤ãƒˆ */
            .keyword {
                color: #c792ea;
                font-weight: bold;
            }

            .string {
                color: #c3e88d;
            }

            .number {
                color: #f78c6c;
            }

            .comment {
                color: #546e7a;
                font-style: italic;
            }

            .function {
                color: #82aaff;
            }

            .variable {
                color: #ffcb6b;
            }

            .operator {
                color: #89ddff;
            }

            .highlight {
                background: linear-gradient(135deg, #ffd700, #ffed4e);
                padding: 3px 6px;
                border-radius: 4px;
                font-weight: bold;
                box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
                color: #333;
            }

            table {
                width: 100%;
                border-collapse: collapse;
                margin: 25px 0;
                background: white;
                border-radius: 12px;
                overflow: hidden;
                box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
            }

            th,
            td {
                padding: 15px;
                text-align: center;
                border: 1px solid #ddd;
                font-size: 14px;
                transition: all 0.2s ease;
            }

            th {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                font-weight: bold;
                text-transform: uppercase;
                letter-spacing: 1px;
            }

            tr:nth-child(even) {
                background: #f8f9fa;
            }

            /* æ”¹å–„ã•ã‚ŒãŸãƒ†ãƒ¼ãƒ–ãƒ«ãƒ›ãƒãƒ¼åŠ¹æœ */
            tbody tr:hover {
                background: linear-gradient(135deg, #e3f2fd 0%, #f1f8e9 100%);
                transform: scale(1.02);
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
                z-index: 10;
                position: relative;
            }

            /* ãƒ†ãƒ¼ãƒ–ãƒ«å†…ã®ãƒ†ã‚­ã‚¹ãƒˆã®å¯è¦–æ€§å‘ä¸Š */
            tbody tr:hover td {
                color: #1a1a1a;
                font-weight: 500;
            }

            .interactive-demo {
                margin: 40px 0;
                padding: 30px;
                background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
                border-radius: 15px;
                box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
            }

            .demo-input {
                padding: 15px;
                margin: 10px;
                border: 3px solid #667eea;
                border-radius: 8px;
                font-size: 16px;
                width: 200px;
                transition: all 0.3s ease;
            }

            .demo-input:focus {
                border-color: #764ba2;
                box-shadow: 0 0 10px rgba(102, 126, 234, 0.3);
                outline: none;
            }

            .demo-button {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                border: none;
                padding: 15px 30px;
                border-radius: 8px;
                cursor: pointer;
                font-size: 16px;
                margin: 15px;
                transition: all 0.3s ease;
                text-transform: uppercase;
                font-weight: bold;
                letter-spacing: 1px;
            }

            .demo-button:hover {
                transform: translateY(-3px);
                box-shadow: 0 10px 20px rgba(102, 126, 234, 0.4);
            }

            .hash-visualization {
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 20px;
                margin: 20px 0;
            }

            .hash-box {
                padding: 15px;
                border-radius: 10px;
                text-align: center;
                font-family: 'Courier New', monospace;
                font-weight: bold;
            }

            .hash-forward {
                background: linear-gradient(135deg, #ff6b6b, #ee5a24);
                color: white;
            }

            .hash-backward {
                background: linear-gradient(135deg, #4ecdc4, #44bd32);
                color: white;
            }

            .animation {
                animation: fadeInUp 0.8s ease-out;
            }

            @keyframes fadeInUp {
                from {
                    opacity: 0;
                    transform: translateY(30px);
                }

                to {
                    opacity: 1;
                    transform: translateY(0);
                }
            }

            .pulse {
                animation: pulse 2s infinite;
            }

            @keyframes pulse {
                0%,
                100% {
                    transform: scale(1);
                }

                50% {
                    transform: scale(1.05);
                }
            }

            .comparison-table {
                background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
                color: white;
                border-radius: 15px;
                padding: 20px;
                margin: 20px 0;
            }

            /* æ¯”è¼ƒãƒ†ãƒ¼ãƒ–ãƒ«å†…ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã®ãƒ›ãƒãƒ¼åŠ¹æœæ”¹å–„ */
            .comparison-table table tbody tr:hover {
                background: rgba(255, 255, 255, 0.2) !important;
            }

            .comparison-table table tbody tr:hover td {
                color: white !important;
                text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
            }

            .formula {
                background: linear-gradient(135deg, #1a202c 0%, #2d3748 100%);
                color: #63b3ed;
                padding: 25px;
                border-radius: 12px;
                font-family: 'Monaco', 'Courier New', monospace;
                font-size: 16px;
                text-align: center;
                margin: 20px 0;
                border: 2px solid #63b3ed;
                box-shadow: 0 8px 20px rgba(99, 179, 237, 0.3);
            }

            /* æ”¹å–„ã•ã‚ŒãŸbenfit-card */
            .benefit-card {
                background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
                border-radius: 12px;
                padding: 25px;
                margin: 15px 0;
                box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);
                border-left: 5px solid #667eea;
                transition: all 0.3s ease;
                border: 1px solid #e2e8f0;
            }

            .benefit-card:hover {
                transform: translateX(10px);
                box-shadow: 0 12px 25px rgba(0, 0, 0, 0.18);
            }

            /* å˜ä¸€ãƒãƒƒã‚·ãƒ¥ã¨äºŒé‡ãƒãƒƒã‚·ãƒ¥ã®ã‚«ãƒ¼ãƒ‰ã®èƒŒæ™¯æ”¹å–„ */
            .benefit-card h4 {
                color: #2d3748;
                margin-bottom: 15px;
                font-size: 18px;
            }

            .benefit-card ul li {
                color: #4a5568;
                margin-bottom: 8px;
                line-height: 1.5;
            }

            .benefit-card ul li strong {
                color: #2d3748;
            }

            /* ç‰¹åˆ¥ãªèƒŒæ™¯è‰²ã®benfit-cardã®å ´åˆã®æ–‡å­—è‰²èª¿æ•´ */
            .benefit-card[style*='background: linear-gradient(135deg, #a8e6cf'] h4,
            .benefit-card[style*='background: linear-gradient(135deg, #a8e6cf'] ul li {
                color: #1a202c;
            }

            .benefit-card[style*='background: linear-gradient(135deg, #a8e6cf'] ul li strong {
                color: #2d3748;
            }
        </style>
    </head>

    <body>
        <div class="container">
            <h1>ğŸ¯ BigInt + äºŒé‡ãƒãƒƒã‚·ãƒ¥ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ è©³ç´°è§£æ</h1>

            <div class="algorithm-section animation">
                <h2>ğŸ§  ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ æ¦‚è¦</h2>
                <p>
                    <strong>äºŒé‡ãƒ­ãƒ¼ãƒªãƒ³ã‚°ãƒãƒƒã‚·ãƒ¥</strong
                    >ã‚’ä½¿ç”¨ã—ã¦å›æ–‡åˆ¤å®šã‚’è¡Œã„ã¾ã™ã€‚æ–‡å­—åˆ—ã‚’æ•°å€¤åŒ–ã—ã€å‰æ–¹å‘ã¨å¾Œæ–¹å‘ã®ãƒãƒƒã‚·ãƒ¥å€¤ã‚’æ¯”è¼ƒã™ã‚‹ã“ã¨ã§ã€<span
                        class="highlight"
                        >O(1)æ™‚é–“ã§ã®é«˜é€Ÿåˆ¤å®š</span
                    >ã‚’å®Ÿç¾ã—ã¾ã™ã€‚
                </p>

                <div class="complexity">
                    <h3>âš¡ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ¯”è¼ƒ</h3>
                    <div class="comparison-table">
                        <table style="background: transparent; color: white">
                            <thead>
                                <tr style="background: rgba(255, 255, 255, 0.2)">
                                    <th>æ‰‹æ³•</th>
                                    <th>å‰å‡¦ç†</th>
                                    <th>ã‚¯ã‚¨ãƒªå‡¦ç†</th>
                                    <th>ç·æ™‚é–“</th>
                                    <th>ç²¾åº¦</th>
                                    <th>å®Ÿè£…é›£æ˜“åº¦</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>å˜ç´”åˆ¤å®š</strong></td>
                                    <td>O(1)</td>
                                    <td>O(N)</td>
                                    <td>O(QÃ—N)</td>
                                    <td>100%</td>
                                    <td>â˜…â˜†â˜†</td>
                                </tr>
                                <tr>
                                    <td><strong>Manacher</strong></td>
                                    <td>O(N)</td>
                                    <td>O(1)</td>
                                    <td>O(N+Q)</td>
                                    <td>100%</td>
                                    <td>â˜…â˜…â˜…</td>
                                </tr>
                                <tr style="background: rgba(255, 255, 255, 0.3); font-weight: bold">
                                    <td><strong>äºŒé‡ãƒãƒƒã‚·ãƒ¥</strong></td>
                                    <td>O(N)</td>
                                    <td>O(1)</td>
                                    <td>O(N+Q)</td>
                                    <td>99.999%</td>
                                    <td>â˜…â˜…â˜†</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <div class="algorithm-section animation">
                <h2>ğŸ”¢ Step 1: ãƒ­ãƒ¼ãƒªãƒ³ã‚°ãƒãƒƒã‚·ãƒ¥ã®åŸºæœ¬åŸç†</h2>
                <p>
                    æ–‡å­—åˆ—ã‚’<strong>å¤šé …å¼ã¨ã—ã¦æ•°å€¤åŒ–</strong>ã—ã€åŠ¹ç‡çš„ã«éƒ¨åˆ†æ–‡å­—åˆ—ã®ãƒãƒƒã‚·ãƒ¥å€¤ã‚’è¨ˆç®—ã—ã¾ã™ã€‚
                </p>

                <div class="example">
                    <h3>ãƒãƒƒã‚·ãƒ¥é–¢æ•°ã®å®šç¾©</h3>
                    <div class="formula">
                        hash(s) = (s[0]Ã—base^(n-1) + s[1]Ã—base^(n-2) + ... + s[n-1]Ã—base^0) mod p
                    </div>

                    <div class="visualization">
                        <div class="step">
                            <strong>ä¾‹: "abba"ã®ãƒãƒƒã‚·ãƒ¥è¨ˆç®—</strong>
                            <div class="string-display">
                                <span class="character forward">a</span>
                                <span class="character forward">b</span>
                                <span class="character forward">b</span>
                                <span class="character forward">a</span>
                            </div>
                            <div style="text-align: center; margin: 15px 0">
                                <div class="formula">
                                    hashâ‚ = (97Ã—257Â³ + 98Ã—257Â² + 98Ã—257Â¹ + 97Ã—257â°) mod 10â¹+7<br />
                                    hashâ‚‚ = (97Ã—263Â³ + 98Ã—263Â² + 98Ã—263Â¹ + 97Ã—263â°) mod 10â¹+9
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="benefit-card">
                        <h4>ğŸ¯ BigIntã®åˆ©ç‚¹</h4>
                        <ul>
                            <li>
                                <strong>ç²¾åº¦ä¿è¨¼:</strong> JavaScriptæ¨™æº–ã®Number(53bit)åˆ¶é™ã‚’å›é¿
                            </li>
                            <li><strong>ã‚ªãƒ¼ãƒãƒ¼ãƒ•ãƒ­ãƒ¼é˜²æ­¢:</strong> ä»»æ„ç²¾åº¦æ¼”ç®—</li>
                            <li>
                                <strong>å¤§ããªæ³•ã®ä½¿ç”¨:</strong> 10â¹+7,
                                10â¹+9ãƒ¬ãƒ™ãƒ«ã®ç´ æ•°ã‚’å®‰å…¨ã«ä½¿ç”¨
                            </li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="algorithm-section animation">
                <h2>ğŸ”„ Step 2: å‰æ–¹å‘ãƒ»å¾Œæ–¹å‘ãƒãƒƒã‚·ãƒ¥ã®äº‹å‰è¨ˆç®—</h2>
                <p>æ–‡å­—åˆ—ã‚’ä¸¡æ–¹å‘ã‹ã‚‰ãƒãƒƒã‚·ãƒ¥åŒ–ã—ã€å›æ–‡åˆ¤å®šã®æº–å‚™ã‚’è¡Œã„ã¾ã™ã€‚</p>

                <div class="example">
                    <h3>ä¾‹: "mississippi"ã®ä¸¡æ–¹å‘ãƒãƒƒã‚·ãƒ¥</h3>
                    <div class="visualization">
                        <div class="step">
                            <strong>å‰æ–¹å‘ãƒãƒƒã‚·ãƒ¥ï¼ˆå·¦â†’å³ï¼‰:</strong>
                            <div class="string-display">
                                <span class="character forward">m</span>
                                <span class="character forward">i</span>
                                <span class="character forward">s</span>
                                <span class="character forward">s</span>
                                <span class="character forward">i</span>
                                <span class="character forward">s</span>
                                <span class="character forward">s</span>
                                <span class="character forward">i</span>
                                <span class="character forward">p</span>
                                <span class="character forward">p</span>
                                <span class="character forward">i</span>
                            </div>
                            <div style="margin: 15px 0">
                                <div class="hash-box hash-forward">
                                    Forward Hashâ‚: h[0], h[1], h[2], ..., h[11]
                                </div>
                            </div>
                        </div>

                        <div class="step">
                            <strong>å¾Œæ–¹å‘ãƒãƒƒã‚·ãƒ¥ï¼ˆå³â†’å·¦ï¼‰:</strong>
                            <div class="string-display">
                                <span class="character backward">i</span>
                                <span class="character backward">p</span>
                                <span class="character backward">p</span>
                                <span class="character backward">i</span>
                                <span class="character backward">s</span>
                                <span class="character backward">s</span>
                                <span class="character backward">i</span>
                                <span class="character backward">s</span>
                                <span class="character backward">s</span>
                                <span class="character backward">i</span>
                                <span class="character backward">m</span>
                            </div>
                            <div style="margin: 15px 0">
                                <div class="hash-box hash-backward">
                                    Backward Hashâ‚: b[11], b[10], b[9], ..., b[0]
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="code-snippet">
                        <span class="comment">// å‰æ–¹å‘ãƒãƒƒã‚·ãƒ¥è¨ˆç®—</span>
                        <span class="keyword">for</span> (<span class="keyword">let</span>
                        <span class="variable">i</span> <span class="operator">=</span>
                        <span class="number">0</span>; <span class="variable">i</span>
                        <span class="operator">&lt;</span> <span class="variable">n</span>;
                        <span class="variable">i</span><span class="operator">++</span>) {
                        <span class="keyword">const</span> <span class="variable">charCode</span>
                        <span class="operator">=</span> <span class="function">BigInt</span>(<span
                            class="variable"
                            >s</span
                        >.<span class="function">charCodeAt</span>(<span class="variable">i</span
                        >)); <span class="variable">forwardHash1</span>[<span class="variable"
                            >i</span
                        >
                        <span class="operator">+</span> <span class="number">1</span>]
                        <span class="operator">=</span> (<span class="variable">forwardHash1</span
                        >[<span class="variable">i</span>] <span class="operator">*</span>
                        <span class="variable">BASE1</span> <span class="operator">+</span>
                        <span class="variable">charCode</span>) <span class="operator">%</span>
                        <span class="variable">MOD1</span>;
                        <span class="variable">forwardHash2</span>[<span class="variable">i</span>
                        <span class="operator">+</span> <span class="number">1</span>]
                        <span class="operator">=</span> (<span class="variable">forwardHash2</span
                        >[<span class="variable">i</span>] <span class="operator">*</span>
                        <span class="variable">BASE2</span> <span class="operator">+</span>
                        <span class="variable">charCode</span>) <span class="operator">%</span>
                        <span class="variable">MOD2</span>; }

                        <span class="comment">// å¾Œæ–¹å‘ãƒãƒƒã‚·ãƒ¥è¨ˆç®—</span>
                        <span class="keyword">for</span> (<span class="keyword">let</span>
                        <span class="variable">i</span> <span class="operator">=</span>
                        <span class="variable">n</span> <span class="operator">-</span>
                        <span class="number">1</span>; <span class="variable">i</span>
                        <span class="operator">&gt;=</span> <span class="number">0</span>;
                        <span class="variable">i</span><span class="operator">--</span>) {
                        <span class="keyword">const</span> <span class="variable">charCode</span>
                        <span class="operator">=</span> <span class="function">BigInt</span>(<span
                            class="variable"
                            >s</span
                        >.<span class="function">charCodeAt</span>(<span class="variable">i</span
                        >)); <span class="variable">backwardHash1</span>[<span class="variable"
                            >i</span
                        >] <span class="operator">=</span> (<span class="variable"
                            >backwardHash1</span
                        >[<span class="variable">i</span> <span class="operator">+</span>
                        <span class="number">1</span>] <span class="operator">*</span>
                        <span class="variable">BASE1</span> <span class="operator">+</span>
                        <span class="variable">charCode</span>) <span class="operator">%</span>
                        <span class="variable">MOD1</span>;
                        <span class="variable">backwardHash2</span>[<span class="variable">i</span>]
                        <span class="operator">=</span> (<span class="variable">backwardHash2</span
                        >[<span class="variable">i</span> <span class="operator">+</span>
                        <span class="number">1</span>] <span class="operator">*</span>
                        <span class="variable">BASE2</span> <span class="operator">+</span>
                        <span class="variable">charCode</span>) <span class="operator">%</span>
                        <span class="variable">MOD2</span>; }
                    </div>
                </div>
            </div>

            <div class="algorithm-section animation">
                <h2>ğŸ¯ Step 3: äºŒé‡ãƒãƒƒã‚·ãƒ¥ã«ã‚ˆã‚‹å›æ–‡åˆ¤å®š</h2>
                <p>
                    å‰æ–¹å‘ã¨å¾Œæ–¹å‘ã®ãƒãƒƒã‚·ãƒ¥å€¤ã‚’æ¯”è¼ƒã—ã¦å›æ–‡ã‚’åˆ¤å®šã—ã¾ã™ã€‚<strong>2ã¤ã®ç•°ãªã‚‹ãƒãƒƒã‚·ãƒ¥é–¢æ•°</strong>ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã€è¡çªç¢ºç‡ã‚’åŠ‡çš„ã«æ¸›å°‘ã•ã›ã¾ã™ã€‚
                </p>

                <div class="example">
                    <h3>å…·ä½“ä¾‹: ã‚¯ã‚¨ãƒª[5,8] â†’ "issi"ã®åˆ¤å®š</h3>
                    <div class="visualization">
                        <div class="step">
                            <strong>1. éƒ¨åˆ†æ–‡å­—åˆ—ã®ç‰¹å®š:</strong>
                            <div class="string-display">
                                <span class="character">m</span>
                                <span class="character">i</span>
                                <span class="character">s</span>
                                <span class="character">s</span>
                                <span class="character forward pulse">i</span>
                                <span class="character forward pulse">s</span>
                                <span class="character forward pulse">s</span>
                                <span class="character forward pulse">i</span>
                                <span class="character">p</span>
                                <span class="character">p</span>
                                <span class="character">i</span>
                            </div>
                            <p style="text-align: center; margin: 10px 0">
                                <strong>å¯¾è±¡: "issi" (ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ 4-7)</strong>
                            </p>
                        </div>

                        <div class="step">
                            <strong>2. ãƒãƒƒã‚·ãƒ¥å€¤è¨ˆç®—:</strong>
                            <div class="hash-visualization">
                                <div class="hash-box hash-forward">
                                    <h4>å‰æ–¹å‘ãƒãƒƒã‚·ãƒ¥</h4>
                                    <div>Hashâ‚: getForwardHash(4, 7)</div>
                                    <div>Hashâ‚‚: getForwardHash(4, 7)</div>
                                </div>
                                <div class="hash-box hash-backward">
                                    <h4>å¾Œæ–¹å‘ãƒãƒƒã‚·ãƒ¥</h4>
                                    <div>Hashâ‚: getBackwardHash(4, 7)</div>
                                    <div>Hashâ‚‚: getBackwardHash(4, 7)</div>
                                </div>
                            </div>
                        </div>

                        <div class="step">
                            <strong>3. æ¯”è¼ƒçµæœ:</strong>
                            <table>
                                <thead>
                                    <tr>
                                        <th>ãƒãƒƒã‚·ãƒ¥ç¨®é¡</th>
                                        <th>å‰æ–¹å‘å€¤</th>
                                        <th>å¾Œæ–¹å‘å€¤</th>
                                        <th>ä¸€è‡´</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Hashâ‚ (base=257)</td>
                                        <td id="demo-forward1">è¨ˆç®—ä¸­...</td>
                                        <td id="demo-backward1">è¨ˆç®—ä¸­...</td>
                                        <td id="demo-match1">-</td>
                                    </tr>
                                    <tr>
                                        <td>Hashâ‚‚ (base=263)</td>
                                        <td id="demo-forward2">è¨ˆç®—ä¸­...</td>
                                        <td id="demo-backward2">è¨ˆç®—ä¸­...</td>
                                        <td id="demo-match2">-</td>
                                    </tr>
                                    <tr style="background: #ffe6e6; font-weight: bold">
                                        <td>æœ€çµ‚åˆ¤å®š</td>
                                        <td colspan="2">ä¸¡æ–¹ã®ãƒãƒƒã‚·ãƒ¥ãŒä¸€è‡´</td>
                                        <td
                                            id="demo-final"
                                            style="color: #22c55e; font-weight: bold"
                                        >
                                            Yes
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div class="code-snippet">
                        <span class="keyword">function</span>
                        <span class="function">isPalindrome</span>(<span class="variable">data</span
                        >: <span class="variable">PrecomputedData</span>,
                        <span class="variable">l</span>: <span class="keyword">number</span>,
                        <span class="variable">r</span>: <span class="keyword">number</span>):
                        <span class="keyword">boolean</span> {
                        <span class="comment">// å‰æ–¹å‘ã¨å¾Œæ–¹å‘ã®ãƒãƒƒã‚·ãƒ¥å€¤ã‚’è¨ˆç®—</span>
                        <span class="keyword">const</span>
                        <span class="variable">forwardHash</span> <span class="operator">=</span>
                        <span class="function">getForwardHash</span>(<span class="variable"
                            >data</span
                        >, <span class="variable">l</span><span class="operator">-</span
                        ><span class="number">1</span>, <span class="variable">r</span
                        ><span class="operator">-</span><span class="number">1</span>);
                        <span class="keyword">const</span>
                        <span class="variable">backwardHash</span> <span class="operator">=</span>
                        <span class="function">getBackwardHash</span>(<span class="variable"
                            >data</span
                        >, <span class="variable">l</span><span class="operator">-</span
                        ><span class="number">1</span>, <span class="variable">r</span
                        ><span class="operator">-</span><span class="number">1</span>);

                        <span class="comment">// äºŒé‡ãƒãƒƒã‚·ãƒ¥ã§åˆ¤å®š</span>
                        <span class="keyword">return</span>
                        <span class="variable">forwardHash</span>.<span class="variable"
                            >hash1</span
                        >
                        <span class="operator">===</span>
                        <span class="variable">backwardHash</span>.<span class="variable"
                            >hash1</span
                        >
                        <span class="operator">&&</span>
                        <span class="variable">forwardHash</span>.<span class="variable"
                            >hash2</span
                        >
                        <span class="operator">===</span>
                        <span class="variable">backwardHash</span>.<span class="variable"
                            >hash2</span
                        >; }
                    </div>
                </div>
            </div>

            <div class="algorithm-section animation">
                <h2>ğŸ” Step 4: è¡çªç¢ºç‡ã®åˆ†æ</h2>
                <div class="complexity">
                    <h3>ãƒãƒƒã‚·ãƒ¥è¡çªç¢ºç‡ã®ç†è«–åˆ†æ</h3>
                    <div class="hash-visualization">
                        <div class="benefit-card">
                            <h4>ğŸ“Š å˜ä¸€ãƒãƒƒã‚·ãƒ¥ã®å ´åˆ</h4>
                            <ul>
                                <li><strong>è¡çªç¢ºç‡:</strong> ç´„ 1/10â¹</li>
                                <li><strong>ä¿¡é ¼æ€§:</strong> 99.9999999%</li>
                                <li><strong>ãƒªã‚¹ã‚¯:</strong> å¤§é‡ãƒ‡ãƒ¼ã‚¿ã§ç¨€ã«èª¤åˆ¤å®š</li>
                            </ul>
                        </div>
                        <div class="benefit-card">
                            <h4>ğŸ¯ äºŒé‡ãƒãƒƒã‚·ãƒ¥ã®å ´åˆ</h4>
                            <ul>
                                <li><strong>è¡çªç¢ºç‡:</strong> ç´„ 1/10Â¹â¸</li>
                                <li><strong>ä¿¡é ¼æ€§:</strong> 99.999999999999999%</li>
                                <li><strong>ãƒªã‚¹ã‚¯:</strong> å®Ÿè³ªçš„ã«ã‚¼ãƒ­</li>
                            </ul>
                        </div>
                    </div>

                    <div class="formula">
                        P(ä¸¡æ–¹è¡çª) = P(Hashâ‚è¡çª) Ã— P(Hashâ‚‚è¡çª)<br />
                        â‰ˆ (1/10â¹) Ã— (1/10â¹) = 1/10Â¹â¸
                    </div>
                </div>
            </div>

            <div class="algorithm-section animation">
                <h2>ğŸ“Š Step 5: ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡åˆ†æ</h2>
                <div class="example">
                    <h3>ãƒ¡ãƒ¢ãƒªåŠ¹ç‡ã®è©³ç´°</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>ãƒ‡ãƒ¼ã‚¿æ§‹é€ </th>
                                <th>ã‚µã‚¤ã‚º</th>
                                <th>ç›®çš„</th>
                                <th>æœ€å¤§ãƒ¡ãƒ¢ãƒª (N=10âµ)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>forwardHash1[]</td>
                                <td>(N+1) Ã— 8 bytes</td>
                                <td>å‰æ–¹å‘ç¬¬1ãƒãƒƒã‚·ãƒ¥</td>
                                <td>808 KB</td>
                            </tr>
                            <tr>
                                <td>forwardHash2[]</td>
                                <td>(N+1) Ã— 8 bytes</td>
                                <td>å‰æ–¹å‘ç¬¬2ãƒãƒƒã‚·ãƒ¥</td>
                                <td>808 KB</td>
                            </tr>
                            <tr>
                                <td>backwardHash1[]</td>
                                <td>(N+1) Ã— 8 bytes</td>
                                <td>å¾Œæ–¹å‘ç¬¬1ãƒãƒƒã‚·ãƒ¥</td>
                                <td>808 KB</td>
                            </tr>
                            <tr>
                                <td>backwardHash2[]</td>
                                <td>(N+1) Ã— 8 bytes</td>
                                <td>å¾Œæ–¹å‘ç¬¬2ãƒãƒƒã‚·ãƒ¥</td>
                                <td>808 KB</td>
                            </tr>
                            <tr>
                                <td>power1[], power2[]</td>
                                <td>2 Ã— (N+1) Ã— 8 bytes</td>
                                <td>ç´¯ä¹—å€¤ã‚­ãƒ£ãƒƒã‚·ãƒ¥</td>
                                <td>1616 KB</td>
                            </tr>
                            <tr style="background: #ffe6e6; font-weight: bold">
                                <td><strong>åˆè¨ˆ</strong></td>
                                <td><strong>6 Ã— (N+1) Ã— 8 bytes</strong></td>
                                <td><strong>-</strong></td>
                                <td><strong>ç´„ 4.8 MB</strong></td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="benefit-card">
                        <h4>ğŸ’¡ ãƒ¡ãƒ¢ãƒªæœ€é©åŒ–ã®ãƒã‚¤ãƒ³ãƒˆ</h4>
                        <ul>
                            <li><strong>é…åˆ—ã®äº‹å‰ç¢ºä¿:</strong> ã‚¬ãƒ™ãƒ¼ã‚¸ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³è² è·è»½æ¸›</li>
                            <li><strong>BigIntåŠ¹ç‡åŒ–:</strong> ä¸è¦ãªä¸­é–“å€¤ã®ç”Ÿæˆå›é¿</li>
                            <li><strong>ç´¯ä¹—ã‚­ãƒ£ãƒƒã‚·ãƒ¥:</strong> é‡è¤‡è¨ˆç®—ã®æ’é™¤</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="interactive-demo animation">
                <h2>ğŸ® ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–äºŒé‡ãƒãƒƒã‚·ãƒ¥ãƒ‡ãƒ¢</h2>
                <p>å®Ÿéš›ã®æ–‡å­—åˆ—ã§äºŒé‡ãƒãƒƒã‚·ãƒ¥ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®å‹•ä½œã‚’ç¢ºèªã—ã¾ã—ã‚‡ã†ï¼</p>

                <div style="text-align: center">
                    <input
                        type="text"
                        id="hashDemoString"
                        class="demo-input"
                        placeholder="æ–‡å­—åˆ—ã‚’å…¥åŠ›"
                        value="abba"
                    />
                    <br />
                    <input
                        type="number"
                        id="hashDemoL"
                        class="demo-input"
                        placeholder="é–‹å§‹ä½ç½®"
                        value="1"
                        style="width: 120px"
                    />
                    <input
                        type="number"
                        id="hashDemoR"
                        class="demo-input"
                        placeholder="çµ‚äº†ä½ç½®"
                        value="4"
                        style="width: 120px"
                    />
                    <br />
                    <button onclick="runHashDemo()" class="demo-button">ğŸ” ãƒãƒƒã‚·ãƒ¥è¨ˆç®—å®Ÿè¡Œ</button>
                </div>

                <div
                    id="hashDemoResult"
                    style="
                        margin-top: 25px;
                        padding: 20px;
                        background: white;
                        border-radius: 12px;
                        display: none;
                    "
                >
                    <h4>è¨ˆç®—çµæœ:</h4>
                    <div id="hashResultContent"></div>
                </div>
            </div>

            <div class="algorithm-section animation">
                <h2>âš–ï¸ Step 6: ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ æ¯”è¼ƒåˆ†æ</h2>
                <div class="complexity">
                    <h3>ğŸ¯ å®Ÿè£…è¤‡é›‘æ€§ vs ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹</h3>
                    <table style="background: rgba(255, 255, 255, 0.1); color: white">
                        <thead>
                            <tr>
                                <th>è¦³ç‚¹</th>
                                <th>Manacher's Algorithm</th>
                                <th>BigInt + äºŒé‡ãƒãƒƒã‚·ãƒ¥</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>å®Ÿè£…é›£æ˜“åº¦</strong></td>
                                <td>é«˜ï¼ˆè¤‡é›‘ãªå¢ƒç•Œå‡¦ç†ï¼‰</td>
                                <td>ä¸­ï¼ˆç›´æ„Ÿçš„ãªãƒãƒƒã‚·ãƒ¥è¨ˆç®—ï¼‰</td>
                            </tr>
                            <tr>
                                <td><strong>ãƒ‡ãƒãƒƒã‚°å®¹æ˜“æ€§</strong></td>
                                <td>å›°é›£ï¼ˆã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹è¨ˆç®—è¤‡é›‘ï¼‰</td>
                                <td>å®¹æ˜“ï¼ˆãƒãƒƒã‚·ãƒ¥å€¤ã§ç¢ºèªå¯èƒ½ï¼‰</td>
                            </tr>
                            <tr>
                                <td><strong>ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡</strong></td>
                                <td>O(N) - 1é…åˆ—</td>
                                <td>O(N) - 6é…åˆ—</td>
                            </tr>
                            <tr>
                                <td><strong>ç²¾åº¦</strong></td>
                                <td>100%ï¼ˆç¢ºå®šçš„ï¼‰</td>
                                <td>99.999%ï¼ˆç¢ºç‡çš„ï¼‰</td>
                            </tr>
                            <tr>
                                <td><strong>æ‹¡å¼µæ€§</strong></td>
                                <td>å›æ–‡å°‚ç”¨</td>
                                <td>æ–‡å­—åˆ—ç…§åˆæ±ç”¨</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="example">
                    <h3>ğŸ”§ å®Ÿè£…ã®å®‰å®šæ€§æ¯”è¼ƒ</h3>
                    <div class="hash-visualization">
                        <div class="benefit-card">
                            <h4>âŒ Manacher's Algorithmã®èª²é¡Œ</h4>
                            <ul>
                                <li><strong>å¢ƒç•Œã‚¨ãƒ©ãƒ¼:</strong> è¤‡é›‘ãªã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹è¨ˆç®—</li>
                                <li><strong>å¥‡å¶å‡¦ç†:</strong> çµ±ä¸€çš„ã§ãªã„å‡¦ç†</li>
                                <li><strong>ãƒ‡ãƒãƒƒã‚°å›°é›£:</strong> ã‚¨ãƒ©ãƒ¼åŸå› ã®ç‰¹å®šãŒé›£ã—ã„</li>
                                <li><strong>å®Ÿè£…ãƒŸã‚¹:</strong> å¾®ç´°ãªãƒã‚°ãŒç™ºç”Ÿã—ã‚„ã™ã„</li>
                            </ul>
                        </div>
                        <div class="benefit-card">
                            <h4>âœ… äºŒé‡ãƒãƒƒã‚·ãƒ¥ã®åˆ©ç‚¹</h4>
                            <ul>
                                <li><strong>å®Ÿè£…å®‰å…¨æ€§:</strong> å˜ç´”ã§ç†è§£ã—ã‚„ã™ã„</li>
                                <li><strong>çµ±ä¸€å‡¦ç†:</strong> å¥‡æ•°é•·ãƒ»å¶æ•°é•·ã‚’åŒæ§˜ã«å‡¦ç†</li>
                                <li><strong>ãƒ‡ãƒãƒƒã‚°å®¹æ˜“:</strong> ãƒãƒƒã‚·ãƒ¥å€¤ã§å‹•ä½œç¢ºèª</li>
                                <li><strong>æ‹¡å¼µæ€§:</strong> ä»–ã®æ–‡å­—åˆ—å•é¡Œã«ã‚‚å¿œç”¨å¯èƒ½</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <div class="algorithm-section animation">
                <h2>ğŸš€ Step 7: å®Ÿè£…ã®è©³ç´°ã¨ã‚³ãƒ„</h2>
                <div class="example">
                    <h3>ğŸ’ BigIntä½¿ç”¨æ™‚ã®æ³¨æ„ç‚¹</h3>
                    <div class="code-snippet">
                        <span class="comment">// âŒ é–“é•ã£ãŸä½¿ç”¨æ³•</span>
                        <span class="keyword">const</span> <span class="variable">result</span>
                        <span class="operator">=</span> <span class="variable">hash</span>
                        <span class="operator">+</span> <span class="variable">charCode</span>;
                        <span class="comment">// Number + BigInt ã‚¨ãƒ©ãƒ¼</span>

                        <span class="comment">// âœ… æ­£ã—ã„ä½¿ç”¨æ³•</span>
                        <span class="keyword">const</span> <span class="variable">result</span>
                        <span class="operator">=</span> <span class="variable">hash</span>
                        <span class="operator">+</span> <span class="function">BigInt</span>(<span
                            class="variable"
                            >charCode</span
                        >); <span class="comment">// BigInt + BigInt</span>

                        <span class="comment">// âŒ åŠ¹ç‡ã®æ‚ªã„æ›¸ãæ–¹</span>
                        <span class="keyword">const</span> <span class="variable">mod</span>
                        <span class="operator">=</span> (((<span class="variable">a</span>
                        <span class="operator">%</span> <span class="variable">MOD</span>)
                        <span class="operator">+</span> <span class="variable">MOD</span>)
                        <span class="operator">%</span> <span class="variable">MOD</span>);
                        <span class="comment">// å†—é•·</span>

                        <span class="comment">// âœ… åŠ¹ç‡çš„ãªæ›¸ãæ–¹</span>
                        <span class="keyword">const</span> <span class="variable">mod</span>
                        <span class="operator">=</span> (<span class="variable">a</span>
                        <span class="operator">%</span> <span class="variable">MOD</span>
                        <span class="operator">+</span> <span class="variable">MOD</span>)
                        <span class="operator">%</span> <span class="variable">MOD</span>;
                        <span class="comment">// æœ€é©åŒ–æ¸ˆã¿</span>
                    </div>

                    <div class="step">
                        <h4>ğŸ¯ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯</h4>
                        <ul>
                            <li><strong>ç´¯ä¹—ã®äº‹å‰è¨ˆç®—:</strong> power[i] = base^i ã‚’O(N)ã§è¨ˆç®—</li>
                            <li><strong>ãƒ¢ã‚¸ãƒ¥ãƒ©æ¼”ç®—ã®æœ€é©åŒ–:</strong> è² æ•°å‡¦ç†ã‚’åŠ¹ç‡åŒ–</li>
                            <li><strong>BigIntå¤‰æ›ã®æœ€å°åŒ–:</strong> å¿…è¦ãªç®‡æ‰€ã®ã¿ã§BigIntä½¿ç”¨</li>
                            <li><strong>é…åˆ—ã‚¢ã‚¯ã‚»ã‚¹ãƒ‘ã‚¿ãƒ¼ãƒ³:</strong> ã‚­ãƒ£ãƒƒã‚·ãƒ¥åŠ¹ç‡ã‚’è€ƒæ…®</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="algorithm-section animation">
                <h2>ğŸ“ˆ Step 8: å…¨ä½“ã‚¯ã‚¨ãƒªå‡¦ç†ã®æµã‚Œ</h2>
                <div class="example">
                    <h3>å…¥åŠ›ä¾‹ã®å®Œå…¨è§£æ</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>ã‚¯ã‚¨ãƒª</th>
                                <th>ç¯„å›²</th>
                                <th>éƒ¨åˆ†æ–‡å­—åˆ—</th>
                                <th>å‰æ–¹å‘Hashâ‚</th>
                                <th>å¾Œæ–¹å‘Hashâ‚</th>
                                <th>Hashâ‚ä¸€è‡´</th>
                                <th>Hashâ‚‚ä¸€è‡´</th>
                                <th>æœ€çµ‚çµæœ</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>1</td>
                                <td>[5,8]</td>
                                <td>"issi"</td>
                                <td class="hash1">xxxxx1</td>
                                <td class="hash1">xxxxx1</td>
                                <td style="color: #22c55e">âœ“</td>
                                <td style="color: #22c55e">âœ“</td>
                                <td style="color: #22c55e; font-weight: bold">Yes</td>
                            </tr>
                            <tr>
                                <td>2</td>
                                <td>[6,10]</td>
                                <td>"ssipp"</td>
                                <td class="hash1">xxxxx2</td>
                                <td class="hash1">yyyyy2</td>
                                <td style="color: #ef4444">âœ—</td>
                                <td style="color: #ef4444">âœ—</td>
                                <td style="color: #ef4444; font-weight: bold">No</td>
                            </tr>
                            <tr>
                                <td>3</td>
                                <td>[2,8]</td>
                                <td>"ississi"</td>
                                <td class="hash1">xxxxx3</td>
                                <td class="hash1">xxxxx3</td>
                                <td style="color: #22c55e">âœ“</td>
                                <td style="color: #22c55e">âœ“</td>
                                <td style="color: #22c55e; font-weight: bold">Yes</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="interactive-demo animation">
                <h2>ğŸ§ª é«˜åº¦ãªãƒãƒƒã‚·ãƒ¥è¨ˆç®—ãƒ‡ãƒ¢</h2>
                <p>å®Ÿéš›ã®æ•°å€¤ã§ãƒ­ãƒ¼ãƒªãƒ³ã‚°ãƒãƒƒã‚·ãƒ¥ã®è¨ˆç®—éç¨‹ã‚’å¯è¦–åŒ–ã—ã¾ã™ï¼</p>

                <div style="text-align: center">
                    <input
                        type="text"
                        id="advancedString"
                        class="demo-input"
                        placeholder="æ–‡å­—åˆ— (ä¾‹: abba)"
                        value="abba"
                    />
                    <br />
                    <button onclick="runAdvancedDemo()" class="demo-button">
                        ğŸ”¬ è©³ç´°ãƒãƒƒã‚·ãƒ¥è§£æ
                    </button>
                </div>

                <div
                    id="advancedResult"
                    style="
                        margin-top: 25px;
                        padding: 20px;
                        background: white;
                        border-radius: 12px;
                        display: none;
                    "
                >
                    <div id="advancedContent"></div>
                </div>
            </div>

            <div class="algorithm-section animation">
                <h2>ğŸ–ï¸ ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®ç·åˆè©•ä¾¡</h2>
                <div class="complexity">
                    <h3>ğŸ† BigInt + äºŒé‡ãƒãƒƒã‚·ãƒ¥ã®å„ªä½æ€§</h3>
                    <div
                        class="benefit-card"
                        style="
                            background: linear-gradient(135deg, #a8e6cf 0%, #7fcdcd 100%);
                            border-left-color: #16a085;
                        "
                    >
                        <h4>âœ¨ ä¸»è¦ãªãƒ¡ãƒªãƒƒãƒˆ</h4>
                        <ul>
                            <li><strong>å®Ÿè£…ã®å®‰å…¨æ€§:</strong> å¢ƒç•Œã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã«ãã„</li>
                            <li><strong>ãƒ‡ãƒãƒƒã‚°ã®å®¹æ˜“ã•:</strong> ãƒãƒƒã‚·ãƒ¥å€¤ã§å‹•ä½œç¢ºèªå¯èƒ½</li>
                            <li><strong>é«˜ã„ä¿¡é ¼æ€§:</strong> 99.999%ã®ç²¾åº¦ä¿è¨¼</li>
                            <li><strong>å®Ÿè¡Œé€Ÿåº¦:</strong> O(N+Q)ã®åŠ¹ç‡çš„ãªå‡¦ç†</li>
                            <li><strong>ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£:</strong> å¤§è¦æ¨¡ãƒ‡ãƒ¼ã‚¿ã«ã‚‚å¯¾å¿œ</li>
                        </ul>
                    </div>

                    <div class="formula">
                        ç·åˆè©•ä¾¡: å®Ÿç”¨æ€§ â˜…â˜…â˜…â˜…â˜… | å®Ÿè£…é›£æ˜“åº¦ â˜…â˜…â˜†â˜†â˜† | ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ â˜…â˜…â˜…â˜…â˜…
                    </div>
                </div>
            </div>
        </div>

        <script>
            // åŸºæœ¬çš„ãªãƒãƒƒã‚·ãƒ¥è¨ˆç®—ãƒ‡ãƒ¢ï¼ˆJavaScript Numberä½¿ç”¨ã€è¡¨ç¤ºç”¨ï¼‰
            function runHashDemo() {
                const str = document.getElementById('hashDemoString').value;
                const l = parseInt(document.getElementById('hashDemoL').value);
                const r = parseInt(document.getElementById('hashDemoR').value);

                if (!str || !l || !r || l > r || l < 1 || r > str.length) {
                    alert('æœ‰åŠ¹ãªå…¥åŠ›ã‚’è¡Œã£ã¦ãã ã•ã„');
                    return;
                }

                const substring = str.substring(l - 1, r);
                const reversed = substring.split('').reverse().join('');

                // ç°¡æ˜“ãƒãƒƒã‚·ãƒ¥è¨ˆç®—ï¼ˆè¡¨ç¤ºç”¨ï¼‰
                let forwardHash1 = 0,
                    forwardHash2 = 0;
                let backwardHash1 = 0,
                    backwardHash2 = 0;

                const base1 = 257,
                    base2 = 263;
                const mod1 = 1000000007,
                    mod2 = 1000000009;

                for (let i = 0; i < substring.length; i++) {
                    const charCode = substring.charCodeAt(i);
                    forwardHash1 = (forwardHash1 * base1 + charCode) % mod1;
                    forwardHash2 = (forwardHash2 * base2 + charCode) % mod2;
                }

                for (let i = 0; i < reversed.length; i++) {
                    const charCode = reversed.charCodeAt(i);
                    backwardHash1 = (backwardHash1 * base1 + charCode) % mod1;
                    backwardHash2 = (backwardHash2 * base2 + charCode) % mod2;
                }

                const match1 = forwardHash1 === backwardHash1;
                const match2 = forwardHash2 === backwardHash2;
                const isPalindrome = match1 && match2;

                document.getElementById('demo-forward1').textContent = forwardHash1.toString();
                document.getElementById('demo-backward1').textContent = backwardHash1.toString();
                document.getElementById('demo-match1').textContent = match1 ? 'âœ“' : 'âœ—';
                document.getElementById('demo-match1').style.color = match1 ? '#22c55e' : '#ef4444';

                document.getElementById('demo-forward2').textContent = forwardHash2.toString();
                document.getElementById('demo-backward2').textContent = backwardHash2.toString();
                document.getElementById('demo-match2').textContent = match2 ? 'âœ“' : 'âœ—';
                document.getElementById('demo-match2').style.color = match2 ? '#22c55e' : '#ef4444';

                document.getElementById('demo-final').textContent = isPalindrome ? 'Yes' : 'No';
                document.getElementById('demo-final').style.color = isPalindrome
                    ? '#22c55e'
                    : '#ef4444';
            }

            function runAdvancedDemo() {
                const str = document.getElementById('advancedString').value;

                if (!str) {
                    alert('æ–‡å­—åˆ—ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');
                    return;
                }

                const resultDiv = document.getElementById('advancedResult');
                const contentDiv = document.getElementById('advancedContent');

                // å‰æ–¹å‘ãƒ»å¾Œæ–¹å‘ãƒãƒƒã‚·ãƒ¥ã®æ®µéšçš„è¨ˆç®—ã‚’è¡¨ç¤º
                let content = `
                <h4>ğŸ“Š "${str}" ã®è©³ç´°ãƒãƒƒã‚·ãƒ¥è§£æ</h4>
                <table>
                    <thead>
                        <tr>
                            <th>ä½ç½®</th>
                            <th>æ–‡å­—</th>
                            <th>æ–‡å­—ã‚³ãƒ¼ãƒ‰</th>
                            <th>å‰æ–¹å‘Hashâ‚</th>
                            <th>å‰æ–¹å‘Hashâ‚‚</th>
                            <th>å¾Œæ–¹å‘Hashâ‚</th>
                            <th>å¾Œæ–¹å‘Hashâ‚‚</th>
                        </tr>
                    </thead>
                    <tbody>
            `;

                const base1 = 257,
                    base2 = 263;
                const mod1 = 1000000007,
                    mod2 = 1000000009;

                let forwardHash1 = 0,
                    forwardHash2 = 0;
                const forwardHashes1 = [0];
                const forwardHashes2 = [0];

                // å‰æ–¹å‘ãƒãƒƒã‚·ãƒ¥è¨ˆç®—
                for (let i = 0; i < str.length; i++) {
                    const charCode = str.charCodeAt(i);
                    forwardHash1 = (forwardHash1 * base1 + charCode) % mod1;
                    forwardHash2 = (forwardHash2 * base2 + charCode) % mod2;
                    forwardHashes1.push(forwardHash1);
                    forwardHashes2.push(forwardHash2);
                }

                let backwardHash1 = 0,
                    backwardHash2 = 0;
                const backwardHashes1 = new Array(str.length + 1);
                const backwardHashes2 = new Array(str.length + 1);
                backwardHashes1[str.length] = 0;
                backwardHashes2[str.length] = 0;

                // å¾Œæ–¹å‘ãƒãƒƒã‚·ãƒ¥è¨ˆç®—
                for (let i = str.length - 1; i >= 0; i--) {
                    const charCode = str.charCodeAt(i);
                    backwardHash1 = (backwardHash1 * base1 + charCode) % mod1;
                    backwardHash2 = (backwardHash2 * base2 + charCode) % mod2;
                    backwardHashes1[i] = backwardHash1;
                    backwardHashes2[i] = backwardHash2;
                }

                // ãƒ†ãƒ¼ãƒ–ãƒ«è¡Œã‚’ç”Ÿæˆ
                for (let i = 0; i < str.length; i++) {
                    const char = str[i];
                    const charCode = str.charCodeAt(i);
                    content += `
                    <tr>
                        <td>${i + 1}</td>
                        <td style="font-weight: bold; font-size: 18px;">${char}</td>
                        <td>${charCode}</td>
                        <td class="hash1" style="font-family: monospace;">${forwardHashes1[i + 1]}</td>
                        <td class="hash2" style="font-family: monospace;">${forwardHashes2[i + 1]}</td>
                        <td class="hash1" style="font-family: monospace;">${backwardHashes1[i]}</td>
                        <td class="hash2" style="font-family: monospace;">${backwardHashes2[i]}</td>
                    </tr>
                `;
                }

                content += '</tbody></table>';

                // å›æ–‡åˆ¤å®šä¾‹ã‚’è¿½åŠ 
                content += `
                <h4>ğŸ” å›æ–‡åˆ¤å®šä¾‹</h4>
                <div class="step">
                    <strong>å…¨ä½“æ–‡å­—åˆ— "${str}" ã®å›æ–‡åˆ¤å®š:</strong><br>
                    å‰æ–¹å‘Hashâ‚: ${forwardHashes1[str.length]}<br>
                    å¾Œæ–¹å‘Hashâ‚: ${backwardHashes1[0]}<br>
                    å‰æ–¹å‘Hashâ‚‚: ${forwardHashes2[str.length]}<br>
                    å¾Œæ–¹å‘Hashâ‚‚: ${backwardHashes2[0]}<br>
                    <strong style="color: ${forwardHashes1[str.length] === backwardHashes1[0] && forwardHashes2[str.length] === backwardHashes2[0] ? '#22c55e' : '#ef4444'};">
                        çµæœ: ${forwardHashes1[str.length] === backwardHashes1[0] && forwardHashes2[str.length] === backwardHashes2[0] ? 'Yes (å›æ–‡)' : 'No (éå›æ–‡)'}
                    </strong>
                </div>
            `;

                contentDiv.innerHTML = content;
                resultDiv.style.display = 'block';
                resultDiv.scrollIntoView({ behavior: 'smooth' });
            }

            // ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px',
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach((entry) => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('animation');
                    }
                });
            }, observerOptions);

            document.querySelectorAll('.algorithm-section').forEach((section) => {
                observer.observe(section);
            });

            // åˆæœŸãƒ‡ãƒ¢å®Ÿè¡Œ
            setTimeout(() => {
                runHashDemo();
            }, 1000);
        </script>
    </body>
</html>
