äº†è§£ã—ã¾ã—ãŸã€‚ä»¥ä¸‹ã«ã“ã®å•é¡Œã‚’ **TypeScript** ã§è§£ãæ–¹æ³•ã¨ã€å„å‡¦ç†ã®**å›³è§£ã¤ãã®è§£èª¬**ã‚’è¡Œã„ã¾ã™ã€‚

---

## ğŸ” å•é¡Œã®æœ¬è³ªï¼šç§»å‹•å…ˆãŒå›ºå®šã•ã‚ŒãŸã€Œå†™åƒã®ç¹°ã‚Šè¿”ã—ã€

---

## ğŸŒ± å•é¡Œè¨­å®šã®å›³è§£

### ğŸ”¢ å…¥åŠ›ä¾‹

```
N = 7
A = [2, 4, 1, 7, 6, 5, 3]   // Aiï¼šç©´ i ã«ã„ã‚‹ç¿Œæ—¥ã©ã®ç©´ã¸è¡Œãã‹ï¼ˆ1-indexedï¼‰

ã‚¯ã‚¨ãƒª:
1 1   â†’ ç©´ 1 ã‹ã‚‰1æ—¥å¾Œ
1 5   â†’ ç©´ 1 ã‹ã‚‰5æ—¥å¾Œ
2 13  â†’ ç©´ 2 ã‹ã‚‰13æ—¥å¾Œ
5 999999999
```

### ğŸ•³ï¸ ç©´ã®é·ç§»å›³ï¼ˆ1-indexedï¼‰

```
1 â†’ 2 â†’ 4 â†’ 7 â†’ 3 â†’ 1 (ã‚µã‚¤ã‚¯ãƒ«)
5 â†’ 6 â†’ 5 (åˆ¥ã®ã‚µã‚¤ã‚¯ãƒ«)
```

---

## ğŸ§  è§£æ³•ï¼š**ãƒ€ãƒ–ãƒªãƒ³ã‚°æ³•ï¼ˆBinary Liftingï¼‰**

### â“ç›®çš„ï¼š

`Y` æ—¥å¾Œã®ä½ç½®ã‚’ã€2é€²æ•°ã«åˆ†è§£ã—ã¦é«˜é€Ÿã«ã‚¸ãƒ£ãƒ³ãƒ—ã€‚

> Y = 13 = 2â° + 2Â² + 2Â³ â†’
> x â†’ Aâ½Â¹â¾(x) â†’ Aâ½â´â¾(x) â†’ Aâ½â¸â¾(x)

---

## ğŸ”§ TypeScript å®Ÿè£…

```ts
import * as fs from 'fs';

// å…¥åŠ›å‡¦ç†
const input = fs.readFileSync('/dev/stdin', 'utf-8').trim().split(/\s+/);
let idx = 0;

const N = parseInt(input[idx++]);
const Q = parseInt(input[idx++]);
const A = input.slice(idx, idx + N).map(v => parseInt(v) - 1); // 0-indexed
idx += N;

// å®šæ•°ï¼šæœ€å¤§ãƒ“ãƒƒãƒˆæ•°ï¼ˆ2^30 > 10^9ï¼‰
const LOG = 30;

// doubling[k][i] := iç•ªã®ç©´ã‹ã‚‰2^kæ—¥å¾Œã«ã„ã‚‹ç©´ã®ç•ªå·
const doubling: number[][] = Array.from({ length: LOG }, () => Array(N).fill(0));

// åˆæœŸï¼ˆ1æ—¥å¾Œï¼‰
for (let i = 0; i < N; i++) {
  doubling[0][i] = A[i];
}

// ãƒ€ãƒ–ãƒªãƒ³ã‚°è¡¨ä½œæˆï¼š2^k æ—¥å¾Œã‚’ã™ã¹ã¦äº‹å‰è¨ˆç®—
for (let k = 1; k < LOG; k++) {
  for (let i = 0; i < N; i++) {
    doubling[k][i] = doubling[k - 1][doubling[k - 1][i]];
  }
}

const result: number[] = [];

for (let q = 0; q < Q; q++) {
  let x = parseInt(input[idx++]) - 1; // 0-indexed
  let y = parseInt(input[idx++]);

  for (let k = 0; k < LOG; k++) {
    if ((y >> k) & 1) {
      x = doubling[k][x];
    }
  }
  result.push(x + 1); // 1-indexedã§æˆ»ã™
}

console.log(result.join('\n'));
```

---

## ğŸ” å›³ã§ç†è§£ã™ã‚‹ã€Œãƒ€ãƒ–ãƒªãƒ³ã‚°è¡¨ã€

### `doubling[k][i]`: ã€Œç©´ i ã‹ã‚‰ 2^k æ—¥å¾Œã«ã„ã‚‹ç©´ã€

```
k = 0 (1æ—¥å¾Œ):     doubling[0][i] = A[i]
k = 1 (2æ—¥å¾Œ):     doubling[1][i] = doubling[0][doubling[0][i]]
k = 2 (4æ—¥å¾Œ):     doubling[2][i] = doubling[1][doubling[1][i]]
...
```

### ä¾‹ï¼‰ç©´1ã®é·ç§»

```
doubling[0][0] = 1   // A[1] = 2
doubling[1][0] = A[ A[1] ] = A[2] = 4 â†’ index = 3
doubling[2][0] = A[ A[ A[ A[1] ] ] ] = ?
```

---

## âš¡ ã‚¯ã‚¨ãƒªå‡¦ç†ã®å›³è§£ï¼šY=13 ã‚’ä¾‹ã«

Y = 13 = 1101â‚‚ â†’ 1Ã—2â° + 0Ã—2Â¹ + 1Ã—2Â² + 1Ã—2Â³

```
ç¾åœ¨åœ° x = 2

1. k = 0 â†’ 2^0æ—¥å¾Œ â†’ x = doubling[0][x]
2. k = 2 â†’ 2^2æ—¥å¾Œ â†’ x = doubling[2][x]
3. k = 3 â†’ 2^3æ—¥å¾Œ â†’ x = doubling[3][x]
```

---

## ğŸ§® è¨ˆç®—é‡ï¼ˆã‚ªãƒ¼ãƒ€ãƒ¼ï¼‰

| å‡¦ç†       | æ™‚é–“è¨ˆç®—é‡                         |
| -------- | ----------------------------- |
| å‰å‡¦ç†ï¼ˆè¡¨ä½œæˆï¼‰ | O(N logY)                     |
| ã‚¯ã‚¨ãƒªå‡¦ç†    | O(Q logY)                     |
| **å…¨ä½“**   | O((N + Q) Ã— logY) â†’ ç´„ 3 Ã— 10â¶ |

---

## âœ… å‡ºåŠ›ä¾‹ï¼ˆå…¥åŠ›ä¾‹1ï¼‰

```
2
1
3
6
```

---

## ğŸ’¡ è£œè¶³

ã“ã®æ‰‹æ³•ã¯ã€ã€Œf(f(f(...f(x)...))) ã‚’é«˜é€Ÿã«æ±‚ã‚ãŸã„ã€ã‚ˆã†ãªç¹°ã‚Šè¿”ã—å†™åƒã®å•é¡Œã«æœ‰åŠ¹ã§ã™ã€‚

---

## ğŸ“Œ å‰æç†è§£ï¼šã€Œã‚ã‚‹ç©´ `i` ã«ã„ã‚‹ã‚¢ãƒªãŒã€Yæ—¥å¾Œã«ã©ã“ã«ã„ã‚‹ã‹ï¼Ÿã€

---

## ğŸ§  ãƒã‚¤ãƒ³ãƒˆï¼šãƒ€ãƒ–ãƒªãƒ³ã‚°è¡¨ã®æ§‹ç¯‰ã¨åˆ©ç”¨

---

## âœ… 1. `const LOG = 30;`

* æœ€å¤§ã§ **10â¹æ—¥å¾Œ**ï¼ˆY â‰¦ 1e9ï¼‰ã‚’å‡¦ç†ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚
* 2^30 â‰ˆ 10å„„ â‡’ 30ã‚¹ãƒ†ãƒƒãƒ—ã‚ã‚Œã°æœ€å¤§æ—¥æ•°ã‚’ **2é€²æ•°ã§å…¨è¡¨ç¾**ã§ãã‚‹ã€‚

ğŸ“Œ ä¾‹ï¼š

```
Y = 13 â†’ 1101 (2é€²æ•°) â†’ 2^3 + 2^2 + 2^0
```

---

## âœ… 2. `doubling[k][i]` ã®å®šç¾©

```ts
const doubling: number[][] = Array.from({ length: LOG }, () => Array(N).fill(0));
```

* `doubling[k][i]` ã¯ã€Œç©´ `i` ã‹ã‚‰ **2^k æ—¥å¾Œ** ã«ã„ã‚‹ç©´ã®ç•ªå·ï¼ˆ0-indexedï¼‰ã€

ğŸ“Œ ä¾‹ï¼š

```
doubling[0][i] â†’ A[i]         // 1æ—¥å¾Œ
doubling[1][i] â†’ A[A[i]]      // 2æ—¥å¾Œ
doubling[2][i] â†’ A[A[A[A[i]]]] // 4æ—¥å¾Œ
...
```

> çµæœã¨ã—ã¦ã€å…¨ã¦ã®ã€Œ2^kæ—¥å¾Œã®ä½ç½®ã€ãŒäº‹å‰ã«åˆ†ã‹ã£ã¦ã„ã‚Œã°ã€ä»»æ„ã®æ—¥æ•°ã‚‚2é€²æ•°ã§åˆ†è§£ã—ã¦é£›ã³çŸ³ã®ã‚ˆã†ã«ç§»å‹•ã§ãã‚‹ï¼

---

## âœ… 3. åˆæœŸåŒ–ï¼ˆ1æ—¥å¾Œï¼‰

```ts
for (let i = 0; i < N; i++) {
  doubling[0][i] = A[i]; // 1æ—¥å¾Œ = A[i]ãã®ã‚‚ã®
}
```

ğŸ“Œ ä¾‹ï¼šA = \[2, 4, 1, 7, 6, 5, 3] (1-indexed)

```
0-indexedå¤‰æ›: A = [1, 3, 0, 6, 5, 4, 2]

doubling[0] = [1, 3, 0, 6, 5, 4, 2]
```

---

## âœ… 4. ãƒ€ãƒ–ãƒªãƒ³ã‚°è¡¨ã®æ§‹ç¯‰

```ts
for (let k = 1; k < LOG; k++) {
  for (let i = 0; i < N; i++) {
    doubling[k][i] = doubling[k - 1][doubling[k - 1][i]];
  }
}
```

### ğŸ§± æ„å‘³ï¼š

* ã€Œ2^kæ—¥å¾Œã«ã„ã‚‹ç©´ã€ã¯ã€ã€Œ2^(k-1)æ—¥å¾Œã«è¡Œã£ãŸå…ˆã‹ã‚‰ã€ã•ã‚‰ã«2^(k-1)æ—¥å¾Œã«è¡Œã£ãŸå…ˆã€

### ğŸ“Œ ä¾‹ï¼šç©´ i=0ï¼ˆ0-indexedï¼‰ã«æ³¨ç›®

```ts
k = 1:
doubling[1][0] = doubling[0][doubling[0][0]]
               = doubling[0][1]
               = 3

k = 2:
doubling[2][0] = doubling[1][doubling[1][0]]
               = doubling[1][3]
               = doubling[0][doubling[0][3]]
               = doubling[0][6] = 2
```

å›³ã§è¦‹ã‚‹ã¨ï¼š

```
i=0 â†’ doubling[0][0]=1 â†’ doubling[0][1]=3 â†’ doubling[0][3]=6 â†’ ...
     â””â”€â”€ 1æ—¥   â”€â”€â”˜      â””â”€â”€ 2æ—¥  â”€â”€â”˜      â””â”€â”€ 4æ—¥ â”€â”€â”˜
```

---

## âœ… 5. ã‚¯ã‚¨ãƒªå‡¦ç†ï¼šYæ—¥å¾Œã‚’ã‚¸ãƒ£ãƒ³ãƒ—ï¼

```ts
for (let q = 0; q < Q; q++) {
  let x = parseInt(input[idx++]) - 1;
  let y = parseInt(input[idx++]);

  for (let k = 0; k < LOG; k++) {
    if ((y >> k) & 1) {
      x = doubling[k][x];
    }
  }

  result.push(x + 1);
}
```

### ğŸ“Œ å‡¦ç†å†…å®¹ï¼š

* `Y` ã‚’2é€²æ•°ã§è¦‹ã¦ã€`k` ãƒ“ãƒƒãƒˆãŒç«‹ã£ã¦ã„ã‚Œã° `2^k` æ—¥ã‚¸ãƒ£ãƒ³ãƒ—ã™ã‚‹ã€‚
* çµæœã‚’ x ã«ã©ã‚“ã©ã‚“æ›´æ–°ã—ã¦ã„ãã€‚

---

### ğŸ” ä¾‹ï¼šã‚¯ã‚¨ãƒª `x=1`, `y=13`ï¼ˆâ†’0-indexed: x=0ï¼‰

```
y = 13 = 1101 (2é€²æ•°)
       â†’ k = 0, 2, 3 ã«ãƒ“ãƒƒãƒˆãŒç«‹ã£ã¦ã„ã‚‹

å‡¦ç†:
- k=0 â†’ doubling[0][x] = 1 â†’ x = 1
- k=2 â†’ doubling[2][1] = 0 â†’ x = 0
- k=3 â†’ doubling[3][0] = 2 â†’ x = 2

æœ€çµ‚çš„ã« x = 2 â†’ å‡ºåŠ›ã¯ x+1 = 3
```

---

## ğŸ§® ã¾ã¨ã‚ï¼šãƒ€ãƒ–ãƒªãƒ³ã‚°æ³•ã®è¦ç‚¹

| ã‚¹ãƒ†ãƒƒãƒ—      | å†…å®¹                                                     |
| --------- | ------------------------------------------------------ |
| 1. LOG å®šç¾© | æœ€å¤§æ—¥æ•°ã«å¯¾ã—ã¦å¿…è¦ãªãƒ“ãƒƒãƒˆæ•°ï¼ˆ2^30 > 10^9ï¼‰                           |
| 2. è¡¨åˆæœŸåŒ–   | 1æ—¥å¾Œã®çŠ¶æ…‹ï¼ˆdoubling\[0]\[i] = A\[i]ï¼‰                       |
| 3. è¡¨æ§‹ç¯‰    | doubling\[k]\[i] = doubling\[k-1]\[doubling\[k-1]\[i]] |
| 4. ã‚¯ã‚¨ãƒªå‡¦ç†  | Y ã‚’2é€²æ•°ã«åˆ†è§£ã—ã€bitãŒç«‹ã£ã¦ã„ã‚‹éƒ¨åˆ†ã ã‘ã‚¸ãƒ£ãƒ³ãƒ—                           |

---

## ğŸ‘€ è£œè¶³å›³ï¼ˆã‚¸ãƒ£ãƒ³ãƒ—ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ï¼‰

```text
i = 0
Y = 13 = 2^3 + 2^2 + 2^0

x â†’ doubling[0][x] â†’ doubling[2][x] â†’ doubling[3][x]

     â””â”€1dâ”€â”€â”€â”€â”˜       â””â”€4dâ”€â”€â”€â”€â”˜       â””â”€8dâ”€â”€â”€â”€â”˜
```

---

ã‚‚ã¡ã‚ã‚“ã§ã™ã€‚ã“ã“ã§ã¯ã€Œ**ãƒ€ãƒ–ãƒªãƒ³ã‚°æ³•ï¼ˆBinary Liftingï¼‰**ã€ã‚’ã€**æ¦‚å¿µãƒ»ç›®çš„ãƒ»ä»•çµ„ã¿ãƒ»é©ç”¨ä¾‹ãƒ»å®Ÿè£…æ–¹æ³•**ã«åˆ†ã‘ã¦ã€å›³ã‚„å…·ä½“ä¾‹ã‚’äº¤ãˆãªãŒã‚‰ã‚ã‹ã‚Šã‚„ã™ãè©³ã—ãè§£èª¬ã—ã¾ã™ã€‚

---

## ğŸ§  æ¦‚å¿µï¼šãƒ€ãƒ–ãƒªãƒ³ã‚°æ³•ï¼ˆBinary Liftingï¼‰ã¨ã¯ï¼Ÿ

### ğŸ”· ä¸€è¨€ã§ï¼š

> **ã€Œf(f(f(...f(x)...))) ã®ã‚ˆã†ãªç¹°ã‚Šè¿”ã—å‡¦ç†ã‚’é«˜é€Ÿã«æ±‚ã‚ã‚‹ãŸã‚ã®ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã€**

* ã‚ã‚‹è¦ç´  `x` ã«é–¢æ•° `f` ã‚’ **Yå›** é©ç”¨ã—ãŸçµæœ `f^Y(x)` ã‚’æ±‚ã‚ãŸã„ã€‚
* å˜ç´”ã«1å›ãšã¤é©ç”¨ã™ã‚‹ã¨ O(Y) ã‹ã‹ã‚‹ã€‚
* ãƒ€ãƒ–ãƒªãƒ³ã‚°æ³•ã§ã¯ã€O(logY) ã«é«˜é€ŸåŒ–ã§ãã‚‹ï¼

---

## ğŸ§© ç›®çš„ï¼šç¹°ã‚Šè¿”ã—æ“ä½œã®é«˜é€ŸåŒ–

| èª²é¡Œä¾‹               | ãƒ€ãƒ–ãƒªãƒ³ã‚°ã®é©ç”¨ã‚·ãƒ¼ãƒ³            |
| ----------------- | ---------------------- |
| `f(x)` ã‚’ Y å›é©ç”¨    | ã‚¢ãƒªã®ç§»å‹•ã€é–¢æ•°åå¾©             |
| æœ¨æ§‹é€ ã§ã® LCAï¼ˆæœ€å°å…±é€šç¥–å…ˆï¼‰ | è·é›¢ã‚’ 2â°, 2Â¹, 2Â²â€¦ ãšã¤ã‚¸ãƒ£ãƒ³ãƒ— |
| ã‚°ãƒ©ãƒ•ä¸Šã®ã‚¸ãƒ£ãƒ³ãƒ—         | ãƒ¯ãƒ¼ãƒ—ã€è¦ªãƒãƒ¼ãƒ‰ã®æ¤œç´¢ãªã©          |

---

## ğŸ—ï¸ ä»•çµ„ã¿ï¼š2é€²æ•°ã®è€ƒãˆæ–¹ã‚’æ´»ç”¨

### ä¾‹ï¼š

`f^13(x)` ã‚’æ±‚ã‚ãŸã„å ´åˆ

```
13 = 1101 (2é€²æ•°)
   = 2^3 + 2^2 + 2^0

ã¤ã¾ã‚Š:
f^13(x) = f^8(f^4(f^1(x)))
```

ã“ã‚Œã«ã‚ˆã‚Šã€äº‹å‰ã« `f^(2^k)(x)` ã‚’ä¿å­˜ã—ã¦ãŠã‘ã°ã€
ä»»æ„ã® Y ã«å¯¾ã—ã¦ logY å›ã®æ“ä½œã§ `f^Y(x)` ã‚’è¨ˆç®—ã§ãã‚‹ã€‚

---

## ğŸ“Š ãƒ‡ãƒ¼ã‚¿æ§‹é€ ï¼ˆãƒ†ãƒ¼ãƒ–ãƒ«ï¼‰

ä½œã‚‹ã®ã¯æ¬¡ã®ã‚ˆã†ãªãƒ†ãƒ¼ãƒ–ãƒ« `doubling[k][i]`ï¼š

| k | å†…å®¹                  |
| - | ------------------- |
| 0 | `f(x)`              |
| 1 | `f(f(x))`           |
| 2 | `f(f(f(f(x))))`     |
| k | `f` ã‚’ `2^k` å›é©ç”¨ã—ãŸçµæœ |

---

## ğŸ’» å…·ä½“ä¾‹ï¼šã‚¢ãƒªã®ç©´ç§»å‹•å•é¡Œ

### å•é¡Œè¨­å®šï¼ˆå†æ²ï¼‰ï¼š

ã‚¢ãƒªãŒç©´ `i` ã«å…¥ã‚‹ã¨ç¿Œæ—¥ã¯ç©´ `A[i]` ã«ç§»å‹•ã™ã‚‹ã€‚ä»Šã„ã‚‹ç©´ã‹ã‚‰ Y æ—¥å¾Œã«ã¯ã©ã“ã«ã„ã‚‹ï¼Ÿ

---

### ğŸ”§ ã‚¹ãƒ†ãƒƒãƒ—ã§è§£èª¬

#### ã‚¹ãƒ†ãƒƒãƒ— 1: åˆæœŸçŠ¶æ…‹ï¼ˆ1æ—¥å¾Œï¼‰

```ts
doubling[0][i] = A[i]; // A: iç•ªã®ç©´ â†’ æ¬¡ã®æ—¥ã©ã“ã¸è¡Œãã‹
```

#### ã‚¹ãƒ†ãƒƒãƒ— 2: 2^k æ—¥å¾Œã‚’è¨ˆç®—

```ts
doubling[k][i] = doubling[k-1][doubling[k-1][i]];
```

å›³ç¤ºã™ã‚‹ã¨ï¼š

```
i -[2^(k-1)]â†’ A1 -[2^(k-1)]â†’ A2 = 2^kæ—¥å¾Œã®ç©´
```

#### ã‚¹ãƒ†ãƒƒãƒ— 3: ã‚¯ã‚¨ãƒªå‡¦ç†

```ts
for (let k = 0; k < LOG; k++) {
  if ((Y >> k) & 1) {
    x = doubling[k][x];
  }
}
```

Y ã® 2é€²æ•°ã®ãƒ“ãƒƒãƒˆãŒ 1 ã«ãªã£ã¦ã„ã‚‹ã¨ã“ã‚ã ã‘é©ç”¨ã—ã¦ã„ãã€‚

---

## ğŸ“ˆ æ™‚é–“è¨ˆç®—é‡ã®æ¯”è¼ƒ

| æ–¹æ³•     | æ™‚é–“      |
| ------ | ------- |
| 1æ—¥ãšã¤é©ç”¨ | O(Y)    |
| ãƒ€ãƒ–ãƒªãƒ³ã‚°æ³• | O(logY) |

ãŸã¨ãˆã° Y = 10^9 ã§ã‚‚ã€logâ‚‚10â¹ â‰ˆ 30 å›ã®ã‚¸ãƒ£ãƒ³ãƒ—ã§æ¸ˆã‚€ï¼

---

## ğŸŒ³ å¿œç”¨ï¼šLCAï¼ˆäºŒåˆ†æœ¨ã®æœ€å°å…±é€šç¥–å…ˆï¼‰

* æœ¨æ§‹é€ ã«ãŠã„ã¦ã€ãƒãƒ¼ãƒ‰ `u` ã¨ `v` ã®æœ€ã‚‚è¿‘ã„å…±é€šç¥–å…ˆã‚’è¦‹ã¤ã‘ãŸã„
* ã¾ãš `u` ã¨ `v` ã‚’é«˜ã•ã‚’æƒãˆã‚‹ã¾ã§ 2^k ã‚¹ãƒ†ãƒƒãƒ—ã§æŒã¡ä¸Šã’ã‚‹
* ãã®å¾Œ2^kå˜ä½ã§ä¸€ç·’ã«ä¸ŠãŒã£ã¦ã„ãã€ç¥–å…ˆãŒä¸€è‡´ã—ãŸã¨ã“ã‚ã§æ­¢ã‚ã‚‹

ã“ã®æ“ä½œã«ã‚‚ Binary Lifting ãŒä½¿ã‚ã‚Œã¾ã™ã€‚

---

## âœ… ãƒ¡ãƒªãƒƒãƒˆ

* ä»»æ„å›æ•°ã®ç¹°ã‚Šè¿”ã—ã«å¯¾ã—ã¦åŠ¹ç‡ãŒè‰¯ã„ï¼ˆlogYã§å¯¾å¿œï¼‰
* ä¸€åº¦æ§‹ç¯‰ã™ã‚Œã°ã€è¤‡æ•°ã‚¯ã‚¨ãƒªã«ã‚‚é«˜é€Ÿå¯¾å¿œå¯èƒ½ï¼ˆO(1)\~O(logY)ï¼‰

---

## âŒ ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ

* `O(N logY)` ã®ãƒ¡ãƒ¢ãƒªã¨å‰å‡¦ç†æ™‚é–“ãŒå¿…è¦
* çŠ¶æ…‹ç©ºé–“ãŒå¤§ãã™ãã‚‹ã¨ãƒ¡ãƒ¢ãƒªãŒå³ã—ã„ã“ã¨ã‚‚ï¼ˆç‰¹ã«2æ¬¡å…ƒé…åˆ—ï¼‰

---

## ğŸ’¡ ã¾ã¨ã‚

| é …ç›®    | å†…å®¹                         |
| ----- | -------------------------- |
| åå‰    | ãƒ€ãƒ–ãƒªãƒ³ã‚°æ³•ï¼ˆBinary Liftingï¼‰     |
| ç”¨é€”    | é–¢æ•°ã®ç¹°ã‚Šè¿”ã—ã€LCAã€ãƒ¯ãƒ¼ãƒ—ã‚¸ãƒ£ãƒ³ãƒ—ã€é«˜é€Ÿç§»å‹•ãªã© |
| æŠ€è¡“ã®æ ¸  | 2é€²æ•° + å†å¸°é–¢ä¿‚ã‚’äº‹å‰è¨ˆç®—ã—ã¦é«˜é€Ÿå‚ç…§      |
| æ™‚é–“è¨ˆç®—é‡ | O(logY)                    |
| å…¸å‹å•é¡Œ  | ã‚¢ãƒªã®ç§»å‹•ã€LCAã€ãƒ¯ãƒ¼ãƒ—ç©ºé–“æ¢ç´¢          |

---
| [æå‡ºæ—¥æ™‚](https://atcoder.jp/contests/tessoku-book/submissions/me?desc=true&orderBy=created) | å•é¡Œ | ãƒ¦ãƒ¼ã‚¶ | è¨€èª | [å¾—ç‚¹](https://atcoder.jp/contests/tessoku-book/submissions/me?desc=true&orderBy=score) | [ã‚³ãƒ¼ãƒ‰é•·](https://atcoder.jp/contests/tessoku-book/submissions/me?orderBy=source_length) | çµæœ | [å®Ÿè¡Œæ™‚é–“](https://atcoder.jp/contests/tessoku-book/submissions/me?orderBy=time_consumption) | [ãƒ¡ãƒ¢ãƒª](https://atcoder.jp/contests/tessoku-book/submissions/me?orderBy=memory_consumption) |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| 2025-06-11 14:26:13 | [A57 - Doubling](https://atcoder.jp/contests/tessoku-book/tasks/tessoku_book_be) | [myoshizumi](https://atcoder.jp/users/myoshizumi) | [PHP (php 8.2.8)](https://atcoder.jp/contests/tessoku-book/submissions/me?f.Language=5016) | 1000 | 923 Byte | **AC** | 453 ms | 73592 KiB | [è©³ç´°](https://atcoder.jp/contests/tessoku-book/submissions/66657860) |
| 2025-06-11 14:23:59 | [A57 - Doubling](https://atcoder.jp/contests/tessoku-book/tasks/tessoku_book_be) | [myoshizumi](https://atcoder.jp/users/myoshizumi) | [Go (go 1.20.6)](https://atcoder.jp/contests/tessoku-book/submissions/me?f.Language=5002) | 1000 | 1182 Byte | **AC** | 189 ms | 27508 KiB | [è©³ç´°](https://atcoder.jp/contests/tessoku-book/submissions/66657835) |
| 2025-06-11 14:22:38 | [A57 - Doubling](https://atcoder.jp/contests/tessoku-book/tasks/tessoku_book_be) | [myoshizumi](https://atcoder.jp/users/myoshizumi) | [Python (CPython 3.11.4)](https://atcoder.jp/contests/tessoku-book/submissions/me?f.Language=5055) | 1000 | 1054 Byte | **AC** | 689 ms | 59588 KiB | [è©³ç´°](https://atcoder.jp/contests/tessoku-book/submissions/66657815) |
| 2025-06-11 14:00:49 | [A57 - Doubling](https://atcoder.jp/contests/tessoku-book/tasks/tessoku_book_be) | [myoshizumi](https://atcoder.jp/users/myoshizumi) | [TypeScript 5.1 (Node.js 18.16.1)](https://atcoder.jp/contests/tessoku-book/submissions/me?f.Language=5058) | 1000 | 1140 Byte | **AC** | 317 ms | 106652 KiB | [è©³ç´°](https://atcoder.jp/contests/tessoku-book/submissions/66657511) |
| 2025-06-11 13:55:23 | [A57 - Doubling](https://atcoder.jp/contests/tessoku-book/tasks/tessoku_book_be) | [myoshizumi](https://atcoder.jp/users/myoshizumi) | [JavaScript (Node.js 18.16.1)](https://atcoder.jp/contests/tessoku-book/submissions/me?f.Language=5009) | 1000 | 1043 Byte | **AC** | 254 ms | 106580 KiB | [è©³ç´°](https://atcoder.jp/contests/tessoku-book/submissions/66657444) |