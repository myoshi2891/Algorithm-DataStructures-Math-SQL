
---

### âœ… è§£æ³•ã®æ¦‚è¦ï¼ˆDPï¼‰

* `dp[i]` ã‚’ã€Œ**i ç•ªç›®ã®å®¶ã¾ã§è¦‹ãŸã¨ãã®æœ€å¤§ã®ç›—ã‚ã‚‹é‡‘é¡**ã€ã¨å®šç¾©ã€‚
* é·ç§»ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ï¼š

```ts
dp[i] = Math.max(dp[i - 1], dp[i - 2] + nums[i])
```

* `dp[i - 1]`ï¼šä»Šã®å®¶ã‚’è¥²ã‚ãªã„ â†’ å‰ã¾ã§ã®æœ€å¤§
* `dp[i - 2] + nums[i]`ï¼šä»Šã®å®¶ã‚’è¥²ã† â†’ 2ã¤å‰ã¾ã§ã®æœ€å¤§ + ä»Šã®é‡‘é¡

---

### ğŸ§  å®Ÿè£…ï¼ˆTypeScriptï¼‰

```ts
function rob(nums: number[]): number {
    const n = nums.length;
    if (n === 0) return 0;
    if (n === 1) return nums[0];

    const dp: number[] = new Array(n).fill(0);

    dp[0] = nums[0];
    dp[1] = Math.max(nums[0], nums[1]);

    for (let i = 2; i < n; i++) {
        dp[i] = Math.max(dp[i - 1], dp[i - 2] + nums[i]);
    }

    return dp[n - 1];
}
```

---

### ğŸ“ ä¾‹ã§ã®å‹•ä½œç¢ºèª

#### å…¥åŠ›ä¾‹1: `[1,2,3,1]`

```
dp = [1, 2, 0, 0]
i = 2 â†’ dp[2] = max(2, 1+3) = 4
i = 3 â†’ dp[3] = max(4, 2+1) = 4
â†’ å‡ºåŠ›: 4
```

#### å…¥åŠ›ä¾‹2: `[2,7,9,3,1]`

```
dp = [2, 7, 11, 0, 0]
i = 3 â†’ dp[3] = max(11, 7+3) = 11
i = 4 â†’ dp[4] = max(11, 11+1) = 12
â†’ å‡ºåŠ›: 12
```

---

### ğŸ’¡ ç©ºé–“ã‚’ O(1) ã«æœ€é©åŒ–ã—ãŸãƒãƒ¼ã‚¸ãƒ§ãƒ³ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

```ts
function rob(nums: number[]): number {
    let prev1 = 0; // dp[i - 1]
    let prev2 = 0; // dp[i - 2]

    for (const num of nums) {
        const temp = prev1;
        prev1 = Math.max(prev1, prev2 + num);
        prev2 = temp;
    }

    return prev1;
}
```

---

### âœ… è¨ˆç®—é‡

* æ™‚é–“è¨ˆç®—é‡: `O(n)`
* ç©ºé–“è¨ˆç®—é‡: `O(n)`ï¼ˆæœ€é©åŒ–ã™ã‚Œã° `O(1)`ï¼‰

---

## ğŸ§© å•é¡Œã®æœ¬è³ª

> **éš£ã®å®¶ã‚’åŒæ™‚ã«è¥²ã†ã“ã¨ã¯ã§ããªã„ä¸­ã§ã€æœ€å¤§é‡‘é¡ã‚’ç›—ã‚€ã«ã¯ï¼Ÿ**

---

## âœ… ä½¿ã†é…åˆ—ã¨å®šç¾©

```ts
dp[i] = i ç•ªç›®ã¾ã§è¦‹ãŸã¨ãã«ç›—ã‚ã‚‹æœ€å¤§é‡‘é¡
```

---

## ğŸ§ª ä¾‹ï¼š`nums = [2, 7, 9, 3, 1]`

ã“ã‚Œã‚’å›³ã§è¦‹ã¦ã„ãã¾ã—ã‚‡ã†ã€‚

---

### ğŸ§± åˆæœŸçŠ¶æ…‹

| i | nums\[i] | dp\[i]ã®æ„å‘³              |
| - | -------- | ---------------------- |
| 0 | 2        | dp\[0] = 2             |
| 1 | 7        | dp\[1] = max(2, 7) = 7 |

```
dp é…åˆ—ï¼š
i:   0   1
dp: [2,  7,  ?,  ?,  ?]
```

---

### ğŸ” i = 2 ã®ã¨ãï¼ˆå®¶3ã¤ç›®ï¼‰

```ts
dp[2] = Math.max(dp[1], dp[0] + nums[2])
       = Math.max(7, 2 + 9) = 11
```

**é¸æŠè‚¢**

* å‰ã®å®¶ï¼ˆ7ï¼‰ã‚’è¥²ã£ãŸå ´åˆ â†’ ä»Šã®å®¶ã¯è¥²ãˆãªã„ â†’ 7
* 1ã¤é£›ã°ã—ã¦ä»Šã®å®¶ï¼ˆ9ï¼‰ã‚’è¥²ã† â†’ 2 + 9 = 11 âœ…

```
dp é…åˆ—ï¼š
i:   0   1   2
dp: [2,  7,  11, ?, ?]
```

---

### ğŸ” i = 3 ã®ã¨ãï¼ˆå®¶4ã¤ç›®ï¼‰

```ts
dp[3] = Math.max(dp[2], dp[1] + nums[3])
       = Math.max(11, 7 + 3) = 11
```

**é¸æŠè‚¢**

* å‰ã®æœ€å¤§ï¼ˆ11ï¼‰ã‚’ãã®ã¾ã¾ä½¿ã†
* 7ï¼ˆdp\[1]ï¼‰+ 3ï¼ˆä»Šã®å®¶ï¼‰ = 10 â†’ å°‘ãªã„ã®ã§ã‚¹ã‚­ãƒƒãƒ—

```
dp é…åˆ—ï¼š
i:   0   1   2   3
dp: [2,  7,  11, 11, ?]
```

---

### ğŸ” i = 4 ã®ã¨ãï¼ˆå®¶5ã¤ç›®ï¼‰

```ts
dp[4] = Math.max(dp[3], dp[2] + nums[4])
       = Math.max(11, 11 + 1) = 12
```

**é¸æŠè‚¢**

* å‰ã®æœ€å¤§ï¼ˆ11ï¼‰ã‚’ãã®ã¾ã¾ä½¿ã†
* ä»Šã®å®¶ï¼ˆ1ï¼‰ã‚’è¥²ã£ã¦11ï¼ˆdp\[2]ï¼‰+1 = 12 âœ…

```
dp é…åˆ—ï¼š
i:   0   1   2   3   4
dp: [2,  7,  11, 11, 12]
```

---

## âœ… æœ€çµ‚çš„ãªç­”ãˆï¼š`dp[4] = 12`

---

## ğŸ” å…¨ä½“å›³ï¼ˆæµã‚Œï¼‰

```
nums: [2, 7, 9, 3, 1]
dp:   [2, 7, 11,11,12]
                â†‘
             æœ€çµ‚çµæœ
```

---

## ğŸ§  ã‚³ãƒ¼ãƒ‰å†æ²

```ts
function rob(nums: number[]): number {
    const n = nums.length;
    if (n === 0) return 0;
    if (n === 1) return nums[0];

    const dp: number[] = new Array(n).fill(0);
    dp[0] = nums[0];
    dp[1] = Math.max(nums[0], nums[1]);

    for (let i = 2; i < n; i++) {
        dp[i] = Math.max(dp[i - 1], dp[i - 2] + nums[i]);
    }

    return dp[n - 1];
}
```

---

## ğŸ”§ ç©ºé–“ã‚’æ¸›ã‚‰ã™æœ€é©åŒ–ãƒãƒ¼ã‚¸ãƒ§ãƒ³ï¼ˆO(1) spaceï¼‰

```ts
function rob(nums: number[]): number {
    let prev1 = 0;
    let prev2 = 0;

    for (const num of nums) {
        const tmp = prev1;
        prev1 = Math.max(prev1, prev2 + num);
        prev2 = tmp;
    }

    return prev1;
}
```

---

