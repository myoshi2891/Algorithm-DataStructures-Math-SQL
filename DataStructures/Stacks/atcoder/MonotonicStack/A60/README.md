
---

## ğŸ“Œ å•é¡Œè¦ç‚¹ã¾ã¨ã‚

* æ ªä¾¡ `A[i]` ã®æ—¥ï¼ˆ1-basedï¼‰ã«å¯¾ã—ã€å·¦å´ã«ã‚ã£ã¦ `A[i]` ã‚ˆã‚Š**å¤§ãã„æœ€å¾Œã®æ ªä¾¡æ—¥**ã‚’æ±‚ã‚ã‚‹ã€‚
* ãªã‘ã‚Œã° `-1` ã‚’è¿”ã™ã€‚
* åˆ¶ç´„ä¸Š `O(N)` è§£æ³•ãŒå¿…è¦ã€‚

---

## âœ… TypeScriptã‚³ãƒ¼ãƒ‰ï¼ˆNode.js + fsï¼‰

```ts
import * as fs from 'fs';

function main() {
  const input = fs.readFileSync('/dev/stdin', 'utf8').trim().split(/\s+/);
  const N = parseInt(input[0]);
  const A = input.slice(1).map(Number);

  const stack: number[] = []; // ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ï¼ˆ0-basedï¼‰ã‚’ä¿æŒ
  const result: number[] = new Array(N).fill(-1);

  for (let i = 0; i < N; i++) {
    // ã‚¹ã‚¿ãƒƒã‚¯ã®æ ªä¾¡ãŒä»Šã®æ ªä¾¡ä»¥ä¸‹ãªã‚‰æ¨ã¦ã‚‹ï¼ˆæ„å‘³ãŒãªã„ï¼‰
    while (stack.length > 0 && A[stack[stack.length - 1]] <= A[i]) {
      stack.pop();
    }

    // æ®‹ã£ã¦ã„ã‚Œã°ã€ç›´è¿‘ã®å¤§ãã„æ ªä¾¡ã®æ—¥ãŒèµ·ç®—æ—¥
    if (stack.length > 0) {
      result[i] = stack[stack.length - 1] + 1; // å‡ºåŠ›ã¯1-basedã«
    }

    // ä»Šã®æ—¥ã‚’ã‚¹ã‚¿ãƒƒã‚¯ã«ç©ã‚€
    stack.push(i);
  }

  console.log(result.join(' '));
}

main();
```

---

## ğŸ“Š å›³è§£ã§ç†è§£ï¼šä¾‹ `A = [6, 2, 5, 3, 1, 4]`

å„æ—¥ï¼ˆ0-basedï¼‰ã§ã®ã‚¹ã‚¿ãƒƒã‚¯æ“ä½œã‚’è¦‹ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

---

### ğŸ” i = 0, A\[i] = 6

* ã‚¹ã‚¿ãƒƒã‚¯ç©º â†’ èµ·ç®—æ—¥ãªã— â†’ çµæœ `-1`
* ã‚¹ã‚¿ãƒƒã‚¯ã« `0` ã‚’ç©ã‚€
  **stack = \[0]**
  **result = \[-1]**

---

### ğŸ” i = 1, A\[i] = 2

* A\[0] = 6 > 2 â†’ èµ·ç®—æ—¥ = 0 â†’ çµæœ `0 + 1 = 1`
* ã‚¹ã‚¿ãƒƒã‚¯ã« `1` ã‚’ç©ã‚€
  **stack = \[0, 1]**
  **result = \[-1, 1]**

---

### ğŸ” i = 2, A\[i] = 5

* A\[1] = 2 â‰¤ 5 â†’ pop â†’ stack = \[0]
* A\[0] = 6 > 5 â†’ èµ·ç®—æ—¥ = 0 â†’ çµæœ `1`
* ã‚¹ã‚¿ãƒƒã‚¯ã« `2` ã‚’ç©ã‚€
  **stack = \[0, 2]**
  **result = \[-1, 1, 1]**

---

### ğŸ” i = 3, A\[i] = 3

* A\[2] = 5 > 3 â†’ èµ·ç®—æ—¥ = 2 â†’ çµæœ `3`
* ã‚¹ã‚¿ãƒƒã‚¯ã« `3` ã‚’ç©ã‚€
  **stack = \[0, 2, 3]**
  **result = \[-1, 1, 1, 3]**

---

### ğŸ” i = 4, A\[i] = 1

* A\[3] = 3 > 1 â†’ èµ·ç®—æ—¥ = 3 â†’ çµæœ `4`
* ã‚¹ã‚¿ãƒƒã‚¯ã« `4` ã‚’ç©ã‚€
  **stack = \[0, 2, 3, 4]**
  **result = \[-1, 1, 1, 3, 4]**

---

### ğŸ” i = 5, A\[i] = 4

* A\[4] = 1 â‰¤ 4 â†’ pop â†’ stack = \[0,2,3]
* A\[3] = 3 â‰¤ 4 â†’ pop â†’ stack = \[0,2]
* A\[2] = 5 > 4 â†’ èµ·ç®—æ—¥ = 2 â†’ çµæœ `3`
* ã‚¹ã‚¿ãƒƒã‚¯ã« `5` ã‚’ç©ã‚€
  **stack = \[0, 2, 5]**
  **result = \[-1, 1, 1, 3, 4, 3]**

---

## ğŸ¯ æœ€çµ‚å‡ºåŠ›

```
-1 1 1 3 4 3
```

---

## ğŸ’¡ è§£æ³•ã¾ã¨ã‚

| å‡¦ç†                      | å†…å®¹                                  |
| ----------------------- | ----------------------------------- |
| `while` ãƒ«ãƒ¼ãƒ—             | ç¾åœ¨ã®æ ªä¾¡ `A[i]` ã‚ˆã‚Šå°ã•ã„ or åŒã˜æ ªä¾¡ã‚’ã‚¹ã‚¿ãƒƒã‚¯ã‹ã‚‰é™¤å¤– |
| `if (stack.length > 0)` | ä¸€ç•ªä¸Šã«æ®‹ã£ãŸã‚‚ã®ãŒã€Œæœ€ã‚‚è¿‘ã„å·¦å´ã®å¤§ãã„æ ªä¾¡ã€ï¼èµ·ç®—æ—¥        |
| `stack.push(i)`         | ç¾åœ¨ã®æ—¥ã‚’æ¬¡ã®æ¯”è¼ƒã®ãŸã‚ã«ç©ã‚€                     |

---

## â± è¨ˆç®—é‡

* **æ™‚é–“**: `O(N)`ï¼ˆå„è¦ç´ ãŒã‚¹ã‚¿ãƒƒã‚¯ã«1å›å…¥ã£ã¦1å›å‡ºã‚‹ï¼‰
* **ç©ºé–“**: `O(N)`ï¼ˆã‚¹ã‚¿ãƒƒã‚¯ + çµæœé…åˆ—ï¼‰

---

## âœ… ã“ã‚“ãªã¨ãã«ã‚‚ä½¿ãˆã‚‹

ã“ã®æ‰‹æ³•ï¼ˆãƒ¢ãƒãƒˆãƒ‹ãƒƒã‚¯ã‚¹ã‚¿ãƒƒã‚¯ï¼‰ã¯ä»¥ä¸‹ã®ã‚ˆã†ãªå•é¡Œã«ã‚‚å¿œç”¨ã§ãã¾ã™ï¼š

* **ç›´è¿‘ã§é«˜ã„æ¸©åº¦/æ ªä¾¡/å€¤æ®µ**ãªã©ã®å–å¾—
* **æœ€å¤§é¢ç©ã®é•·æ–¹å½¢** in ãƒ’ã‚¹ãƒˆã‚°ãƒ©ãƒ 
* **Next Greater Element** å•é¡Œ

---

ã‚‚ã¡ã‚ã‚“ã§ã™ã€‚ãƒ¢ãƒãƒˆãƒ‹ãƒƒã‚¯ã‚¹ã‚¿ãƒƒã‚¯ï¼ˆå˜èª¿ã‚¹ã‚¿ãƒƒã‚¯ï¼‰ã¯ã€**ç‰¹å®šã®é †åºï¼ˆæ˜‡é †ã¾ãŸã¯é™é †ï¼‰ã‚’ä¿ã¤ã‚ˆã†ã«è¨­è¨ˆã•ã‚ŒãŸã‚¹ã‚¿ãƒƒã‚¯**ã§ã‚ã‚Šã€å¤šãã®**åŒºé–“æœ€å°ãƒ»æœ€å¤§ã€ç›´è¿‘æ¯”è¼ƒç³»ã®å•é¡Œ**ã«å¯¾ã—ã¦åŠ¹ç‡çš„ã«è§£ã‚’å°ãã“ã¨ãŒã§ãã¾ã™ã€‚

---

## ğŸ” ãƒ¢ãƒãƒˆãƒ‹ãƒƒã‚¯ã‚¹ã‚¿ãƒƒã‚¯ã¨ã¯ï¼Ÿ

**ãƒ¢ãƒãƒˆãƒ‹ãƒƒã‚¯ã‚¹ã‚¿ãƒƒã‚¯ï¼ˆMonotonic Stackï¼‰** ã¯ã€ä»¥ä¸‹ã®æ€§è³ªã‚’æŒã¤ã‚¹ã‚¿ãƒƒã‚¯ã®ã“ã¨ã§ã™ï¼š

| åå‰       | ä¿ã¤é †åº    | ã‚¹ã‚¿ãƒƒã‚¯ä¸Šã®çŠ¶æ…‹    |
| -------- | ------- | ----------- |
| å˜èª¿å¢—åŠ ã‚¹ã‚¿ãƒƒã‚¯ | å°â†’å¤§ï¼ˆä¸Šã¸ï¼‰ | æœ€å°å€¤ãŒä¸‹ã€æœ€å¤§å€¤ãŒä¸Š |
| å˜èª¿æ¸›å°‘ã‚¹ã‚¿ãƒƒã‚¯ | å¤§â†’å°ï¼ˆä¸Šã¸ï¼‰ | æœ€å¤§å€¤ãŒä¸‹ã€æœ€å°å€¤ãŒä¸Š |

å€¤ã‚’è¿½åŠ ã™ã‚‹ã¨ãã«ã“ã®é †åºãŒå´©ã‚Œã‚‹è¦ç´ ã¯ **pop()** ã•ã‚Œã¾ã™ã€‚

---

## ğŸ§  ãªãœä½¿ã†ã®ã‹ï¼Ÿ

é€šå¸¸ã€**å·¦å´ or å³å´ã§æ¡ä»¶ã‚’æº€ãŸã™æœ€ã‚‚è¿‘ã„è¦ç´ **ã‚’æ¢ã™å•é¡Œã§ã¯ã€æ¯å›å‰ã®è¦ç´ ã‚’å…¨éƒ¨è¦‹ã¦ã„ãŸã‚‰ `O(N^2)` ã«ãªã‚Šã¾ã™ã€‚

â¡ ãƒ¢ãƒãƒˆãƒ‹ãƒƒã‚¯ã‚¹ã‚¿ãƒƒã‚¯ã‚’ä½¿ã†ã¨ã€**å„è¦ç´ ã‚’1å›pushãƒ»1å›popã™ã‚‹ã ã‘**ã§ `O(N)` ã«ãªã‚Šã¾ã™ã€‚

---

## ğŸ§© å…¸å‹çš„ãªç”¨é€”ä¾‹

| å•é¡Œä¾‹                          | ã‚¹ã‚¿ãƒƒã‚¯ã®å‹    | å†…å®¹            |
| ---------------------------- | --------- | ------------- |
| å„è¦ç´ ã«å¯¾ã—ã¦**ç›´è¿‘ã®å·¦å´ã§ã‚ˆã‚Šå¤§ãã„è¦ç´ **ã‚’æ±‚ã‚ã‚‹ | å˜èª¿æ¸›å°‘ã‚¹ã‚¿ãƒƒã‚¯  | æ ªä¾¡å•é¡Œï¼ˆä»Šå›ï¼‰      |
| å„è¦ç´ ã«å¯¾ã—ã¦**ç›´è¿‘ã®å³å´ã§ã‚ˆã‚Šå°ã•ã„è¦ç´ **ã‚’æ±‚ã‚ã‚‹ | å˜èª¿å¢—åŠ ã‚¹ã‚¿ãƒƒã‚¯  | ãƒã‚¯ã‚¹ãƒˆã‚¹ãƒ¢ãƒ¼ãƒ«ã‚¨ãƒ¬ãƒ¡ãƒ³ãƒˆ |
| ãƒ’ã‚¹ãƒˆã‚°ãƒ©ãƒ ã®æœ€å¤§é•·æ–¹å½¢é¢ç©               | ä¸¡å´ã®æœ€å°è¦ç´ æ¢ç´¢ | æœ€å¤§é•·æ–¹å½¢å•é¡Œ       |

---

## ğŸ“˜ å‹•ä½œã®æµã‚Œï¼ˆä¾‹ï¼‰

æ¬¡ã®ã‚ˆã†ãªé…åˆ— `A = [3, 1, 4, 2]` ã«å¯¾ã—ã¦ã€\*\*å·¦å´ã§ã€Œç›´è¿‘ã®å¤§ãã„è¦ç´ ã€\*\*ã‚’æ±‚ã‚ãŸã„å ´åˆï¼š

### ğŸ¯ å˜èª¿æ¸›å°‘ã‚¹ã‚¿ãƒƒã‚¯ã®å‹•ãï¼ˆé™é †ç¶­æŒï¼‰

```
i=0: A[i]=3
  ã‚¹ã‚¿ãƒƒã‚¯ç©º â†’ çµæœ: -1 â†’ push(0)
  ã‚¹ã‚¿ãƒƒã‚¯: [0]

i=1: A[i]=1
  A[0]=3 > 1 â†’ çµæœ: 0 â†’ push(1)
  ã‚¹ã‚¿ãƒƒã‚¯: [0,1]

i=2: A[i]=4
  A[1]=1 <= 4 â†’ pop
  A[0]=3 <= 4 â†’ pop
  ã‚¹ã‚¿ãƒƒã‚¯ç©º â†’ çµæœ: -1 â†’ push(2)
  ã‚¹ã‚¿ãƒƒã‚¯: [2]

i=3: A[i]=2
  A[2]=4 > 2 â†’ çµæœ: 2 â†’ push(3)
  ã‚¹ã‚¿ãƒƒã‚¯: [2,3]
```

### âœ… å‡ºåŠ›: `[-1, 1, -1, 3]`ï¼ˆ1-basedãªã‚‰ `[-1, 1, -1, 3]`ï¼‰

---

## ğŸ–¼ å›³ã§èª¬æ˜ï¼ˆã‚¹ã‚¿ãƒƒã‚¯ã®ä¸­èº«ï¼‰

```
å‡¦ç†      A[i]   ã‚¹ã‚¿ãƒƒã‚¯çŠ¶æ…‹ï¼ˆã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ï¼‰    å‡ºåŠ›
------   -----   ----------------------------    ------
i = 0     3      push 0                         -1
i = 1     1      0 -> (3 > 1) â‡’ OK â†’ push 1     0
i = 2     4      1 -> (1 â‰¤ 4) â†’ pop
                 0 -> (3 â‰¤ 4) â†’ pop â†’ stackç©º   -1
                 â†’ push 2
i = 3     2      2 -> (4 > 2) â‡’ OK â†’ push 3     2
```

---

## ğŸ’¡ ãƒã‚¤ãƒ³ãƒˆã¾ã¨ã‚

| ç‰¹å¾´       | å†…å®¹                                         |
| -------- | ------------------------------------------ |
| **é †åºåˆ¶å¾¡** | å¸¸ã«å˜èª¿ãªå€¤ã®ä¸¦ã³ã‚’ä¿ã¤ã“ã¨ã§ä¸è¦ãªæ¯”è¼ƒã‚’é¿ã‘ã‚‹                   |
| **æ“ä½œå›æ•°** | å„è¦ç´ ã¯1å›ã ã‘push & popã•ã‚Œã‚‹ â†’ ç·æ“ä½œå›æ•°ã¯ `O(N)`      |
| **å¿œç”¨åŠ›**  | ç¯„å›²æœ€å¤§/æœ€å°ã€å±¥æ­´ã¨ã®æ¯”è¼ƒã€Next Greater Elementç³»ã®å•é¡Œã«å¼·ã„ |
| **æŸ”è»Ÿæ€§**  | å€¤ã ã‘ã§ãªãã€**ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹**ã‚’ã‚¹ã‚¿ãƒƒã‚¯ã«ä¿æŒã™ã‚‹ã“ã¨ã§ã€ä½ç½®æƒ…å ±ãŒå¾—ã‚‰ã‚Œã‚‹   |

---

## ğŸ“š å¿œç”¨å•é¡Œä¾‹

| å•é¡Œå                                                                                 | å†…å®¹                 |
| ----------------------------------------------------------------------------------- | ------------------ |
| [Leetcode 739](https://leetcode.com/problems/daily-temperatures/)                   | Daily Temperatures |
| [AtCoder Typical DP Contest B](https://atcoder.jp/contests/tdpc/tasks/tdpc_contest) | æœ€å¤§é•·æ–¹å½¢é¢ç©            |
| [AOJ ALDS1\_3\_D](https://onlinejudge.u-aizu.ac.jp/problems/ALDS1_3_D)              | æ‹¬å¼§åˆ—ã®æœ€å¤§ãƒãƒƒãƒ          |

---

| [æå‡ºæ—¥æ™‚](https://atcoder.jp/contests/tessoku-book/submissions/me?desc=true&orderBy=created) | å•é¡Œ | ãƒ¦ãƒ¼ã‚¶ | è¨€èª | [å¾—ç‚¹](https://atcoder.jp/contests/tessoku-book/submissions/me?desc=true&orderBy=score) | [ã‚³ãƒ¼ãƒ‰é•·](https://atcoder.jp/contests/tessoku-book/submissions/me?orderBy=source_length) | çµæœ | [å®Ÿè¡Œæ™‚é–“](https://atcoder.jp/contests/tessoku-book/submissions/me?orderBy=time_consumption) | [ãƒ¡ãƒ¢ãƒª](https://atcoder.jp/contests/tessoku-book/submissions/me?orderBy=memory_consumption) |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| 2025-06-14 16:00:29 | [A60 - Stock Price](https://atcoder.jp/contests/tessoku-book/tasks/tessoku_book_bh) | [myoshizumi](https://atcoder.jp/users/myoshizumi) | [PHP (php 8.2.8)](https://atcoder.jp/contests/tessoku-book/submissions/me?f.Language=5016) | 1000 | 676 Byte | **AC** | 68 ms | 44508 KiB | [è©³ç´°](https://atcoder.jp/contests/tessoku-book/submissions/66711300) |
| 2025-06-14 15:58:27 | [A60 - Stock Price](https://atcoder.jp/contests/tessoku-book/tasks/tessoku_book_bh) | [myoshizumi](https://atcoder.jp/users/myoshizumi) | [Go (go 1.20.6)](https://atcoder.jp/contests/tessoku-book/submissions/me?f.Language=5002) | 1000 | 1113 Byte | **AC** | 450 ms | 12792 KiB | [è©³ç´°](https://atcoder.jp/contests/tessoku-book/submissions/66711256) |
| 2025-06-14 15:55:55 | [A60 - Stock Price](https://atcoder.jp/contests/tessoku-book/tasks/tessoku_book_bh) | [myoshizumi](https://atcoder.jp/users/myoshizumi) | [Python (CPython 3.11.4)](https://atcoder.jp/contests/tessoku-book/submissions/me?f.Language=5055) | 1000 | 712 Byte | **AC** | 99 ms | 49248 KiB | [è©³ç´°](https://atcoder.jp/contests/tessoku-book/submissions/66711204) |
| 2025-06-14 15:48:40 | [A60 - Stock Price](https://atcoder.jp/contests/tessoku-book/tasks/tessoku_book_bh) | [myoshizumi](https://atcoder.jp/users/myoshizumi) | [TypeScript 5.1 (Node.js 18.16.1)](https://atcoder.jp/contests/tessoku-book/submissions/me?f.Language=5058) | 1000 | 845 Byte | **AC** | 118 ms | 95112 KiB | [è©³ç´°](https://atcoder.jp/contests/tessoku-book/submissions/66711041) |
| 2025-06-14 15:38:16 | [A60 - Stock Price](https://atcoder.jp/contests/tessoku-book/tasks/tessoku_book_bh) | [myoshizumi](https://atcoder.jp/users/myoshizumi) | [JavaScript (Node.js 18.16.1)](https://atcoder.jp/contests/tessoku-book/submissions/me?f.Language=5009) | 1000 | 660 Byte | **AC** | 136 ms | 89052 KiB | [è©³ç´°](https://atcoder.jp/contests/tessoku-book/submissions/66710824) |