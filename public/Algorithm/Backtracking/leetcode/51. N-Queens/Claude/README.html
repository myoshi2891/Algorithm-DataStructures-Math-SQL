<!doctype html>
<html lang="ja">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>N-Queenså•é¡Œã®è©³ç´°è§£æ</title>
        <link
            href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css"
            rel="stylesheet"
        />
        <link
            href="/vendor/prismjs/plugins/line-numbers/prism-line-numbers.css"
            rel="stylesheet"
        />
        <style>
            * {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
            }

            body {
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                line-height: 1.6;
                color: #e0e0e0;
                background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
                min-height: 100vh;
            }

            .container {
                max-width: 1200px;
                margin: 0 auto;
                padding: 20px;
            }

            h1 {
                text-align: center;
                color: #64ffda;
                margin-bottom: 30px;
                font-size: 2.5em;
                text-shadow: 0 0 10px rgba(100, 255, 218, 0.3);
            }

            h2 {
                color: #ff6b9d;
                margin: 30px 0 15px 0;
                font-size: 1.8em;
                border-left: 4px solid #ff6b9d;
                padding-left: 15px;
            }

            h3 {
                color: #ffd93d;
                margin: 20px 0 10px 0;
                font-size: 1.3em;
            }

            .section {
                margin-bottom: 40px;
                background: rgba(255, 255, 255, 0.05);
                border-radius: 15px;
                padding: 25px;
                box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
                backdrop-filter: blur(10px);
                border: 1px solid rgba(255, 255, 255, 0.1);
            }

            .chessboard {
                display: inline-grid;
                gap: 2px;
                background: #333;
                padding: 10px;
                border-radius: 8px;
                margin: 10px;
                box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
            }

            .chessboard.size-4 {
                grid-template-columns: repeat(4, 40px);
            }

            .chessboard.size-8 {
                grid-template-columns: repeat(8, 30px);
            }

            .cell {
                width: 40px;
                height: 40px;
                display: flex;
                align-items: center;
                justify-content: center;
                font-size: 20px;
                font-weight: bold;
                border-radius: 4px;
                transition: all 0.3s ease;
            }

            .cell.white {
                background: #f0d9b5;
                color: #b58863;
            }

            .cell.black {
                background: #b58863;
                color: #f0d9b5;
            }

            .cell.queen {
                background: #ff6b9d !important;
                color: white;
                box-shadow: 0 0 15px rgba(255, 107, 157, 0.5);
                animation: pulse 2s infinite;
            }

            .cell.attacked {
                background: rgba(255, 107, 157, 0.3) !important;
                border: 2px solid #ff6b9d;
            }

            @keyframes pulse {
                0% {
                    transform: scale(1);
                }
                50% {
                    transform: scale(1.1);
                }
                100% {
                    transform: scale(1);
                }
            }

            .boards-container {
                display: flex;
                flex-wrap: wrap;
                gap: 20px;
                justify-content: center;
                margin: 20px 0;
            }

            .board-wrapper {
                text-align: center;
            }

            .board-title {
                color: #64ffda;
                margin-bottom: 10px;
                font-weight: bold;
            }

            .algorithm-step {
                background: rgba(100, 255, 218, 0.1);
                border: 1px solid #64ffda;
                border-radius: 10px;
                padding: 20px;
                margin: 15px 0;
                transition: all 0.3s ease;
            }

            .algorithm-step:hover {
                background: rgba(100, 255, 218, 0.2);
                transform: translateY(-2px);
                box-shadow: 0 6px 20px rgba(100, 255, 218, 0.2);
            }

            .step-number {
                background: #64ffda;
                color: #1a1a2e;
                border-radius: 50%;
                width: 30px;
                height: 30px;
                display: inline-flex;
                align-items: center;
                justify-content: center;
                font-weight: bold;
                margin-right: 10px;
            }

            pre[class*='language-'] {
                background: #0d1117 !important;
                border-radius: 10px;
                border: 1px solid rgba(255, 255, 255, 0.1);
                box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
                margin: 20px 0;
                transition: all 0.3s ease;
            }

            pre[class*='language-']:hover {
                box-shadow: 0 8px 30px rgba(100, 255, 218, 0.2);
                transform: translateY(-2px);
            }

            code[class*='language-'] {
                font-family: 'Fira Code', 'Monaco', 'Consolas', monospace;
                font-size: 14px;
                line-height: 1.5;
            }

            .line-numbers .line-numbers-rows {
                border-right: 1px solid #64ffda !important;
                background: rgba(100, 255, 218, 0.1) !important;
            }

            .complexity-box {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                padding: 20px;
                border-radius: 10px;
                margin: 15px 0;
                text-align: center;
            }

            .complexity-title {
                font-size: 1.2em;
                font-weight: bold;
                margin-bottom: 10px;
            }

            .interactive-demo {
                background: rgba(255, 255, 255, 0.05);
                border-radius: 10px;
                padding: 20px;
                margin: 20px 0;
                border: 1px solid rgba(100, 255, 218, 0.3);
            }

            .demo-button {
                background: linear-gradient(135deg, #64ffda 0%, #4ecdc4 100%);
                color: #1a1a2e;
                border: none;
                padding: 12px 25px;
                border-radius: 25px;
                font-weight: bold;
                cursor: pointer;
                transition: all 0.3s ease;
                margin: 5px;
            }

            .demo-button:hover {
                transform: translateY(-2px);
                box-shadow: 0 6px 20px rgba(100, 255, 218, 0.3);
            }

            .explanation {
                background: rgba(255, 255, 255, 0.05);
                padding: 15px;
                border-radius: 8px;
                border-left: 4px solid #ffd93d;
                margin: 15px 0;
            }

            @media (max-width: 768px) {
                .container {
                    padding: 10px;
                }

                h1 {
                    font-size: 2em;
                }

                .cell {
                    width: 30px;
                    height: 30px;
                    font-size: 16px;
                }

                .chessboard.size-8 .cell {
                    width: 25px;
                    height: 25px;
                    font-size: 12px;
                }
            }
        </style>
    </head>
    <body>
        <div class="container">
            <h1>N-Queenså•é¡Œã®è©³ç´°è§£æ</h1>

            <div class="section">
                <h2>ğŸ” å•é¡Œã®æ¦‚è¦</h2>
                <p>
                    N-Queenså•é¡Œã¯ã€nÃ—nã®ãƒã‚§ã‚¹ãƒœãƒ¼ãƒ‰ä¸Šã«nå€‹ã®ã‚¯ã‚¤ãƒ¼ãƒ³ã‚’é…ç½®ã™ã‚‹å•é¡Œã§ã™ã€‚ã‚¯ã‚¤ãƒ¼ãƒ³ã¯ç¸¦ãƒ»æ¨ªãƒ»æ–œã‚ã®å…¨æ–¹å‘ã«ç§»å‹•ã§ãã‚‹ãŸã‚ã€äº’ã„ã«æ”»æ’ƒã—åˆã‚ãªã„ä½ç½®ã«é…ç½®ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
                </p>

                <div class="boards-container">
                    <div class="board-wrapper">
                        <div class="board-title">4-Queens è§£1</div>
                        <div class="chessboard size-4" id="board1">
                            <div class="cell white">.</div>
                            <div class="cell black queen">â™•</div>
                            <div class="cell white">.</div>
                            <div class="cell black">.</div>

                            <div class="cell black">.</div>
                            <div class="cell white">.</div>
                            <div class="cell black">.</div>
                            <div class="cell white queen">â™•</div>

                            <div class="cell white queen">â™•</div>
                            <div class="cell black">.</div>
                            <div class="cell white">.</div>
                            <div class="cell black">.</div>

                            <div class="cell black">.</div>
                            <div class="cell white">.</div>
                            <div class="cell black queen">â™•</div>
                            <div class="cell white">.</div>
                        </div>
                    </div>

                    <div class="board-wrapper">
                        <div class="board-title">4-Queens è§£2</div>
                        <div class="chessboard size-4" id="board2">
                            <div class="cell white">.</div>
                            <div class="cell black">.</div>
                            <div class="cell white queen">â™•</div>
                            <div class="cell black">.</div>

                            <div class="cell black queen">â™•</div>
                            <div class="cell white">.</div>
                            <div class="cell black">.</div>
                            <div class="cell white">.</div>

                            <div class="cell white">.</div>
                            <div class="cell black">.</div>
                            <div class="cell white">.</div>
                            <div class="cell black queen">â™•</div>

                            <div class="cell black">.</div>
                            <div class="cell white queen">â™•</div>
                            <div class="cell black">.</div>
                            <div class="cell white">.</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>ğŸ’» TypeScriptå®Ÿè£…ã¨ã‚³ãƒ¼ãƒ‰è§£æ</h2>

                <pre class="line-numbers"><code class="language-typescript">/**
 * N-Queenså•é¡Œã‚’è§£ãé–¢æ•°
 * @param n - ãƒã‚§ã‚¹ãƒœãƒ¼ãƒ‰ã®ã‚µã‚¤ã‚º (n x n)
 * @returns å…¨ã¦ã®è§£ã®é…åˆ—ã€‚å„è§£ã¯æ–‡å­—åˆ—ã®é…åˆ—ã§ã€'Q'ã¯ã‚¯ã‚¤ãƒ¼ãƒ³ã€'.'ã¯ç©ºããƒã‚¹ã‚’è¡¨ã™
 */
function solveNQueens(n: number): string[][] {
    const result: string[][] = [];
    const board: string[][] = Array(n).fill(null).map(() => Array(n).fill('.'));
    
    /**
     * æŒ‡å®šã•ã‚ŒãŸä½ç½®ã«ã‚¯ã‚¤ãƒ¼ãƒ³ã‚’é…ç½®ã§ãã‚‹ã‹ãƒã‚§ãƒƒã‚¯
     * @param row - è¡Œã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
     * @param col - åˆ—ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
     * @returns é…ç½®å¯èƒ½ã‹ã©ã†ã‹
     */
    function isSafe(row: number, col: number): boolean {
        // åŒã˜åˆ—ã‚’ãƒã‚§ãƒƒã‚¯ï¼ˆä¸Šæ–¹å‘ã®ã¿ã€ä¸‹ã¯ã¾ã é…ç½®ã—ã¦ã„ãªã„ãŸã‚ï¼‰
        for (let i = 0; i < row; i++) {
            if (board[i][col] === 'Q') return false;
        }
        
        // å·¦ä¸Šå¯¾è§’ç·šã‚’ãƒã‚§ãƒƒã‚¯
        for (let i = row - 1, j = col - 1; i >= 0 && j >= 0; i--, j--) {
            if (board[i][j] === 'Q') return false;
        }
        
        // å³ä¸Šå¯¾è§’ç·šã‚’ãƒã‚§ãƒƒã‚¯
        for (let i = row - 1, j = col + 1; i >= 0 && j < n; i--, j++) {
            if (board[i][j] === 'Q') return false;
        }
        
        return true;
    }
    
    /**
     * ãƒãƒƒã‚¯ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°ã‚’ä½¿ç”¨ã—ã¦ã‚¯ã‚¤ãƒ¼ãƒ³ã‚’é…ç½®
     * @param row - ç¾åœ¨ã®è¡Œ
     */
    function backtrack(row: number): void {
        // ãƒ™ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ï¼šå…¨ã¦ã®è¡Œã«ã‚¯ã‚¤ãƒ¼ãƒ³ã‚’é…ç½®å®Œäº†
        if (row === n) {
            // ç¾åœ¨ã®ãƒœãƒ¼ãƒ‰çŠ¶æ…‹ã‚’æ–‡å­—åˆ—é…åˆ—ã¨ã—ã¦çµæœã«è¿½åŠ 
            result.push(board.map(row => row.join('')));
            return;
        }
        
        // ç¾åœ¨ã®è¡Œã®å„åˆ—ã§ã‚¯ã‚¤ãƒ¼ãƒ³ã®é…ç½®ã‚’è©¦è¡Œ
        for (let col = 0; col < n; col++) {
            if (isSafe(row, col)) {
                // ã‚¯ã‚¤ãƒ¼ãƒ³ã‚’é…ç½®
                board[row][col] = 'Q';
                // æ¬¡ã®è¡Œã«é€²ã‚€
                backtrack(row + 1);
                // ãƒãƒƒã‚¯ãƒˆãƒ©ãƒƒã‚¯ï¼ˆã‚¯ã‚¤ãƒ¼ãƒ³ã‚’å–ã‚Šé™¤ãï¼‰
                board[row][col] = '.';
            }
        }
    }
    
    backtrack(0);
    return result;
}</code></pre>
            </div>

            <div class="section">
                <h2>ğŸ§  ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®è©³ç´°è§£æ</h2>

                <h3>1. ãƒ¡ã‚¤ãƒ³é–¢æ•°ã®æ§‹é€ </h3>
                <div class="algorithm-step">
                    <span class="step-number">1</span>
                    <strong>åˆæœŸåŒ–ãƒ•ã‚§ãƒ¼ã‚º</strong><br />
                    çµæœé…åˆ— <code>result</code> ã¨ãƒœãƒ¼ãƒ‰é…åˆ—
                    <code>board</code> ã‚’åˆæœŸåŒ–ã—ã¾ã™ã€‚ãƒœãƒ¼ãƒ‰ã¯äºŒæ¬¡å…ƒé…åˆ—ã§ã€å…¨ã¦ã®ã‚»ãƒ«ã‚’ '.'
                    ã§åˆæœŸåŒ–ã—ã¾ã™ã€‚
                </div>

                <h3>2. å®‰å…¨æ€§ãƒã‚§ãƒƒã‚¯é–¢æ•° (isSafe)</h3>
                <div class="algorithm-step">
                    <span class="step-number">2</span>
                    <strong>ç¸¦æ–¹å‘ãƒã‚§ãƒƒã‚¯</strong><br />
                    ç¾åœ¨ã®åˆ—
                    <code>col</code> ã®ä¸Šæ–¹å‘ï¼ˆrow=0ã‹ã‚‰row-1ã¾ã§ï¼‰ã«ã‚¯ã‚¤ãƒ¼ãƒ³ãŒå­˜åœ¨ã™ã‚‹ã‹ãƒã‚§ãƒƒã‚¯
                </div>

                <div class="algorithm-step">
                    <span class="step-number">3</span>
                    <strong>å·¦ä¸Šå¯¾è§’ç·šãƒã‚§ãƒƒã‚¯</strong><br />
                    <code>(row-1, col-1)</code> ã‹ã‚‰
                    <code>(0, 0)</code> æ–¹å‘ã¸å¯¾è§’ç·šä¸Šã«ã‚¯ã‚¤ãƒ¼ãƒ³ãŒå­˜åœ¨ã™ã‚‹ã‹ãƒã‚§ãƒƒã‚¯
                </div>

                <div class="algorithm-step">
                    <span class="step-number">4</span>
                    <strong>å³ä¸Šå¯¾è§’ç·šãƒã‚§ãƒƒã‚¯</strong><br />
                    <code>(row-1, col+1)</code> ã‹ã‚‰
                    <code>(0, n-1)</code> æ–¹å‘ã¸å¯¾è§’ç·šä¸Šã«ã‚¯ã‚¤ãƒ¼ãƒ³ãŒå­˜åœ¨ã™ã‚‹ã‹ãƒã‚§ãƒƒã‚¯
                </div>

                <div class="explanation">
                    <strong>ğŸ’¡ é‡è¦ãªæœ€é©åŒ–ãƒã‚¤ãƒ³ãƒˆï¼š</strong><br />
                    ä¸‹æ–¹å‘ã¨ä¸‹å¯¾è§’ç·šã®ãƒã‚§ãƒƒã‚¯ãŒä¸è¦ãªç†ç”±ã¯ã€ãƒãƒƒã‚¯ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°ãŒä¸Šã‹ã‚‰ä¸‹ã¸è¡Œã‚’é€²ã‚€ãŸã‚ã€ä¸‹ã®è¡Œã¯ã¾ã ã‚¯ã‚¤ãƒ¼ãƒ³ãŒé…ç½®ã•ã‚Œã¦ã„ãªã„ãŸã‚ã§ã™ã€‚
                </div>
            </div>

            <div class="section">
                <h2>ğŸ”„ ãƒãƒƒã‚¯ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°ã®å‹•ä½œåŸç†</h2>

                <div class="interactive-demo">
                    <h3>ãƒãƒƒã‚¯ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°ã®æµã‚Œï¼ˆ4Ã—4ã®ä¾‹ï¼‰</h3>
                    <button class="demo-button" onclick="showStep(0)">ã‚¹ãƒ†ãƒƒãƒ—1: åˆæœŸçŠ¶æ…‹</button>
                    <button class="demo-button" onclick="showStep(1)">ã‚¹ãƒ†ãƒƒãƒ—2: 1è¡Œç›®é…ç½®</button>
                    <button class="demo-button" onclick="showStep(2)">ã‚¹ãƒ†ãƒƒãƒ—3: 2è¡Œç›®è©¦è¡Œ</button>
                    <button class="demo-button" onclick="showStep(3)">
                        ã‚¹ãƒ†ãƒƒãƒ—4: ãƒãƒƒã‚¯ãƒˆãƒ©ãƒƒã‚¯
                    </button>
                    <button class="demo-button" onclick="showStep(4)">ã‚¹ãƒ†ãƒƒãƒ—5: è§£ç™ºè¦‹</button>

                    <div id="demo-board" class="boards-container">
                        <div class="chessboard size-4" id="demo-chessboard">
                            <div class="cell white">.</div>
                            <div class="cell black">.</div>
                            <div class="cell white">.</div>
                            <div class="cell black">.</div>
                            <div class="cell black">.</div>
                            <div class="cell white">.</div>
                            <div class="cell black">.</div>
                            <div class="cell white">.</div>
                            <div class="cell white">.</div>
                            <div class="cell black">.</div>
                            <div class="cell white">.</div>
                            <div class="cell black">.</div>
                            <div class="cell black">.</div>
                            <div class="cell white">.</div>
                            <div class="cell black">.</div>
                            <div class="cell white">.</div>
                        </div>
                    </div>
                    <div id="step-explanation"></div>
                </div>

                <div class="algorithm-step">
                    <span class="step-number">1</span>
                    <strong>å†å¸°çš„æ¢ç´¢</strong><br />
                    å„è¡Œã§å…¨ã¦ã®åˆ—ã‚’è©¦è¡Œã—ã€å®‰å…¨ãªä½ç½®ã«ã‚¯ã‚¤ãƒ¼ãƒ³ã‚’é…ç½®
                </div>

                <div class="algorithm-step">
                    <span class="step-number">2</span>
                    <strong>åˆ¶ç´„æº€è¶³</strong><br />
                    é…ç½®å¾Œã€æ¬¡ã®è¡Œã«é€²ã‚“ã§åŒã˜å‡¦ç†ã‚’å†å¸°çš„ã«å®Ÿè¡Œ
                </div>

                <div class="algorithm-step">
                    <span class="step-number">3</span>
                    <strong>ãƒãƒƒã‚¯ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°</strong><br />
                    è¡Œãè©°ã¾ã£ãŸå ´åˆã€å‰ã®çŠ¶æ…‹ã«æˆ»ã£ã¦ã‚¯ã‚¤ãƒ¼ãƒ³ã‚’é™¤å»ã—ã€æ¬¡ã®å¯èƒ½æ€§ã‚’æ¢ç´¢
                </div>

                <div class="algorithm-step">
                    <span class="step-number">4</span>
                    <strong>è§£ã®è¨˜éŒ²</strong><br />
                    å…¨ã¦ã®è¡Œã«ã‚¯ã‚¤ãƒ¼ãƒ³ãŒé…ç½®ã§ããŸã‚‰ã€ç¾åœ¨ã®ãƒœãƒ¼ãƒ‰çŠ¶æ…‹ã‚’è§£ã¨ã—ã¦è¨˜éŒ²
                </div>
            </div>

            <div class="section">
                <h2>ğŸ“Š è¨ˆç®—é‡è§£æ</h2>

                <div class="complexity-box">
                    <div class="complexity-title">æ™‚é–“è¨ˆç®—é‡</div>
                    <strong>O(N!)</strong><br />
                    æœ€æ‚ªã®å ´åˆã€å„è¡Œã§Nå€‹ã®é¸æŠè‚¢ãŒã‚ã‚Šã€åˆ¶ç´„ã«ã‚ˆã‚Šé¸æŠè‚¢ãŒæ¸›å°‘ã—ã¦ã„ã
                </div>

                <div class="complexity-box">
                    <div class="complexity-title">ç©ºé–“è¨ˆç®—é‡</div>
                    <strong>O(NÂ²)</strong><br />
                    ãƒœãƒ¼ãƒ‰é…åˆ— + å†å¸°å‘¼ã³å‡ºã—ã‚¹ã‚¿ãƒƒã‚¯ï¼ˆæœ€å¤§Néšå±¤ï¼‰
                </div>

                <pre
                    class="line-numbers"
                ><code class="language-typescript">// å®Ÿéš›ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ¸¬å®šä¾‹
function measurePerformance() {
    const testCases = [4, 5, 6, 7, 8];
    
    testCases.forEach(n => {
        const start = performance.now();
        const solutions = solveNQueens(n);
        const end = performance.now();
        
        console.log(`N=${n}: ${solutions.length} solutions in ${(end - start).toFixed(2)}ms`);
    });
}

// æœŸå¾…ã•ã‚Œã‚‹çµæœ:
// N=4: 2 solutions
// N=5: 10 solutions  
// N=6: 4 solutions
// N=7: 40 solutions
// N=8: 92 solutions</code></pre>
            </div>

            <div class="section">
                <h2>ğŸ¯ TypeScriptç‰¹æœ‰ã®æœ€é©åŒ–</h2>

                <h3>å‹å®‰å…¨æ€§ã®ç¢ºä¿</h3>
                <pre
                    class="line-numbers"
                ><code class="language-typescript">// å‹æ³¨é‡ˆã«ã‚ˆã‚‹å®‰å…¨æ€§å‘ä¸Š
function solveNQueens(n: number): string[][] {
    // æˆ»ã‚Šå€¤ã®å‹ãŒæ˜ç¢º
    const result: string[][] = [];
    
    // 2æ¬¡å…ƒé…åˆ—ã®å‹ãŒæ˜ç¤ºçš„
    const board: string[][] = Array(n).fill(null)
        .map((): string[] => Array(n).fill('.'));
    
    // å†…éƒ¨é–¢æ•°ã‚‚é©åˆ‡ãªå‹æ³¨é‡ˆ
    function isSafe(row: number, col: number): boolean {
        // ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¨æˆ»ã‚Šå€¤ã®å‹ãŒæ˜ç¢º
        // ...
    }
}</code></pre>

                <h3>ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ã®ãƒã‚¤ãƒ³ãƒˆ</h3>
                <div class="explanation">
                    <strong>1. ãƒ¡ãƒ¢ãƒªåŠ¹ç‡çš„ãªé…åˆ—æ“ä½œ</strong><br />
                    <code>Array(n).fill(null).map()</code>
                    ã‚’ä½¿ç”¨ã—ã¦TypeScriptã®å‹ãƒã‚§ãƒƒã‚«ãƒ¼ã‚’æº€è¶³ã•ã›ã¤ã¤ã€åŠ¹ç‡çš„ãªåˆæœŸåŒ–ã‚’å®Ÿç¾
                </div>

                <div class="explanation">
                    <strong>2. ä¸è¦ãªã‚³ãƒ”ãƒ¼ã®å›é¿</strong><br />
                    <code>board.map(row => row.join(''))</code> ã§æ–‡å­—åˆ—å¤‰æ›æ™‚ã®ã¿æ–°ã—ã„é…åˆ—ã‚’ä½œæˆ
                </div>

                <div class="explanation">
                    <strong>3. æ—©æœŸãƒªã‚¿ãƒ¼ãƒ³</strong><br />
                    <code>isSafe</code> é–¢æ•°ã§æ”»æ’ƒã•ã‚Œã‚‹ä½ç½®ãŒè¦‹ã¤ã‹ã£ãŸã‚‰å³åº§ã«falseã‚’è¿”ã™
                </div>
            </div>

            <div class="section">
                <h2>ğŸš€ å®Ÿè¡Œä¾‹ã¨ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹</h2>

                <pre class="line-numbers"><code class="language-typescript">// ãƒ†ã‚¹ãƒˆå®Ÿè¡Œä¾‹
console.log("N=1ã®å ´åˆ:");
console.log(solveNQueens(1));
// å‡ºåŠ›: [["Q"]]

console.log("N=4ã®å ´åˆ:");
const result4 = solveNQueens(4);
console.log(`è§£ã®æ•°: ${result4.length}`);
result4.forEach((solution, index) => {
    console.log(`è§£ ${index + 1}:`);
    solution.forEach(row => console.log(row));
    console.log();
});

// å‡ºåŠ›:
// è§£ã®æ•°: 2
// è§£ 1:
// .Q..
// ...Q
// Q...
// ..Q.
//
// è§£ 2:
// ..Q.
// Q...
// ...Q
// .Q..</code></pre>
            </div>
        </div>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>

        <script>
            const demoSteps = [
                {
                    board: [
                        '.',
                        '.',
                        '.',
                        '.',
                        '.',
                        '.',
                        '.',
                        '.',
                        '.',
                        '.',
                        '.',
                        '.',
                        '.',
                        '.',
                        '.',
                        '.',
                    ],
                    explanation: 'åˆæœŸçŠ¶æ…‹: 4Ã—4ã®ç©ºã®ãƒã‚§ã‚¹ãƒœãƒ¼ãƒ‰',
                },
                {
                    board: [
                        '.',
                        'Q',
                        '.',
                        '.',
                        '.',
                        '.',
                        '.',
                        '.',
                        '.',
                        '.',
                        '.',
                        '.',
                        '.',
                        '.',
                        '.',
                        '.',
                    ],
                    explanation: '1è¡Œç›®ã®2åˆ—ç›®ã«ã‚¯ã‚¤ãƒ¼ãƒ³ã‚’é…ç½®ï¼ˆä»®ï¼‰',
                },
                {
                    board: [
                        '.',
                        'Q',
                        '.',
                        '.',
                        '.',
                        '.',
                        '.',
                        '.',
                        '.',
                        '.',
                        '.',
                        '.',
                        '.',
                        '.',
                        '.',
                        '.',
                    ],
                    explanation: '2è¡Œç›®ã§é…ç½®å¯èƒ½ãªä½ç½®ã‚’æ¢ç´¢ä¸­... åˆ¶ç´„ã«ã‚ˆã‚Šé…ç½®ä¸å¯èƒ½',
                },
                {
                    board: [
                        'Q',
                        '.',
                        '.',
                        '.',
                        '.',
                        '.',
                        '.',
                        '.',
                        '.',
                        '.',
                        '.',
                        '.',
                        '.',
                        '.',
                        '.',
                        '.',
                    ],
                    explanation: 'ãƒãƒƒã‚¯ãƒˆãƒ©ãƒƒã‚¯: 1è¡Œç›®ã‚’1åˆ—ç›®ã«å¤‰æ›´',
                },
                {
                    board: [
                        'Q',
                        '.',
                        '.',
                        '.',
                        '.',
                        '.',
                        'Q',
                        '.',
                        '.',
                        '.',
                        '.',
                        '.',
                        '.',
                        'Q',
                        '.',
                        '.',
                    ],
                    explanation: 'è§£ç™ºè¦‹! ã™ã¹ã¦ã®è¡Œã«ã‚¯ã‚¤ãƒ¼ãƒ³ãŒå®‰å…¨ã«é…ç½®å®Œäº†',
                },
            ];

            function showStep(stepIndex) {
                const step = demoSteps[stepIndex];
                const cells = document.querySelectorAll('#demo-chessboard .cell');

                cells.forEach((cell, index) => {
                    cell.innerHTML = step.board[index] === 'Q' ? 'â™•' : '.';
                    cell.classList.remove('queen');
                    if (step.board[index] === 'Q') {
                        cell.classList.add('queen');
                    }
                });

                document.getElementById('step-explanation').innerHTML = `
                <div class="explanation">
                    <strong>ã‚¹ãƒ†ãƒƒãƒ— ${stepIndex + 1}:</strong> ${step.explanation}
                </div>
            `;
            }

            // åˆæœŸçŠ¶æ…‹ã‚’è¡¨ç¤º
            showStep(0);

            // ãƒ›ãƒãƒ¼ã‚¨ãƒ•ã‚§ã‚¯ãƒˆã§ã‚¯ã‚¤ãƒ¼ãƒ³ã®æ”»æ’ƒç¯„å›²ã‚’è¡¨ç¤º
            function showAttackPattern(queenPos) {
                const cells = document.querySelectorAll('#board1 .cell, #board2 .cell');
                cells.forEach((cell) => cell.classList.remove('attacked'));

                // æ”»æ’ƒç¯„å›²ã‚’ãƒã‚¤ãƒ©ã‚¤ãƒˆï¼ˆãƒ‡ãƒ¢ç”¨ã®ç°¡å˜ãªå®Ÿè£…ï¼‰
                // å®Ÿéš›ã®å®Ÿè£…ã§ã¯åº§æ¨™è¨ˆç®—ãŒå¿…è¦
            }
        </script>
    </body>
</html>
