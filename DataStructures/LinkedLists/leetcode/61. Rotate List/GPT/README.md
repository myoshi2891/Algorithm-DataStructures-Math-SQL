äº†è§£ã—ã¾ã—ãŸ ğŸ‘
ã“ã“ã§ã¯ **Python ç‰ˆã® rotateRight (å›è»¢ãƒªã‚¹ãƒˆ)** ã®ã‚³ãƒ¼ãƒ‰ã‚’å¯¾è±¡ã«ã€
å„å‡¦ç†ã‚’ã€Œå›³ã€ã‚’ç”¨ã„ã¦å…·ä½“çš„ã«è§£æãƒ»èª¬æ˜ã—ã¦ã„ãã¾ã™ã€‚

---

## âœ… ã‚³ãƒ¼ãƒ‰ï¼ˆå†æ²ï¼‰

```python
from typing import Optional

# å˜æ–¹å‘ãƒªã‚¹ãƒˆã®ãƒãƒ¼ãƒ‰å®šç¾©
class ListNode:
    def __init__(self, val: int = 0, next: Optional['ListNode'] = None):
        self.val = val
        self.next = next

class Solution:
    def rotateRight(self, head: Optional[ListNode], k: int) -> Optional[ListNode]:
        # ç©ºãƒªã‚¹ãƒˆ or k=0 ã®å ´åˆã¯ãã®ã¾ã¾è¿”ã™
        if not head or not head.next or k == 0:
            return head

        # 1. é•·ã•ã‚’æ•°ãˆã‚‹
        length = 1
        tail = head
        while tail.next:
            tail = tail.next
            length += 1

        # 2. k ã‚’æ­£è¦åŒ–
        k %= length
        if k == 0:
            return head

        # 3. ãƒªã‚¹ãƒˆã‚’ç’°çŠ¶ã«ã™ã‚‹
        tail.next = head

        # 4. æ–°ã—ã„æœ«å°¾ã‚’æ¢ã™
        steps_to_new_tail = length - k
        new_tail = head
        for _ in range(steps_to_new_tail - 1):
            new_tail = new_tail.next

        # 5. æ–°ã—ã„å…ˆé ­ã‚’æ±ºã‚ã¦ç’°ã‚’åˆ‡ã‚‹
        new_head = new_tail.next
        new_tail.next = None
        return new_head
```

---

## ğŸ” å„å‡¦ç†ã®è§£æ & å›³è§£

### 1. é•·ã•ã‚’æ•°ãˆã‚‹

```python
length = 1
tail = head
while tail.next:
    tail = tail.next
    length += 1
```

#### å›³

ãƒªã‚¹ãƒˆãŒ `1 â†’ 2 â†’ 3 â†’ 4 â†’ 5` ã®å ´åˆ

```
head
 â†“
[1] â†’ [2] â†’ [3] â†’ [4] â†’ [5] â†’ None
                     â†‘
                   tail (æœ€å¾Œã«åˆ°é”)
```

- `tail` ã‚’é€²ã‚ã¦ãƒªã‚¹ãƒˆã®æœ«å°¾ã‚’æ¢ã™
- `length = 5` ãŒå¾—ã‚‰ã‚Œã‚‹

---

### 2. k ã‚’æ­£è¦åŒ–

```python
k %= length
if k == 0:
    return head
```

- ä¾‹: `k = 12`, `length = 5` â†’ `k = 12 % 5 = 2`
- ã€Œãƒªã‚¹ãƒˆã‚’ 12 å›å³å›è»¢ã€ã™ã‚‹ã®ã¯ã€Œ2 å›å›è»¢ã€ã¨åŒã˜

---

### 3. ãƒªã‚¹ãƒˆã‚’ç’°çŠ¶ã«ã™ã‚‹

```python
tail.next = head
```

#### å›³

```
[1] â†’ [2] â†’ [3] â†’ [4] â†’ [5]
  â†‘                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

- **æœ«å°¾ \[5] ãŒ head \[1] ã‚’æŒ‡ã™**ã‚ˆã†ã«ã—ã¦ã€Œå††ã€ã«ã™ã‚‹

---

### 4. æ–°ã—ã„æœ«å°¾ã‚’æ¢ã™

```python
steps_to_new_tail = length - k
new_tail = head
for _ in range(steps_to_new_tail - 1):
    new_tail = new_tail.next
```

ä¾‹: `length = 5`, `k = 2` â†’ `steps_to_new_tail = 3`

#### å›³

```
[1] â†’ [2] â†’ [3] â†’ [4] â†’ [5]
  â†‘                        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

new_tail = [3]
```

- **3 ç•ªç›®ã®ãƒãƒ¼ãƒ‰ (å€¤ 3)** ãŒæ–°ã—ã„æœ«å°¾ã«ãªã‚‹

---

### 5. æ–°ã—ã„å…ˆé ­ã‚’æ±ºã‚ã¦ç’°ã‚’åˆ‡ã‚‹

```python
new_head = new_tail.next
new_tail.next = None
```

#### å›³

```
new_tail = [3]
new_head = [4]

çµæœ:
[4] â†’ [5] â†’ [1] â†’ [2] â†’ [3] â†’ None
```

- \[3] ã® `next` ã‚’åˆ‡ã£ã¦ã€æ–°ã—ã„å…ˆé ­ \[4] ã‚’è¿”ã™

---

## ğŸ¯ ã¾ã¨ã‚å›³ (k=2 ã®å ´åˆ)

æœ€åˆ:

```
1 â†’ 2 â†’ 3 â†’ 4 â†’ 5 â†’ None
```

ç’°çŠ¶åŒ–:

```
1 â†’ 2 â†’ 3 â†’ 4 â†’ 5
â†‘                â†“
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

æ–°ã—ã„æœ«å°¾ & å…ˆé ­ã‚’æ±ºå®š:

```
(æ–°æœ«å°¾) 3 â†’ 4 (æ–°å…ˆé ­) â†’ 5 â†’ 1 â†’ 2
â†‘                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

æœ€çµ‚çµæœ:

```
4 â†’ 5 â†’ 1 â†’ 2 â†’ 3 â†’ None
```

---

ğŸ‘‰ ã“ã‚Œã§ **rotateRight ãŒã©ã®ã‚ˆã†ã«å‹•ä½œã—ã¦ã„ã‚‹ã‹**ã€
å„å‡¦ç†ã®æµã‚ŒãŒå›³ã§ç›´æ„Ÿçš„ã«ç†è§£ã§ãã‚‹ã¨æ€ã„ã¾ã™ã€‚

---
