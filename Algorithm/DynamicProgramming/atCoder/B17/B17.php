<!-- ä»¥ä¸‹ã¯ã€**PHP 8.2.8** ã§ã®ã€Œã‚«ã‚¨ãƒ«ã®æœ€å°ã‚³ã‚¹ãƒˆç§»å‹•çµŒè·¯ã€å•é¡Œã®è§£æ³•ã§ã™ã€‚

* **åž‹ã‚¢ãƒŽãƒ†ãƒ¼ã‚·ãƒ§ãƒ³å¯¾å¿œ**ï¼ˆPHP 8.2 æº–æ‹ ï¼‰
* **å‡¦ç†æ™‚é–“ O(N)**ã€**ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ O(N)** ã«æŠ‘ãˆãŸå‹•çš„è¨ˆç”»æ³•ï¼ˆDPï¼‰
* **æ¨™æº–å…¥åŠ›ï¼ˆSTDINï¼‰å¯¾å¿œ**
* å®Ÿè¡Œåˆ¶é™ï¼š**æ™‚é–“ 1ç§’ä»¥å†…ã€ãƒ¡ãƒ¢ãƒª 1024MiBä»¥ä¸‹**

---

## âœ… PHP å®Ÿè£…ï¼ˆ`Main.php`ï¼‰

```php -->
<?php

declare(strict_types=1);

function main(): void {
    $input = trim(stream_get_contents(STDIN));
    $lines = explode("\n", $input);
    
    $N = intval($lines[0]);
    $h = array_map('intval', preg_split('/\s+/', $lines[1]));

    /** @var int[] $dp æœ€å°ã‚³ã‚¹ãƒˆé…åˆ— */
    $dp = array_fill(0, $N, INF);
    /** @var int[] $prev çµŒè·¯å¾©å…ƒç”¨é…åˆ— */
    $prev = array_fill(0, $N, -1);

    $dp[0] = 0;

    for ($i = 1; $i < $N; $i++) {
        $cost1 = $dp[$i - 1] + abs($h[$i] - $h[$i - 1]);
        if ($cost1 < $dp[$i]) {
            $dp[$i] = $cost1;
            $prev[$i] = $i - 1;
        }

        if ($i > 1) {
            $cost2 = $dp[$i - 2] + abs($h[$i] - $h[$i - 2]);
            if ($cost2 < $dp[$i]) {
                $dp[$i] = $cost2;
                $prev[$i] = $i - 2;
            }
        }
    }

    /** @var int[] $path çµŒè·¯å¾©å…ƒ */
    $path = [];
    $current = $N - 1;
    while ($current !== -1) {
        $path[] = $current + 1; // 1-indexed
        $current = $prev[$current];
    }

    $path = array_reverse($path);

    echo count($path) . "\n";
    echo implode(' ', $path) . "\n";
}

main();
// ```

// ---

// ## â±ï¸ è¨ˆç®—é‡ãƒ»ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡

// | é …ç›®     | å†…å®¹                    |
// | ------ | --------------------- |
// | æ™‚é–“è¨ˆç®—é‡  | O(N)                  |
// | ç©ºé–“è¨ˆç®—é‡  | O(N)                  |
// | ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ | ç´„ 1MBï¼ˆN â‰¦ 100000 ã®å ´åˆï¼‰ |

// ---

// ## ðŸ“¥ å…¥åŠ›ä¾‹

// ```
// 6
// 30 10 60 10 60 50
// ```

// ---

// ## ðŸ“¤ å‡ºåŠ›ä¾‹

// ```
// 4
// 1 3 5 6
// ```

// ---

// ## âœ… å®Ÿè¡Œæ–¹æ³•

// ```bash
// php Main.php < input.txt
// ```

// ---

// ## ðŸ’¡ è£œè¶³

// * `dp[i]` ã¯ i ç•ªç›®ã®è¶³å ´ã«ãŸã©ã‚Šç€ãã¾ã§ã®æœ€å°ã‚³ã‚¹ãƒˆ
// * `prev[i]` ã¯ã©ã®è¶³å ´ã‹ã‚‰æ¥ãŸã‹ï¼ˆçµŒè·¯å¾©å…ƒç”¨ï¼‰
// * çµŒè·¯ã¯é€†é †ã«ãŸã©ã£ã¦ã‹ã‚‰ `array_reverse()` ã§æ­£é †ã«æˆ»ã™

// ---