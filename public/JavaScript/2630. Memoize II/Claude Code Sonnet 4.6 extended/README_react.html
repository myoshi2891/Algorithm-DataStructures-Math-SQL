<!doctype html>
<html lang="ja">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>LeetCode 2623 - Memoize | ãƒã‚¹ãƒˆMap ãƒˆãƒ©ã‚¤æ§‹é€ </title>
        <script src="/vendor/react/react.development.js"></script>
        <script src="/vendor/react-dom/react-dom.development.js"></script>
        <script src="/vendor/babel/babel.min.js"></script>
        <script src="/vendor/tailwindcss/script.js"></script>
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link
            href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;600&family=Syne:wght@700;800&family=DM+Sans:wght@400;500;600&display=swap"
            rel="stylesheet"
        />
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css"
        />
        <link
            rel="stylesheet"
            href="/vendor/prismjs/plugins/line-numbers/prism-line-numbers.css"
        />
        <link
            rel="stylesheet"
            href="/vendor/prismjs/plugins/toolbar/prism-toolbar.css"
        />
        <style>
            html {
                scroll-behavior: smooth;
            }
            body {
                font-family: 'DM Sans', sans-serif;
            }
            h1,
            h2,
            h3 {
                font-family: 'Syne', sans-serif;
            }
            code,
            pre,
            .mono {
                font-family: 'IBM Plex Mono', monospace;
            }
            .code-toolbar > .toolbar {
                position: absolute;
                top: 0.5rem;
                right: 0.5rem;
                opacity: 0;
                transition: opacity 0.3s ease-in-out;
            }
            .code-toolbar:hover > .toolbar {
                opacity: 1;
            }
            .code-toolbar > .toolbar .toolbar-item button,
            .code-toolbar > .toolbar .toolbar-item .copy-to-clipboard-button {
                background: #10b981;
                color: white;
                border-radius: 6px;
                padding: 0.5rem 1rem;
                margin-right: 0.5rem;
                margin-top: 0.5rem;
                font-size: 1rem;
                border: none;
                cursor: pointer;
                box-shadow: none;
                transition: background 0.2s;
            }
            .code-toolbar > .toolbar .toolbar-item button:hover,
            .code-toolbar > .toolbar .toolbar-item .copy-to-clipboard-button:hover {
                background: #059669;
                color: white;
            }
            div.code-toolbar {
                position: relative;
            }
            /* Trie node animation */
            @keyframes nodeAppear {
                from {
                    opacity: 0;
                    transform: scale(0.5);
                }
                to {
                    opacity: 1;
                    transform: scale(1);
                }
            }
            .node-appear {
                animation: nodeAppear 0.35s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
            }
            @keyframes hitPulse {
                0%,
                100% {
                    filter: drop-shadow(0 0 0px #10b981);
                }
                50% {
                    filter: drop-shadow(0 0 12px #10b981);
                }
            }
            .hit-pulse {
                animation: hitPulse 0.8s ease-in-out 2;
            }
        </style>
    </head>
    <body class="bg-[linear-gradient(135deg,#f0fdf4_0%,#e0f2fe_100%)] min-h-screen">
        <div class="max-w-6xl mx-auto px-4 py-8">
            <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
            <header
                id="header"
                class="mb-10 rounded-3xl p-10 shadow-[0_10px_40px_rgba(16,185,129,0.13)] bg-[linear-gradient(135deg,#d1fae5,#bfdbfe)]"
            >
                <div class="flex items-center gap-3 mb-2">
                    <span
                        class="bg-emerald-600 text-white text-xs font-bold px-3 py-1 rounded-full mono"
                        >LeetCode #2623</span
                    >
                    <span class="bg-sky-500 text-white text-xs font-bold px-3 py-1 rounded-full"
                        >Medium</span
                    >
                </div>
                <h1 class="text-5xl font-extrabold text-teal-900 mb-2 leading-tight">Memoize</h1>
                <p class="text-xl text-cyan-700 font-semibold mt-2">
                    ãƒã‚¹ãƒˆ Map ãƒˆãƒ©ã‚¤æ§‹é€  ã«ã‚ˆã‚‹
                    <span class="mono bg-white/60 px-2 py-0.5 rounded text-emerald-800">O(k)</span>
                    ã‚­ãƒ£ãƒƒã‚·ãƒ¥å®Ÿè£…
                </p>
                <nav class="flex flex-wrap gap-3 mt-7" aria-label="ã‚»ã‚¯ã‚·ãƒ§ãƒ³ãƒŠãƒ“">
                    {["æ¦‚è¦","è§£èª¬","ã‚³ãƒ¼ãƒ‰","ãƒ•ãƒ­ãƒ¼","è¨ˆç®—é‡"].map((label, i) => { const ids =
                    ["overview","steps","code","diagram","complexity"]; return `<a
                        href="#${ids[i]}"
                        class="inline-block px-5 py-2 font-semibold text-slate-700 no-underline rounded-xl border-2 border-slate-200 bg-white/80 transition-all hover:shadow-[0_8px_20px_rgba(15,118,110,0.20)] hover:-translate-y-0.5 hover:bg-[linear-gradient(180deg,#e8fff6,#c8f1e1)] hover:border-teal-600"
                        >${label}</a
                    >`; }).join("")}
                </nav>
            </header>

            <!-- æ¦‚è¦ -->
            <section
                id="overview"
                class="bg-white rounded-3xl p-8 mb-8 shadow-[0_4px_24px_rgba(0,0,0,0.07)]"
            >
                <h2
                    class="text-3xl font-extrabold text-cyan-700 mb-4 pb-2 border-b-4 border-emerald-200"
                >
                    ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ æ¦‚è¦
                </h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div>
                        <h3 class="text-lg font-bold text-teal-800 mb-3">ğŸ“‹ å•é¡Œã®è¦ä»¶</h3>
                        <p class="text-slate-600 leading-7 mb-4">
                            ä»»æ„ã®é–¢æ•°
                            <code class="bg-slate-100 px-1.5 py-0.5 rounded text-emerald-800"
                                >fn</code
                            >
                            ã‚’å—ã‘å–ã‚Šã€
                            <strong
                                >åŒã˜å¼•æ•°åˆ—ã‚’2å›æ¸¡ã—ãŸéš›ã« fn
                                ã‚’å†å®Ÿè¡Œã›ãšã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‹ã‚‰çµæœã‚’è¿”ã™</strong
                            >
                            ãƒ©ãƒƒãƒ‘ãƒ¼é–¢æ•°ã‚’ç”Ÿæˆã—ã¾ã™ã€‚
                        </p>
                        <ul class="space-y-2 text-sm text-slate-600">
                            <li class="flex gap-2">
                                <span class="text-emerald-500 font-bold">âœ“</span> åŒä¸€æ€§åˆ¤å®šã¯
                                <code class="bg-slate-100 px-1 rounded">===</code>ï¼ˆå‚ç…§åŒä¸€æ€§ï¼‰
                            </li>
                            <li class="flex gap-2">
                                <span class="text-emerald-500 font-bold">âœ“</span>
                                å¼•æ•°ã¯ä»»æ„ã®å‹ãƒ»å€‹æ•°ï¼ˆ0å€‹ã‚‚å«ã‚€ï¼‰
                            </li>
                            <li class="flex gap-2">
                                <span class="text-emerald-500 font-bold">âœ“</span> fn ãŒ
                                <code class="bg-slate-100 px-1 rounded">undefined</code>
                                ã‚’è¿”ã™ã‚±ãƒ¼ã‚¹ã‚‚æ­£ã—ãã‚­ãƒ£ãƒƒã‚·ãƒ¥
                            </li>
                            <li class="flex gap-2">
                                <span class="text-red-400 font-bold">âœ—</span>
                                <code class="bg-slate-100 px-1 rounded">JSON.stringify</code>
                                ã‚­ãƒ¼åŒ–ã¯ä¸å¯ï¼ˆå‚ç…§åŒä¸€æ€§ãŒå¤±ã‚ã‚Œã‚‹ï¼‰
                            </li>
                        </ul>
                    </div>
                    <div>
                        <h3 class="text-lg font-bold text-teal-800 mb-3">ğŸ§  è§£æ³•ã®æ ¸å¿ƒ</h3>
                        <div class="bg-slate-50 rounded-2xl p-4 space-y-3 text-sm text-slate-700">
                            <div class="flex gap-3 items-start">
                                <span
                                    class="bg-emerald-100 text-emerald-700 font-bold px-2 py-0.5 rounded text-xs mono shrink-0"
                                    >MAP</span
                                >
                                <span
                                    >å¼•æ•°ã‚’1ã¤ãšã¤
                                    <strong>Map ã®ã‚­ãƒ¼</strong> ã¨ã—ã¦è¾¿ã‚‹ãƒˆãƒ©ã‚¤æœ¨ã‚’æ§‹ç¯‰</span
                                >
                            </div>
                            <div class="flex gap-3 items-start">
                                <span
                                    class="bg-sky-100 text-sky-700 font-bold px-2 py-0.5 rounded text-xs mono shrink-0"
                                    >SYM</span
                                >
                                <span
                                    ><strong>Symbol ã‚­ãƒ¼</strong> ã§çµæœã‚’æ ¼ç´ã€‚<code
                                        class="bg-slate-200 px-1 rounded"
                                        >undefined</code
                                    >
                                    æˆ»ã‚Šå€¤ã‚‚
                                    <code class="bg-slate-200 px-1 rounded">has()</code>
                                    ã§æ­£ç¢ºã«åˆ¤å®š</span
                                >
                            </div>
                            <div class="flex gap-3 items-start">
                                <span
                                    class="bg-purple-100 text-purple-700 font-bold px-2 py-0.5 rounded text-xs mono shrink-0"
                                    >OBJ</span
                                >
                                <span
                                    >TrieNode ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆä¸è¦ã€‚<strong>Map è‡ªä½“ãŒãƒãƒ¼ãƒ‰</strong> â†’
                                    ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆç”Ÿæˆã‚³ã‚¹ãƒˆå‰Šæ¸›</span
                                >
                            </div>
                        </div>
                        <div class="mt-4 bg-[#1e293b] rounded-xl p-3 mono text-xs text-green-300">
                            <div class="text-slate-400 mb-1">// ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ§‹é€ ã®ã‚¤ãƒ¡ãƒ¼ã‚¸</div>
                            <div>
                                root â†’ Map[arg0] â†’ Map[arg1] â†’
                                <span class="text-yellow-300">Map[RESULT] = value</span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- ã‚¹ãƒ†ãƒƒãƒ—ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ– -->
            <section
                id="steps"
                class="bg-white rounded-3xl p-8 mb-8 shadow-[0_4px_24px_rgba(0,0,0,0.07)]"
            >
                <h2
                    class="text-3xl font-extrabold text-cyan-700 mb-4 pb-2 border-b-4 border-emerald-200"
                >
                    ã‚¹ãƒ†ãƒƒãƒ—ãƒã‚¤ã‚¹ãƒ†ãƒƒãƒ—è§£èª¬
                </h2>
                <div id="react-steps"></div>
            </section>

            <!-- ã‚³ãƒ¼ãƒ‰ -->
            <section
                id="code"
                class="bg-white rounded-3xl p-8 mb-8 shadow-[0_4px_24px_rgba(0,0,0,0.07)]"
            >
                <h2
                    class="text-3xl font-extrabold text-cyan-700 mb-4 pb-2 border-b-4 border-emerald-200"
                >
                    TypeScript å®Ÿè£…
                </h2>
                <p class="text-slate-500 text-sm mb-4">
                    æ”¹å–„ç‰ˆï¼šTrieNode ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’å»ƒæ­¢ã— Map è‡ªä½“ã‚’ãƒãƒ¼ãƒ‰ã¨ã—ã¦ä½¿ç”¨
                </p>
                <pre
                    class="line-numbers rounded-xl overflow-auto"
                ><code class="language-typescript">type Fn = (...params: any) => any;

function memoize(fn: Fn): Fn {
    // Symbol ã‚’ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£å†…ã«é–‰ã˜è¾¼ã‚ã€å¤–éƒ¨ã‚¢ã‚¯ã‚»ã‚¹ã‚’é˜²æ­¢
    // ã„ã‹ãªã‚‹å¼•æ•°å€¤ã¨ã‚‚è¡çªã—ãªã„ã“ã¨ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ãƒ»å®Ÿè¡Œæ™‚ä¸¡æ–¹ã§ä¿è¨¼
    const RESULT = Symbol('result');

    // ãƒãƒ¼ãƒ‰ = Map è‡ªä½“ï¼ˆTrieNodeã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆä¸è¦ï¼‰
    // å†å¸°å‹: æ¬¡ã®å¼•æ•°ã¸ã®çµŒè·¯ or çµæœå€¤ã‚’ä¿æŒ
    type CacheMap = Map&lt;unknown, CacheMap | unknown&gt;;

    const root: CacheMap = new Map();

    return function (...args: unknown[]): unknown {
        let node = root;

        // å„å¼•æ•°ã‚’é †ã«ãƒˆãƒ©ã‚¤ã‚’è¾¿ã‚‹
        // çµŒè·¯ãŒãªã‘ã‚Œã°æ–°è¦ Map ãƒãƒ¼ãƒ‰ã‚’ä½œæˆ
        for (const arg of args) {
            if (!node.has(arg)) {
                node.set(arg, new Map() as CacheMap);
            }
            // ç›´å‰ãƒ–ãƒ­ãƒƒã‚¯ã§ set æ¸ˆã¿ â†’ non-null assertion ã¯å®‰å…¨
            node = node.get(arg) as CacheMap;
        }

        // çµ‚ç«¯ãƒãƒ¼ãƒ‰ã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãŒã‚ã‚Œã°ãã‚Œã‚’è¿”ã™
        // â€» has() ã§åˆ¤å®š â†’ fn ãŒ undefined ã‚’è¿”ã™å ´åˆã‚‚æ­£ç¢ºã«å‹•ä½œ
        if (node.has(RESULT)) {
            return node.get(RESULT); // ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ’ãƒƒãƒˆ: fn ã‚’å‘¼ã°ãªã„
        }

        // ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒŸã‚¹: fn ã‚’å®Ÿè¡Œã—ã¦çµ‚ç«¯ãƒãƒ¼ãƒ‰ã«æ ¼ç´
        const result: unknown = fn(...args);
        node.set(RESULT, result);

        return result;
    };
}</code></pre>
            </section>

            <!-- ãƒ•ãƒ­ãƒ¼ãƒãƒ£ãƒ¼ãƒˆ -->
            <section
                id="diagram"
                class="bg-white rounded-3xl p-8 mb-8 shadow-[0_4px_24px_rgba(0,0,0,0.07)]"
            >
                <h2
                    class="text-3xl font-extrabold text-cyan-700 mb-4 pb-2 border-b-4 border-emerald-200"
                >
                    ãƒ•ãƒ­ãƒ¼ãƒãƒ£ãƒ¼ãƒˆ
                </h2>
                <div class="mt-5 overflow-x-auto flex justify-center">
                    <svg
                        viewBox="0 0 720 960"
                        style="max-width: 720px; width: 100%; height: auto"
                        role="img"
                        aria-label="Memoize flowchart"
                    >
                        <defs>
                            <marker
                                id="arrow"
                                markerWidth="10"
                                markerHeight="10"
                                refX="9"
                                refY="3"
                                orient="auto"
                                markerUnits="strokeWidth"
                            >
                                <path d="M0,0 L0,6 L9,3 z" fill="#64748b" />
                            </marker>
                            <marker
                                id="arrowGreen"
                                markerWidth="10"
                                markerHeight="10"
                                refX="9"
                                refY="3"
                                orient="auto"
                                markerUnits="strokeWidth"
                            >
                                <path d="M0,0 L0,6 L9,3 z" fill="#059669" />
                            </marker>
                            <marker
                                id="arrowRed"
                                markerWidth="10"
                                markerHeight="10"
                                refX="9"
                                refY="3"
                                orient="auto"
                                markerUnits="strokeWidth"
                            >
                                <path d="M0,0 L0,6 L9,3 z" fill="#dc2626" />
                            </marker>
                            <marker
                                id="arrowPurple"
                                markerWidth="10"
                                markerHeight="10"
                                refX="9"
                                refY="3"
                                orient="auto"
                                markerUnits="strokeWidth"
                            >
                                <path d="M0,0 L0,6 L9,3 z" fill="#a855f7" />
                            </marker>
                        </defs>

                        <!--
          åº§æ¨™è¨­è¨ˆï¼ˆãƒªãƒ‡ã‚¶ã‚¤ãƒ³ï¼‰:
            ãƒ¡ã‚¤ãƒ³ç¸¦åˆ—   cx=220  ï¼ˆå·¦å¯„ã›ï¼‰
            å³ãƒ–ãƒ©ãƒ³ãƒ   cx=520  (HasCheck, Create, Advance)
            ç´«ãƒ«ãƒ¼ãƒ—ãƒãƒƒã‚¯  x=660  ï¼ˆå³ç«¯å¤–å´ï¼‰
            ç·‘ãƒã‚¤ãƒ‘ã‚¹      x=690  ï¼ˆã•ã‚‰ã«å³å¤–å´ï¼‰
            å·¦(CacheHit)    cx=60
        -->

                        <!-- â‘  é–‹å§‹ -->
                        <circle cx="178" cy="48" r="14" fill="#10b981" />
                        <text
                            x="178"
                            y="48"
                            text-anchor="middle"
                            dominant-baseline="middle"
                            font-size="11"
                            font-weight="700"
                            fill="white"
                        >
                            â‘ 
                        </text>
                        <ellipse
                            cx="220"
                            cy="48"
                            rx="120"
                            ry="28"
                            fill="#d1fae5"
                            stroke="#10b981"
                            stroke-width="2.5"
                        />
                        <text
                            x="230"
                            y="48"
                            text-anchor="middle"
                            dominant-baseline="middle"
                            font-size="16"
                            font-family="Syne,sans-serif"
                            font-weight="700"
                            fill="#065f46"
                        >
                            é–‹å§‹: fn å‘¼ã³å‡ºã—
                        </text>

                        <path
                            d="M 220 76 L 220 102"
                            stroke="#64748b"
                            stroke-width="2"
                            fill="none"
                            marker-end="url(#arrow)"
                        />

                        <!-- â‘¡ node = root -->
                        <circle cx="88" cy="110" r="14" fill="#0284c7" />
                        <text
                            x="88"
                            y="110"
                            text-anchor="middle"
                            dominant-baseline="middle"
                            font-size="11"
                            font-weight="700"
                            fill="white"
                        >
                            â‘¡
                        </text>
                        <rect
                            x="100"
                            y="102"
                            width="280"
                            height="50"
                            rx="12"
                            fill="#e0f2fe"
                            stroke="#0284c7"
                            stroke-width="2"
                        />
                        <text
                            x="240"
                            y="120"
                            text-anchor="middle"
                            dominant-baseline="middle"
                            font-size="15"
                            font-family="DM Sans,sans-serif"
                            font-weight="600"
                            fill="#0c4a6e"
                        >
                            node = root
                        </text>
                        <text
                            x="240"
                            y="139"
                            text-anchor="middle"
                            dominant-baseline="middle"
                            font-size="13"
                            font-family="IBM Plex Mono,monospace"
                            fill="#0369a1"
                        >
                            args ã‚’å…ˆé ­ã‹ã‚‰é †ã«å‡¦ç†
                        </text>

                        <path
                            d="M 220 152 L 220 180"
                            stroke="#64748b"
                            stroke-width="2"
                            fill="none"
                            marker-end="url(#arrow)"
                        />

                        <!-- â‘¢ ArgLoop diamond  center(220,225)  spread: hÂ±120, vÂ±45 -->
                        <circle cx="86" cy="188" r="14" fill="#f59e0b" />
                        <text
                            x="86"
                            y="188"
                            text-anchor="middle"
                            dominant-baseline="middle"
                            font-size="11"
                            font-weight="700"
                            fill="white"
                        >
                            â‘¢
                        </text>
                        <polygon
                            points="220,182 350,225 220,268 90,225"
                            fill="#fef3c7"
                            stroke="#f59e0b"
                            stroke-width="2.5"
                        />
                        <text
                            x="220"
                            y="220"
                            text-anchor="middle"
                            dominant-baseline="middle"
                            font-size="15"
                            font-family="DM Sans,sans-serif"
                            font-weight="700"
                            fill="#78350f"
                        >
                            æ¬¡ã® arg ã‚ã‚Š?
                        </text>

                        <!-- â‘¢â†’å³ã€Œã¯ã„ã€: ArgLoopå³ç«¯(350,225) â†’ HasCheck -->
                        <path
                            d="M 350 225 L 440 225"
                            stroke="#059669"
                            stroke-width="2.5"
                            fill="none"
                            marker-end="url(#arrowGreen)"
                        />
                        <text
                            x="395"
                            y="213"
                            text-anchor="middle"
                            font-size="14"
                            font-family="DM Sans,sans-serif"
                            font-weight="700"
                            fill="#059669"
                        >
                            ã¯ã„
                        </text>

                        <!-- â‘£ HasCheck diamond  center(520,225)  spread: hÂ±75, vÂ±35 -->
                        <circle cx="433" cy="195" r="14" fill="#0284c7" />
                        <text
                            x="433"
                            y="195"
                            text-anchor="middle"
                            dominant-baseline="middle"
                            font-size="11"
                            font-weight="700"
                            fill="white"
                        >
                            â‘£
                        </text>
                        <polygon
                            points="520,190 595,225 520,260 445,225"
                            fill="#e0f2fe"
                            stroke="#0284c7"
                            stroke-width="2.5"
                        />
                        <text
                            x="520"
                            y="219"
                            text-anchor="middle"
                            dominant-baseline="middle"
                            font-size="14"
                            font-family="DM Sans,sans-serif"
                            font-weight="600"
                            fill="#0c4a6e"
                        >
                            node.has
                        </text>
                        <text
                            x="520"
                            y="237"
                            text-anchor="middle"
                            dominant-baseline="middle"
                            font-size="13"
                            font-family="IBM Plex Mono,monospace"
                            fill="#0369a1"
                        >
                            (arg)?
                        </text>

                        <!-- â‘£â†“ã€Œã„ã„ãˆã€â†’ Create -->
                        <path
                            d="M 520 260 L 520 300"
                            stroke="#dc2626"
                            stroke-width="2"
                            fill="none"
                            marker-end="url(#arrowRed)"
                        />
                        <text
                            x="540"
                            y="284"
                            font-size="14"
                            font-family="DM Sans,sans-serif"
                            font-weight="700"
                            fill="#dc2626"
                        >
                            ã„ã„ãˆ
                        </text>

                        <!-- â‘¤ æ–°è¦ Map ã‚’ä½œæˆ -->
                        <circle cx="408" cy="310" r="14" fill="#dc2626" />
                        <text
                            x="408"
                            y="310"
                            text-anchor="middle"
                            dominant-baseline="middle"
                            font-size="11"
                            font-weight="700"
                            fill="white"
                        >
                            â‘¤
                        </text>
                        <rect
                            x="418"
                            y="300"
                            width="210"
                            height="56"
                            rx="12"
                            fill="#fee2e2"
                            stroke="#dc2626"
                            stroke-width="2"
                        />
                        <text
                            x="523"
                            y="320"
                            text-anchor="middle"
                            dominant-baseline="middle"
                            font-size="14"
                            font-family="DM Sans,sans-serif"
                            font-weight="600"
                            fill="#991b1b"
                        >
                            æ–°è¦ Map ã‚’ä½œæˆ
                        </text>
                        <text
                            x="523"
                            y="340"
                            text-anchor="middle"
                            dominant-baseline="middle"
                            font-size="12"
                            font-family="IBM Plex Mono,monospace"
                            fill="#dc2626"
                        >
                            node.set(arg, new Map)
                        </text>

                        <!-- â‘¤â†’â‘¥ Advance -->
                        <path
                            d="M 520 356 L 520 390"
                            stroke="#64748b"
                            stroke-width="2"
                            fill="none"
                            marker-end="url(#arrow)"
                        />

                        <!-- â‘£â†’å³ã€Œã¯ã„ã€ãƒã‚¤ãƒ‘ã‚¹: HasCheckå³ç«¯â†’å¤§ããå³â†’ä¸‹â†’Advanceå³ç«¯ -->
                        <path
                            d="M 595 225 L 690 225 L 690 420 L 630 420"
                            stroke="#059669"
                            stroke-width="2"
                            stroke-dasharray="8,4"
                            fill="none"
                            marker-end="url(#arrowGreen)"
                        />
                        <text
                            x="680"
                            y="203"
                            font-size="14"
                            font-family="DM Sans,sans-serif"
                            font-weight="700"
                            fill="#059669"
                        >
                            ã¯ã„
                        </text>
                        <text
                            x="680"
                            y="220"
                            font-size="11"
                            font-family="DM Sans,sans-serif"
                            fill="#059669"
                        >
                            ï¼ˆæ—¢å­˜ï¼‰
                        </text>

                        <!-- â‘¥ node ã‚’é€²ã‚ã‚‹ -->
                        <circle cx="408" cy="400" r="14" fill="#64748b" />
                        <text
                            x="408"
                            y="400"
                            text-anchor="middle"
                            dominant-baseline="middle"
                            font-size="11"
                            font-weight="700"
                            fill="white"
                        >
                            â‘¥
                        </text>
                        <rect
                            x="418"
                            y="390"
                            width="210"
                            height="56"
                            rx="12"
                            fill="#f1f5f9"
                            stroke="#64748b"
                            stroke-width="2"
                        />
                        <text
                            x="523"
                            y="412"
                            text-anchor="middle"
                            dominant-baseline="middle"
                            font-size="14"
                            font-family="DM Sans,sans-serif"
                            font-weight="600"
                            fill="#334155"
                        >
                            node ã‚’é€²ã‚ã‚‹
                        </text>
                        <text
                            x="523"
                            y="432"
                            text-anchor="middle"
                            dominant-baseline="middle"
                            font-size="12"
                            font-family="IBM Plex Mono,monospace"
                            fill="#475569"
                        >
                            node = node.get(arg)
                        </text>

                        <!-- â‘¥â†’ArgLoop ç´«ãƒ«ãƒ¼ãƒ—ãƒãƒƒã‚¯: Advanceå·¦ç«¯â†’å·¦â†’ä¸Šâ†’ArgLoopå³ç«¯ -->
                        <path
                            d="M 418 420 L 380 420 L 380 225 L 350 225"
                            stroke="#a855f7"
                            stroke-width="2.5"
                            fill="none"
                            marker-end="url(#arrowPurple)"
                        />
                        <text
                            x="372"
                            y="320"
                            text-anchor="end"
                            font-size="13"
                            font-family="DM Sans,sans-serif"
                            font-weight="700"
                            fill="#a855f7"
                        >
                            æ¬¡ã®
                        </text>
                        <text
                            x="372"
                            y="338"
                            text-anchor="end"
                            font-size="13"
                            font-family="DM Sans,sans-serif"
                            font-weight="700"
                            fill="#a855f7"
                        >
                            arg ã¸
                        </text>
                        <text
                            x="372"
                            y="353"
                            text-anchor="end"
                            font-size="11"
                            font-family="DM Sans,sans-serif"
                            fill="#c084fc"
                        >
                            ï¼ˆãƒ«ãƒ¼ãƒ—ï¼‰
                        </text>

                        <!-- â‘¢â†“ã€Œã„ã„ãˆã€: args å…¨æ¶ˆè²» â†’ has(RESULT)? -->
                        <path
                            d="M 220 268 L 220 316"
                            stroke="#dc2626"
                            stroke-width="2"
                            fill="none"
                            marker-end="url(#arrowRed)"
                        />
                        <text
                            x="234"
                            y="296"
                            font-size="14"
                            font-family="DM Sans,sans-serif"
                            font-weight="700"
                            fill="#dc2626"
                        >
                            ã„ã„ãˆ
                        </text>

                        <!-- â‘¦ has(RESULT)? diamond  center(220,365)  spread: hÂ±120, vÂ±45 -->
                        <circle cx="86" cy="325" r="14" fill="#f59e0b" />
                        <text
                            x="86"
                            y="325"
                            text-anchor="middle"
                            dominant-baseline="middle"
                            font-size="11"
                            font-weight="700"
                            fill="white"
                        >
                            â‘¦
                        </text>
                        <polygon
                            points="220,318 350,365 220,412 90,365"
                            fill="#fef3c7"
                            stroke="#f59e0b"
                            stroke-width="2.5"
                        />
                        <text
                            x="220"
                            y="356"
                            text-anchor="middle"
                            dominant-baseline="middle"
                            font-size="14"
                            font-family="IBM Plex Mono,monospace"
                            font-weight="700"
                            fill="#78350f"
                        >
                            has(RESULT)?
                        </text>
                        <text
                            x="220"
                            y="376"
                            text-anchor="middle"
                            dominant-baseline="middle"
                            font-size="12"
                            font-family="DM Sans,sans-serif"
                            fill="#92400e"
                        >
                            ã‚­ãƒ£ãƒƒã‚·ãƒ¥ç¢ºèª
                        </text>

                        <!-- â‘¦â†’å·¦ã€Œã¯ã„ã€: ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ’ãƒƒãƒˆã¸ -->
                        <path
                            d="M 90 365 L 40 365 L 40 470"
                            stroke="#059669"
                            stroke-width="2.5"
                            fill="none"
                            marker-end="url(#arrowGreen)"
                        />
                        <text
                            x="50"
                            y="348"
                            text-anchor="end"
                            font-size="14"
                            font-family="DM Sans,sans-serif"
                            font-weight="700"
                            fill="#059669"
                        >
                            ã¯ã„ âœ“
                        </text>

                        <!-- â‘§ ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ’ãƒƒãƒˆ -->
                        <circle cx="15" cy="460" r="14" fill="#10b981" />
                        <text
                            x="15"
                            y="460"
                            text-anchor="middle"
                            dominant-baseline="middle"
                            font-size="11"
                            font-weight="700"
                            fill="white"
                        >
                            â‘§
                        </text>
                        <rect
                            x="18"
                            y="470"
                            width="140"
                            height="56"
                            rx="12"
                            fill="#d1fae5"
                            stroke="#10b981"
                            stroke-width="2.5"
                        />
                        <text
                            x="88"
                            y="490"
                            text-anchor="middle"
                            dominant-baseline="middle"
                            font-size="15"
                            font-family="Syne,sans-serif"
                            font-weight="700"
                            fill="#065f46"
                        >
                            ã‚­ãƒ£ãƒƒã‚·ãƒ¥
                        </text>
                        <text
                            x="88"
                            y="510"
                            text-anchor="middle"
                            dominant-baseline="middle"
                            font-size="15"
                            font-family="Syne,sans-serif"
                            font-weight="700"
                            fill="#065f46"
                        >
                            ãƒ’ãƒƒãƒˆ! âš¡
                        </text>

                        <!-- â‘§â†’çµ‚äº†: CacheHitä¸‹â†’å·¦ã‚’é€šã£ã¦çµ‚äº†ãƒãƒ¼ãƒ‰ã¸ -->
                        <path
                            d="M 40 526 L 40 900 L 100 900"
                            stroke="#059669"
                            stroke-width="2"
                            fill="none"
                            marker-end="url(#arrowGreen)"
                        />

                        <!-- â‘¦â†“ã€Œã„ã„ãˆã€â†’ fnå®Ÿè¡Œ -->
                        <path
                            d="M 220 412 L 220 540"
                            stroke="#dc2626"
                            stroke-width="2"
                            fill="none"
                            marker-end="url(#arrowRed)"
                        />
                        <text
                            x="234"
                            y="480"
                            font-size="14"
                            font-family="DM Sans,sans-serif"
                            font-weight="700"
                            fill="#dc2626"
                        >
                            ã„ã„ãˆ
                        </text>

                        <!-- â‘¨ fn å®Ÿè¡Œï¼ˆã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒŸã‚¹ï¼‰ -->
                        <circle cx="75" cy="555" r="14" fill="#a855f7" />
                        <text
                            x="75"
                            y="555"
                            text-anchor="middle"
                            dominant-baseline="middle"
                            font-size="11"
                            font-weight="700"
                            fill="white"
                        >
                            â‘¨
                        </text>
                        <rect
                            x="85"
                            y="542"
                            width="300"
                            height="56"
                            rx="12"
                            fill="#fdf4ff"
                            stroke="#a855f7"
                            stroke-width="2"
                        />
                        <text
                            x="235"
                            y="562"
                            text-anchor="middle"
                            dominant-baseline="middle"
                            font-size="15"
                            font-family="DM Sans,sans-serif"
                            font-weight="700"
                            fill="#581c87"
                        >
                            fn(...args) ã‚’å®Ÿè¡Œ
                        </text>
                        <text
                            x="235"
                            y="582"
                            text-anchor="middle"
                            dominant-baseline="middle"
                            font-size="13"
                            font-family="DM Sans,sans-serif"
                            fill="#7e22ce"
                        >
                            ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒŸã‚¹: fn ã‚’å‘¼ã³å‡ºã™
                        </text>

                        <path
                            d="M 220 598 L 220 630"
                            stroke="#64748b"
                            stroke-width="2"
                            fill="none"
                            marker-end="url(#arrow)"
                        />

                        <!-- â‘© çµæœã‚’æ ¼ç´ -->
                        <circle cx="75" cy="645" r="14" fill="#64748b" />
                        <text
                            x="75"
                            y="645"
                            text-anchor="middle"
                            dominant-baseline="middle"
                            font-size="11"
                            font-weight="700"
                            fill="white"
                        >
                            â‘©
                        </text>
                        <rect
                            x="85"
                            y="632"
                            width="300"
                            height="56"
                            rx="12"
                            fill="#f1f5f9"
                            stroke="#64748b"
                            stroke-width="2"
                        />
                        <text
                            x="235"
                            y="652"
                            text-anchor="middle"
                            dominant-baseline="middle"
                            font-size="15"
                            font-family="DM Sans,sans-serif"
                            font-weight="600"
                            fill="#334155"
                        >
                            node.set(RESULT, result)
                        </text>
                        <text
                            x="235"
                            y="672"
                            text-anchor="middle"
                            dominant-baseline="middle"
                            font-size="13"
                            font-family="DM Sans,sans-serif"
                            fill="#475569"
                        >
                            çµ‚ç«¯ãƒãƒ¼ãƒ‰ã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ ¼ç´
                        </text>

                        <path
                            d="M 220 688 L 220 726"
                            stroke="#64748b"
                            stroke-width="2"
                            fill="none"
                            marker-end="url(#arrow)"
                        />

                        <!-- â‘ª result ã‚’è¿”ã™ -->
                        <circle cx="75" cy="740" r="14" fill="#0284c7" />
                        <text
                            x="75"
                            y="740"
                            text-anchor="middle"
                            dominant-baseline="middle"
                            font-size="11"
                            font-weight="700"
                            fill="white"
                        >
                            â‘ª
                        </text>
                        <rect
                            x="85"
                            y="728"
                            width="300"
                            height="56"
                            rx="12"
                            fill="#e0f2fe"
                            stroke="#0284c7"
                            stroke-width="2"
                        />
                        <text
                            x="235"
                            y="748"
                            text-anchor="middle"
                            dominant-baseline="middle"
                            font-size="15"
                            font-family="DM Sans,sans-serif"
                            font-weight="600"
                            fill="#0c4a6e"
                        >
                            result ã‚’è¿”ã™
                        </text>
                        <text
                            x="235"
                            y="768"
                            text-anchor="middle"
                            dominant-baseline="middle"
                            font-size="13"
                            font-family="DM Sans,sans-serif"
                            fill="#0369a1"
                        >
                            æ¬¡å›åŒã˜å¼•æ•°ã¯ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‹ã‚‰
                        </text>

                        <path
                            d="M 220 784 L 220 870"
                            stroke="#64748b"
                            stroke-width="2"
                            fill="none"
                            marker-end="url(#arrow)"
                        />

                        <!-- â‘« çµ‚äº† -->
                        <circle cx="78" cy="880" r="14" fill="#10b981" />
                        <text
                            x="78"
                            y="880"
                            text-anchor="middle"
                            dominant-baseline="middle"
                            font-size="11"
                            font-weight="700"
                            fill="white"
                        >
                            â‘«
                        </text>
                        <ellipse
                            cx="220"
                            cy="900"
                            rx="120"
                            ry="28"
                            fill="#d1fae5"
                            stroke="#10b981"
                            stroke-width="2.5"
                        />
                        <text
                            x="230"
                            y="900"
                            text-anchor="middle"
                            dominant-baseline="middle"
                            font-size="16"
                            font-family="Syne,sans-serif"
                            font-weight="700"
                            fill="#065f46"
                        >
                            çµ‚äº†: å€¤ã‚’è¿”ã™
                        </text>

                        <!-- å‡¡ä¾‹ -->
                        <rect
                            x="418"
                            y="520"
                            width="280"
                            height="160"
                            rx="14"
                            fill="#f8fafc"
                            stroke="#e2e8f0"
                            stroke-width="1.5"
                        />
                        <text
                            x="440"
                            y="542"
                            font-size="13"
                            font-family="DM Sans,sans-serif"
                            font-weight="700"
                            fill="#334155"
                        >
                            ğŸ—‚ å‡¡ä¾‹
                        </text>
                        <line
                            x1="440"
                            y1="560"
                            x2="480"
                            y2="560"
                            stroke="#059669"
                            stroke-width="2.5"
                        />
                        <text
                            x="490"
                            y="564"
                            font-size="12"
                            font-family="DM Sans,sans-serif"
                            fill="#059669"
                        >
                            ã¯ã„ / ã‚­ãƒ£ãƒƒã‚·ãƒ¥HIT
                        </text>
                        <line
                            x1="440"
                            y1="584"
                            x2="480"
                            y2="584"
                            stroke="#dc2626"
                            stroke-width="2.5"
                        />
                        <text
                            x="490"
                            y="588"
                            font-size="12"
                            font-family="DM Sans,sans-serif"
                            fill="#dc2626"
                        >
                            ã„ã„ãˆ / ã‚­ãƒ£ãƒƒã‚·ãƒ¥MISS
                        </text>
                        <line
                            x1="440"
                            y1="608"
                            x2="480"
                            y2="608"
                            stroke="#a855f7"
                            stroke-width="2.5"
                        />
                        <text
                            x="490"
                            y="612"
                            font-size="12"
                            font-family="DM Sans,sans-serif"
                            fill="#a855f7"
                        >
                            ãƒ«ãƒ¼ãƒ—ãƒãƒƒã‚¯
                        </text>
                        <line
                            x1="440"
                            y1="632"
                            x2="480"
                            y2="632"
                            stroke="#059669"
                            stroke-width="2"
                            stroke-dasharray="8,4"
                        />
                        <text
                            x="490"
                            y="636"
                            font-size="12"
                            font-family="DM Sans,sans-serif"
                            fill="#059669"
                        >
                            ãƒã‚¤ãƒ‘ã‚¹ï¼ˆæ—¢å­˜ãƒãƒ¼ãƒ‰ï¼‰
                        </text>
                        <line
                            x1="440"
                            y1="656"
                            x2="480"
                            y2="656"
                            stroke="#64748b"
                            stroke-width="2"
                        />
                        <text
                            x="490"
                            y="660"
                            font-size="12"
                            font-family="DM Sans,sans-serif"
                            fill="#64748b"
                        >
                            é€šå¸¸ã®å‡¦ç†ãƒ•ãƒ­ãƒ¼
                        </text>
                    </svg>
                </div>
                <div class="mt-6 bg-slate-50 rounded-2xl p-5 text-sm text-slate-600 leading-7">
                    <strong class="text-slate-800 text-base">ãƒ•ãƒ­ãƒ¼ã®èª¬æ˜ï¼š</strong><br />
                    1. ãƒ©ãƒƒãƒ‘ãƒ¼é–¢æ•°ãŒå‘¼ã°ã‚Œã‚‹ã¨ã€<code class="bg-slate-200 px-1 rounded">root</code>
                    ã‹ã‚‰å¼•æ•°ã‚’1ã¤ãšã¤ Map ã§ãŸã©ã‚‹<br />
                    2. çµŒè·¯ä¸Šã®ãƒãƒ¼ãƒ‰ãŒå­˜åœ¨ã—ãªã‘ã‚Œã°æ–°è¦ Map ã‚’ä½œæˆã—ã€ç¾åœ¨ãƒãƒ¼ãƒ‰ã‚’æ›´æ–°ã™ã‚‹ï¼ˆ<span
                        class="text-purple-600 font-semibold"
                        >ç´«ãƒ«ãƒ¼ãƒ—</span
                    >ï¼‰<br />
                    3. å…¨å¼•æ•°ã‚’æ¶ˆè²»ã—ãŸçµ‚ç«¯ãƒãƒ¼ãƒ‰ã§
                    <code class="bg-slate-200 px-1 rounded">has(RESULT)</code> ã‚’ãƒã‚§ãƒƒã‚¯<br />
                    4. <span class="text-emerald-600 font-semibold">ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ’ãƒƒãƒˆ</span>ï¼ˆ<span
                        class="text-emerald-600"
                        >ç·‘</span
                    >ï¼‰ãªã‚‰å³åº§ã«è¿”ã™ã€‚<span class="text-red-500 font-semibold">ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒŸã‚¹</span
                    >ï¼ˆ<span class="text-red-500">èµ¤</span>ï¼‰ãªã‚‰ fn ã‚’å®Ÿè¡Œã—ã¦æ ¼ç´
                </div>
            </section>

            <!-- è¨ˆç®—é‡ -->
            <section
                id="complexity"
                class="bg-white rounded-3xl p-8 mb-8 shadow-[0_4px_24px_rgba(0,0,0,0.07)]"
            >
                <h2
                    class="text-3xl font-extrabold text-cyan-700 mb-6 pb-2 border-b-4 border-emerald-200"
                >
                    è¨ˆç®—é‡åˆ†æ
                </h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                    <div
                        class="bg-emerald-50 border-2 border-emerald-200 rounded-2xl p-6 text-center"
                    >
                        <div
                            class="text-slate-500 text-sm font-semibold mb-2 uppercase tracking-wide"
                        >
                            æ™‚é–“è¨ˆç®—é‡ï¼ˆ1å›ã®å‘¼ã³å‡ºã—ï¼‰
                        </div>
                        <div class="text-5xl font-extrabold text-emerald-700 mono mb-2">O(k)</div>
                        <div class="text-slate-500 text-sm">k = å¼•æ•°ã®å€‹æ•°ã€‚å„ Map æ“ä½œã¯ O(1)</div>
                    </div>
                    <div class="bg-sky-50 border-2 border-sky-200 rounded-2xl p-6 text-center">
                        <div
                            class="text-slate-500 text-sm font-semibold mb-2 uppercase tracking-wide"
                        >
                            ç©ºé–“è¨ˆç®—é‡ï¼ˆå…¨ä½“ï¼‰
                        </div>
                        <div class="text-5xl font-extrabold text-sky-700 mono mb-2">O(nÂ·k)</div>
                        <div class="text-slate-500 text-sm">
                            n = ãƒ¦ãƒ‹ãƒ¼ã‚¯å‘¼ã³å‡ºã—æ•°ã€k = å¼•æ•°ã®å€‹æ•°
                        </div>
                    </div>
                </div>
                <h3 class="text-lg font-bold text-teal-800 mb-4">
                    æ—§å®Ÿè£… vs æ–°å®Ÿè£…ï¼ˆMap ãƒãƒ¼ãƒ‰åŒ–ï¼‰ã®æ¯”è¼ƒ
                </h3>
                <div class="overflow-x-auto">
                    <table class="w-full text-sm border-collapse">
                        <thead>
                            <tr class="bg-slate-100">
                                <th
                                    class="p-3 text-left font-bold text-slate-700 border border-slate-200 rounded-tl-lg"
                                >
                                    æ¯”è¼ƒé …ç›®
                                </th>
                                <th
                                    class="p-3 text-center font-bold text-slate-500 border border-slate-200"
                                >
                                    æ—§å®Ÿè£…ï¼ˆTrieNode objï¼‰
                                </th>
                                <th
                                    class="p-3 text-center font-bold text-emerald-700 border border-slate-200 rounded-tr-lg"
                                >
                                    æ–°å®Ÿè£…ï¼ˆMap ç›´æ¥ï¼‰
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="hover:bg-slate-50">
                                <td
                                    class="p-3 border border-slate-200 font-semibold text-slate-700"
                                >
                                    ãƒãƒ¼ãƒ‰æ§‹é€ 
                                </td>
                                <td
                                    class="p-3 border border-slate-200 text-center mono text-xs text-slate-500"
                                >
                                    &#123;children:Map, hasResult, result&#125;
                                </td>
                                <td
                                    class="p-3 border border-slate-200 text-center mono text-xs text-emerald-700 font-bold"
                                >
                                    Map ã®ã¿
                                </td>
                            </tr>
                            <tr class="hover:bg-slate-50 bg-slate-50/50">
                                <td
                                    class="p-3 border border-slate-200 font-semibold text-slate-700"
                                >
                                    ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆç”Ÿæˆ
                                </td>
                                <td class="p-3 border border-slate-200 text-center text-red-500">
                                    Object + Mapï¼ˆ2é‡ï¼‰
                                </td>
                                <td
                                    class="p-3 border border-slate-200 text-center text-emerald-600 font-bold"
                                >
                                    Map ã®ã¿
                                </td>
                            </tr>
                            <tr class="hover:bg-slate-50">
                                <td
                                    class="p-3 border border-slate-200 font-semibold text-slate-700"
                                >
                                    ã‚­ãƒ£ãƒƒã‚·ãƒ¥ç¢ºèª
                                </td>
                                <td
                                    class="p-3 border border-slate-200 text-center mono text-xs text-slate-500"
                                >
                                    node.hasResultï¼ˆbooleanï¼‰
                                </td>
                                <td
                                    class="p-3 border border-slate-200 text-center mono text-xs text-emerald-700 font-bold"
                                >
                                    map.has(RESULT)ï¼ˆSymbolï¼‰
                                </td>
                            </tr>
                            <tr class="hover:bg-slate-50 bg-slate-50/50">
                                <td
                                    class="p-3 border border-slate-200 font-semibold text-slate-700"
                                >
                                    undefined æˆ»ã‚Šå€¤
                                </td>
                                <td class="p-3 border border-slate-200 text-center text-amber-500">
                                    hasResult ãƒ•ãƒ©ã‚°ãŒå¿…è¦
                                </td>
                                <td
                                    class="p-3 border border-slate-200 text-center text-emerald-600 font-bold"
                                >
                                    has() ã§è‡ªç„¶ã«å¯¾å¿œ
                                </td>
                            </tr>
                            <tr class="hover:bg-slate-50">
                                <td
                                    class="p-3 border border-slate-200 font-semibold text-slate-700 rounded-bl-lg"
                                >
                                    V8 JIT è¦ªå’Œæ€§
                                </td>
                                <td class="p-3 border border-slate-200 text-center text-slate-500">
                                    Hidden Class æœ€é©åŒ–ãŒè¤‡é›‘
                                </td>
                                <td
                                    class="p-3 border border-slate-200 text-center text-emerald-600 font-bold rounded-br-lg"
                                >
                                    å‡ä¸€ãª Map å½¢çŠ¶ã§æœ€é©åŒ–ã—ã‚„ã™ã„
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>
        </div>

        <!-- React Step Visualization -->
        <script type="text/babel">
            const { useState, useEffect, useRef } = React;

            // ===== Step Data =====
            const stepsData = [
                {
                    step: 1,
                    title: 'memoize(fn) å‘¼ã³å‡ºã—',
                    desc: 'memoize ã« fn ã‚’æ¸¡ã™ã€‚å†…éƒ¨ã§ root Mapï¼ˆç©ºï¼‰ã¨ RESULT Symbol ãŒç”Ÿæˆã•ã‚Œã‚‹ã€‚ãƒ©ãƒƒãƒ‘ãƒ¼é–¢æ•°ã‚’è¿”ã™ã€‚',
                    visual: { type: 'init' },
                },
                {
                    step: 2,
                    title: '1å›ç›®: fn(2, 2) â†’ ãƒˆãƒ©ã‚¤ã‚’è¾¿ã‚‹',
                    desc: 'args = [2, 2]ã€‚root ã‹ã‚‰ arg=2 ã‚’æ¢ã™ã€‚ãƒãƒ¼ãƒ‰ãŒãªã„ã®ã§æ–°è¦ Map ã‚’ä½œæˆã— node ã‚’é€²ã‚ã‚‹ã€‚',
                    visual: { type: 'traverse', args: [2, 2], depth: 1, hit: false },
                },
                {
                    step: 3,
                    title: '1å›ç›®: å¼•æ•°2ã¤ç›®ã‚‚è¾¿ã‚‹',
                    desc: 'arg=2ï¼ˆ2å€‹ç›®ï¼‰ã€‚å‰ã‚¹ãƒ†ãƒƒãƒ—ã§ä½œã£ãŸ Map ã‹ã‚‰åŒæ§˜ã«æ–°è¦ Map ã‚’ä½œæˆã€‚ã“ã‚ŒãŒçµ‚ç«¯ãƒãƒ¼ãƒ‰ã€‚',
                    visual: { type: 'traverse', args: [2, 2], depth: 2, hit: false },
                },
                {
                    step: 4,
                    title: '1å›ç›®: ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒŸã‚¹ â†’ fnå®Ÿè¡Œ',
                    desc: 'çµ‚ç«¯ãƒãƒ¼ãƒ‰ã« RESULT ã‚·ãƒ³ãƒœãƒ«ãªã—ã€‚fn(2, 2) ã‚’å®Ÿè¡Œ â†’ çµæœ4ã€‚node.set(RESULT, 4) ã§æ ¼ç´ã€‚',
                    visual: { type: 'miss', args: [2, 2], result: 4 },
                },
                {
                    step: 5,
                    title: '2å›ç›®: fn(2, 2) â†’ åŒä¸€çµŒè·¯',
                    desc: 'args = [2, 2]ã€‚åŒã˜ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå‚ç…§ï¼ˆ===ï¼‰ãªã®ã§ãƒˆãƒ©ã‚¤ã®åŒä¸€çµŒè·¯ã‚’ãŸã©ã‚‹ã€‚',
                    visual: { type: 'traverse', args: [2, 2], depth: 2, hit: false, cached: true },
                },
                {
                    step: 6,
                    title: '2å›ç›®: ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ’ãƒƒãƒˆ!',
                    desc: 'çµ‚ç«¯ãƒãƒ¼ãƒ‰ã« has(RESULT) = trueã€‚fn ã‚’å‘¼ã°ãšã« 4 ã‚’ç›´æ¥è¿”ã™ã€‚callCount ã¯å¢—ãˆãªã„ã€‚',
                    visual: { type: 'hit', args: [2, 2], result: 4 },
                },
                {
                    step: 7,
                    title: '3å›ç›®: fn(1, 2) â†’ åˆ¥ã®çµŒè·¯',
                    desc: 'args = [1, 2]ã€‚arg=1 ã¯ root ã«å­˜åœ¨ã—ãªã„ã®ã§æ–°è¦ãƒãƒ¼ãƒ‰ã‚’ä½œæˆã€‚åˆ¥ã®ãƒˆãƒ©ã‚¤çµŒè·¯ã‚’æ§‹ç¯‰ã€‚',
                    visual: { type: 'miss', args: [1, 2], result: 3 },
                },
                {
                    step: 8,
                    title: 'å®Œæˆã—ãŸãƒˆãƒ©ã‚¤æ§‹é€ ',
                    desc: 'root ã‹ã‚‰2ã¤ã®çµŒè·¯: [2â†’2â†’4] ã¨ [1â†’2â†’3]ã€‚æ¬¡å› fn(2,2) ã‚„ fn(1,2) ã¯ã™ã¹ã¦ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‹ã‚‰è¿”ã‚‹ã€‚',
                    visual: { type: 'final' },
                },
            ];

            // ===== Trie SVG Visualization =====
            function TrieViz({ visual }) {
                const { type } = visual;

                // Common defs
                const Defs = () => (
                    <defs>
                        <marker
                            id="va"
                            markerWidth="8"
                            markerHeight="8"
                            refX="7"
                            refY="3"
                            orient="auto"
                            markerUnits="strokeWidth"
                        >
                            <path d="M0,0 L0,6 L8,3 z" fill="#64748b" />
                        </marker>
                        <marker
                            id="vg"
                            markerWidth="8"
                            markerHeight="8"
                            refX="7"
                            refY="3"
                            orient="auto"
                            markerUnits="strokeWidth"
                        >
                            <path d="M0,0 L0,6 L8,3 z" fill="#10b981" />
                        </marker>
                        <marker
                            id="vo"
                            markerWidth="8"
                            markerHeight="8"
                            refX="7"
                            refY="3"
                            orient="auto"
                            markerUnits="strokeWidth"
                        >
                            <path d="M0,0 L0,6 L8,3 z" fill="#f59e0b" />
                        </marker>
                        <marker
                            id="vr"
                            markerWidth="8"
                            markerHeight="8"
                            refX="7"
                            refY="3"
                            orient="auto"
                            markerUnits="strokeWidth"
                        >
                            <path d="M0,0 L0,6 L8,3 z" fill="#ef4444" />
                        </marker>
                    </defs>
                );

                // Node components
                const MapNode = ({
                    cx,
                    cy,
                    label,
                    sub,
                    color = '#e0f2fe',
                    stroke = '#0284c7',
                    textColor = '#0c4a6e',
                    className = '',
                }) => (
                    <g className={className}>
                        <rect
                            x={cx - 52}
                            y={cy - 22}
                            width="104"
                            height="44"
                            rx="10"
                            fill={color}
                            stroke={stroke}
                            strokeWidth="2"
                        />
                        <text
                            x={cx}
                            y={cy - 5}
                            textAnchor="middle"
                            dominantBaseline="middle"
                            fontSize="14"
                            fontFamily="IBM Plex Mono,monospace"
                            fontWeight="700"
                            fill={textColor}
                        >
                            {label}
                        </text>
                        {sub && (
                            <text
                                x={cx}
                                y={cy + 12}
                                textAnchor="middle"
                                dominantBaseline="middle"
                                fontSize="11"
                                fontFamily="DM Sans,sans-serif"
                                fill={textColor + 'aa'}
                            >
                                {sub}
                            </text>
                        )}
                    </g>
                );

                const Edge = ({ x1, y1, x2, y2, label, color = '#64748b', marker = 'va' }) => (
                    <g>
                        <path
                            d={`M ${x1} ${y1} L ${x2} ${y2}`}
                            stroke={color}
                            strokeWidth="2"
                            fill="none"
                            markerEnd={`url(#${marker})`}
                        />
                        {label && (
                            <text
                                x={(x1 + x2) / 2 + 8}
                                y={(y1 + y2) / 2 - 6}
                                fontSize="13"
                                fontFamily="DM Sans,sans-serif"
                                fontWeight="700"
                                fill={color}
                            >
                                {label}
                            </text>
                        )}
                    </g>
                );

                if (type === 'init') {
                    return (
                        <svg
                            viewBox="0 0 500 200"
                            style={{ width: '100%', maxWidth: '500px', height: 'auto' }}
                        >
                            <Defs />
                            <MapNode
                                cx={250}
                                cy={60}
                                label="root Map"
                                sub="ç©ºã® Map"
                                color="#f0fdf4"
                                stroke="#10b981"
                                textColor="#065f46"
                            />
                            <text
                                x={250}
                                y={120}
                                textAnchor="middle"
                                fontSize="14"
                                fontFamily="DM Sans,sans-serif"
                                fill="#64748b"
                            >
                                RESULT = Symbol('result')
                            </text>
                            <rect
                                x={120}
                                y={140}
                                width="260"
                                height="36"
                                rx="8"
                                fill="#fdf4ff"
                                stroke="#c084fc"
                                strokeWidth="2"
                            />
                            <text
                                x={250}
                                y={158}
                                textAnchor="middle"
                                dominantBaseline="middle"
                                fontSize="13"
                                fontFamily="IBM Plex Mono,monospace"
                                fill="#7e22ce"
                            >
                                Symbol('result') â†’ ãƒ¦ãƒ‹ãƒ¼ã‚¯ã‚­ãƒ¼
                            </text>
                        </svg>
                    );
                }

                if (type === 'traverse') {
                    const { args, depth, cached } = visual;
                    const active1 = depth >= 1;
                    const active2 = depth >= 2;
                    return (
                        <svg
                            viewBox="0 0 500 260"
                            style={{ width: '100%', maxWidth: '500px', height: 'auto' }}
                        >
                            <Defs />
                            <MapNode
                                cx={250}
                                cy={40}
                                label="root"
                                sub="Map"
                                color="#f0fdf4"
                                stroke="#10b981"
                                textColor="#065f46"
                            />
                            <Edge
                                x1={250}
                                y1={62}
                                x2={250}
                                y2={98}
                                label={`arg=${args[0]}`}
                                color={active1 ? '#f59e0b' : '#cbd5e1'}
                                marker={active1 ? 'vo' : 'va'}
                            />
                            <MapNode
                                cx={250}
                                cy={120}
                                label={`Map[${args[0]}]`}
                                sub={active1 ? 'ä½œæˆæ¸ˆã¿' : '?'}
                                color={active1 ? '#fef3c7' : '#f8fafc'}
                                stroke={active1 ? '#f59e0b' : '#cbd5e1'}
                                textColor={active1 ? '#92400e' : '#94a3b8'}
                                className={active1 && !cached ? 'node-appear' : ''}
                            />
                            <Edge
                                x1={250}
                                y1={142}
                                x2={250}
                                y2={178}
                                label={`arg=${args[1]}`}
                                color={active2 ? '#0ea5e9' : '#cbd5e1'}
                                marker={active2 ? 'vg' : 'va'}
                            />
                            <MapNode
                                cx={250}
                                cy={200}
                                label={`Map[${args[1]}]`}
                                sub={active2 ? 'çµ‚ç«¯ãƒãƒ¼ãƒ‰' : '?'}
                                color={active2 ? '#e0f2fe' : '#f8fafc'}
                                stroke={active2 ? '#0284c7' : '#cbd5e1'}
                                textColor={active2 ? '#0c4a6e' : '#94a3b8'}
                                className={active2 && !cached ? 'node-appear' : ''}
                            />
                            {active2 && (
                                <>
                                    <text
                                        x={250}
                                        y={242}
                                        textAnchor="middle"
                                        fontSize="13"
                                        fontFamily="IBM Plex Mono,monospace"
                                        fill="#dc2626"
                                    >
                                        has(RESULT) â†’ false â†’ ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒŸã‚¹
                                    </text>
                                </>
                            )}
                        </svg>
                    );
                }

                if (type === 'miss') {
                    const { args, result } = visual;
                    return (
                        <svg
                            viewBox="0 0 500 310"
                            style={{ width: '100%', maxWidth: '500px', height: 'auto' }}
                        >
                            <Defs />
                            <MapNode
                                cx={250}
                                cy={40}
                                label="root"
                                sub="Map"
                                color="#f0fdf4"
                                stroke="#10b981"
                                textColor="#065f46"
                            />
                            <Edge
                                x1={250}
                                y1={62}
                                x2={250}
                                y2={98}
                                label={`${args[0]}`}
                                color="#64748b"
                                marker="va"
                            />
                            <MapNode
                                cx={250}
                                cy={120}
                                label={`Map[${args[0]}]`}
                                color="#e0f2fe"
                                stroke="#0284c7"
                                textColor="#0c4a6e"
                            />
                            <Edge
                                x1={250}
                                y1={142}
                                x2={250}
                                y2={178}
                                label={`${args[1]}`}
                                color="#64748b"
                                marker="va"
                            />
                            <MapNode
                                cx={250}
                                cy={200}
                                label={`Map[${args[1]}]`}
                                sub="çµ‚ç«¯ãƒãƒ¼ãƒ‰"
                                color="#fdf4ff"
                                stroke="#a855f7"
                                textColor="#581c87"
                            />
                            <Edge x1={250} y1={222} x2={250} y2={248} color="#a855f7" marker="vg" />
                            <rect
                                x={160}
                                y={250}
                                width="180"
                                height="36"
                                rx="10"
                                fill="#d1fae5"
                                stroke="#10b981"
                                strokeWidth="2"
                            />
                            <text
                                x={250}
                                y={268}
                                textAnchor="middle"
                                dominantBaseline="middle"
                                fontSize="14"
                                fontFamily="IBM Plex Mono,monospace"
                                fontWeight="700"
                                fill="#065f46"
                            >
                                RESULT â†’ {result} âœ“
                            </text>
                        </svg>
                    );
                }

                if (type === 'hit') {
                    const { args, result } = visual;
                    return (
                        <svg
                            viewBox="0 0 500 300"
                            style={{ width: '100%', maxWidth: '500px', height: 'auto' }}
                        >
                            <Defs />
                            <MapNode
                                cx={250}
                                cy={40}
                                label="root"
                                sub="Map"
                                color="#f0fdf4"
                                stroke="#10b981"
                                textColor="#065f46"
                            />
                            <Edge
                                x1={250}
                                y1={62}
                                x2={250}
                                y2={98}
                                label={`${args[0]}`}
                                color="#10b981"
                                marker="vg"
                            />
                            <MapNode
                                cx={250}
                                cy={120}
                                label={`Map[${args[0]}]`}
                                color="#d1fae5"
                                stroke="#10b981"
                                textColor="#065f46"
                            />
                            <Edge
                                x1={250}
                                y1={142}
                                x2={250}
                                y2={178}
                                label={`${args[1]}`}
                                color="#10b981"
                                marker="vg"
                            />
                            <MapNode
                                cx={250}
                                cy={200}
                                label={`Map[${args[1]}]`}
                                sub="ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ’ãƒƒãƒˆ!"
                                color="#d1fae5"
                                stroke="#10b981"
                                textColor="#065f46"
                                className="hit-pulse"
                            />
                            <rect
                                x={155}
                                y={235}
                                width="190"
                                height="36"
                                rx="10"
                                fill="#d1fae5"
                                stroke="#10b981"
                                strokeWidth="2.5"
                            />
                            <text
                                x={250}
                                y={253}
                                textAnchor="middle"
                                dominantBaseline="middle"
                                fontSize="14"
                                fontFamily="IBM Plex Mono,monospace"
                                fontWeight="700"
                                fill="#065f46"
                            >
                                has(RESULT) â†’ {result} âš¡
                            </text>
                            <text
                                x={250}
                                y={286}
                                textAnchor="middle"
                                fontSize="13"
                                fontFamily="DM Sans,sans-serif"
                                fill="#10b981"
                                fontWeight="700"
                            >
                                fn ã¯å‘¼ã°ã‚Œã¦ã„ãªã„!
                            </text>
                        </svg>
                    );
                }

                if (type === 'final') {
                    return (
                        <svg
                            viewBox="0 0 500 300"
                            style={{ width: '100%', maxWidth: '500px', height: 'auto' }}
                        >
                            <Defs />
                            {/* root */}
                            <MapNode
                                cx={250}
                                cy={40}
                                label="root"
                                sub="Map"
                                color="#f0fdf4"
                                stroke="#10b981"
                                textColor="#065f46"
                            />
                            {/* left branch: 2 */}
                            <Edge
                                x1={210}
                                y1={62}
                                x2={150}
                                y2={108}
                                label="2"
                                color="#0284c7"
                                marker="vg"
                            />
                            <MapNode
                                cx={150}
                                cy={130}
                                label="Map[2]"
                                color="#e0f2fe"
                                stroke="#0284c7"
                                textColor="#0c4a6e"
                            />
                            <Edge
                                x1={150}
                                y1={152}
                                x2={150}
                                y2={188}
                                label="2"
                                color="#0284c7"
                                marker="vg"
                            />
                            <MapNode
                                cx={150}
                                cy={210}
                                label="Map[2]"
                                sub="çµ‚ç«¯"
                                color="#dbeafe"
                                stroke="#0284c7"
                                textColor="#1e40af"
                            />
                            <rect
                                x={98}
                                y={240}
                                width="104"
                                height="32"
                                rx="8"
                                fill="#d1fae5"
                                stroke="#10b981"
                                strokeWidth="2"
                            />
                            <text
                                x={150}
                                y={256}
                                textAnchor="middle"
                                dominantBaseline="middle"
                                fontSize="13"
                                fontFamily="IBM Plex Mono,monospace"
                                fontWeight="700"
                                fill="#065f46"
                            >
                                RESULTâ†’4
                            </text>
                            {/* right branch: 1 */}
                            <Edge
                                x1={290}
                                y1={62}
                                x2={350}
                                y2={108}
                                label="1"
                                color="#a855f7"
                                marker="vg"
                            />
                            <MapNode
                                cx={350}
                                cy={130}
                                label="Map[1]"
                                color="#fdf4ff"
                                stroke="#a855f7"
                                textColor="#581c87"
                            />
                            <Edge
                                x1={350}
                                y1={152}
                                x2={350}
                                y2={188}
                                label="2"
                                color="#a855f7"
                                marker="vg"
                            />
                            <MapNode
                                cx={350}
                                cy={210}
                                label="Map[2]"
                                sub="çµ‚ç«¯"
                                color="#faf5ff"
                                stroke="#a855f7"
                                textColor="#6b21a8"
                            />
                            <rect
                                x={298}
                                y={240}
                                width="104"
                                height="32"
                                rx="8"
                                fill="#d1fae5"
                                stroke="#10b981"
                                strokeWidth="2"
                            />
                            <text
                                x={350}
                                y={256}
                                textAnchor="middle"
                                dominantBaseline="middle"
                                fontSize="13"
                                fontFamily="IBM Plex Mono,monospace"
                                fontWeight="700"
                                fill="#065f46"
                            >
                                RESULTâ†’3
                            </text>
                        </svg>
                    );
                }

                return null;
            }

            // ===== Main StepsApp =====
            function StepsApp() {
                const [activeStep, setActiveStep] = useState(1);
                const [isPlaying, setIsPlaying] = useState(false);
                const timerRef = useRef(null);

                const currentStepData = stepsData[activeStep - 1];

                useEffect(() => {
                    if (isPlaying) {
                        if (activeStep > stepsData.length) {
                            setIsPlaying(false);
                            setActiveStep(1);
                            return;
                        }
                        timerRef.current = setTimeout(() => {
                            if (activeStep === stepsData.length) {
                                setActiveStep(1);
                                setIsPlaying(false);
                            } else {
                                setActiveStep((prev) => prev + 1);
                            }
                        }, 1800);
                    }
                    return () => {
                        if (timerRef.current) clearTimeout(timerRef.current);
                    };
                }, [isPlaying, activeStep]);

                const handlePlay = () => {
                    if (isPlaying) return;
                    setActiveStep(1);
                    setIsPlaying(true);
                };
                const handlePrev = () => {
                    setIsPlaying(false);
                    setActiveStep((s) => Math.max(1, s - 1));
                };
                const handleNext = () => {
                    setIsPlaying(false);
                    setActiveStep((s) => Math.min(stepsData.length, s + 1));
                };
                const handleReset = () => {
                    setIsPlaying(false);
                    setActiveStep(1);
                };
                const handleStepClick = (step) => {
                    setIsPlaying(false);
                    setActiveStep(step);
                };

                const btnBase =
                    'px-4 py-2.5 rounded-xl font-bold text-sm transition-all shadow disabled:opacity-40 disabled:cursor-not-allowed';

                return (
                    <div className="grid grid-cols-1 md:grid-cols-[1fr_2fr] gap-8 mt-2">
                        {/* Left: step list */}
                        <div>
                            <h3 className="mt-0 mb-3 text-teal-800 text-lg font-bold">
                                ã‚¹ãƒ†ãƒƒãƒ—ä¸€è¦§
                            </h3>
                            <div className="space-y-2">
                                {stepsData.map((step) => {
                                    const isActive = activeStep === step.step;
                                    return (
                                        <button
                                            key={step.step}
                                            type="button"
                                            onClick={() => handleStepClick(step.step)}
                                            aria-current={isActive ? 'step' : undefined}
                                            className={[
                                                'w-full text-left rounded-xl border-2 transition-all cursor-pointer px-4 py-3',
                                                isActive
                                                    ? 'bg-[linear-gradient(135deg,#d1fae5,#a7f3d0)] border-emerald-500 shadow-[0_4px_12px_rgba(16,185,129,0.20)] translate-x-1'
                                                    : 'bg-white border-slate-200 hover:border-emerald-400 hover:translate-x-1',
                                            ].join(' ')}
                                        >
                                            <div
                                                className={[
                                                    'text-sm font-bold mb-0.5',
                                                    isActive ? 'text-emerald-900' : 'text-teal-800',
                                                ].join(' ')}
                                            >
                                                Step {step.step}: {step.title}
                                            </div>
                                            <div className="text-xs text-slate-400 truncate">
                                                {step.desc.substring(0, 48)}â€¦
                                            </div>
                                        </button>
                                    );
                                })}
                            </div>
                        </div>

                        {/* Right: viz + controls (å„ªå…ˆè¡¨ç¤º) */}
                        <div className="flex flex-col">
                            <div className="rounded-2xl p-6 border-2 border-emerald-200 bg-[linear-gradient(135deg,#ecfdf5,#f0f9ff)]">
                                <div className="flex items-center justify-center gap-2 mb-2">
                                    <span className="bg-emerald-500 text-white text-xs font-bold px-2 py-0.5 rounded-full mono">
                                        Step {currentStepData.step}/{stepsData.length}
                                    </span>
                                    <h3 className="text-teal-800 text-lg font-bold m-0">
                                        {currentStepData.title}
                                    </h3>
                                </div>
                                <p className="text-slate-600 text-sm leading-7 m-0">
                                    {currentStepData.desc}
                                </p>
                            </div>

                            <div className="flex justify-center my-4">
                                <TrieViz visual={currentStepData.visual} />
                            </div>

                            <div className="flex flex-wrap justify-center gap-2 mt-1">
                                <button
                                    type="button"
                                    onClick={handlePlay}
                                    disabled={isPlaying}
                                    aria-label="è‡ªå‹•å†ç”Ÿ"
                                    className={[
                                        btnBase,
                                        'text-white bg-[linear-gradient(135deg,#10b981,#059669)] hover:shadow-[0_6px_16px_rgba(16,185,129,0.35)] hover:-translate-y-0.5',
                                    ].join(' ')}
                                >
                                    â–¶ Play
                                </button>
                                <button
                                    type="button"
                                    onClick={handlePrev}
                                    disabled={activeStep <= 1}
                                    aria-label="å‰ã®ã‚¹ãƒ†ãƒƒãƒ—"
                                    className={[
                                        btnBase,
                                        'bg-slate-100 text-slate-700 hover:bg-slate-200 border border-slate-300',
                                    ].join(' ')}
                                >
                                    â† Prev
                                </button>
                                <button
                                    type="button"
                                    onClick={handleNext}
                                    disabled={activeStep >= stepsData.length}
                                    aria-label="æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—"
                                    className={[
                                        btnBase,
                                        'bg-slate-100 text-slate-700 hover:bg-slate-200 border border-slate-300',
                                    ].join(' ')}
                                >
                                    Next â†’
                                </button>
                                <button
                                    type="button"
                                    onClick={handleReset}
                                    aria-label="ãƒªã‚»ãƒƒãƒˆ"
                                    className={[
                                        btnBase,
                                        'bg-amber-50 text-amber-700 hover:bg-amber-100 border border-amber-200',
                                    ].join(' ')}
                                >
                                    â†º Reset
                                </button>
                            </div>
                        </div>
                    </div>
                );
            }

            const root = ReactDOM.createRoot(document.getElementById('react-steps'));
            root.render(<StepsApp />);
        </script>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-typescript.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/toolbar/prism-toolbar.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/copy-to-clipboard/prism-copy-to-clipboard.min.js"></script>
        <script>
            // nav links from header
            document.querySelectorAll('header nav').forEach((nav) => {
                const labels = ['æ¦‚è¦', 'è§£èª¬', 'ã‚³ãƒ¼ãƒ‰', 'ãƒ•ãƒ­ãƒ¼', 'è¨ˆç®—é‡'];
                const ids = ['overview', 'steps', 'code', 'diagram', 'complexity'];
                nav.innerHTML = labels
                    .map(
                        (l, i) =>
                            `<a href="#${ids[i]}" class="inline-block px-5 py-2 font-semibold text-slate-700 no-underline rounded-xl border-2 border-slate-200 bg-white/80 transition-all hover:shadow-[0_8px_20px_rgba(15,118,110,0.20)] hover:-translate-y-0.5 hover:bg-[linear-gradient(180deg,#e8fff6,#c8f1e1)] hover:border-teal-600">${l}</a>`,
                    )
                    .join('');
            });
            Prism.highlightAll();
        </script>
    </body>
</html>
