<!doctype html>
<html lang="ja">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta
            name="description"
            content="LeetCode 90: Subsets II - é‡è¤‡è¦ç´ ã‚’å«ã‚€é…åˆ—ã‹ã‚‰ãƒ¦ãƒ‹ãƒ¼ã‚¯ãªå…¨éƒ¨åˆ†é›†åˆã‚’ç”Ÿæˆã™ã‚‹åå¾©çš„æ‹¡å¼µæ³•ã®è§£èª¬"
        />
        <title>Subsets II - åå¾©çš„æ‹¡å¼µæ³•ã«ã‚ˆã‚‹é‡è¤‡æ’é™¤ | ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ è§£èª¬</title>

        <!-- Tailwind CSS -->
        <script src="https://cdn.tailwindcss.com"></script>
        <script defer src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
        <script type="text/plain" class="mermaid">
            mermaid.initialize({
              startOnLoad: true,
              securityLevel: "loose", // HTMLãƒ©ãƒ™ãƒ«ã‚’ä½¿ã†ãªã‚‰
              htmlLabels: true, // <br>ç­‰ã‚’ä½¿ã†ãªã‚‰
              theme: "neutral",
            });
        </script>
        <!-- Prism.js -->
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css"
        />
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css"
        />
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/toolbar/prism-toolbar.min.css"
        />

        <!-- Google Fonts -->
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=JetBrains+Mono:wght@400;600&display=swap"
            rel="stylesheet"
        />

        <style>
            :root {
                --code-lh: 1.6;
            }

            body {
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                margin: 0;
                padding: 20px;
                background-color: #f5f5f5;
            }
            .container {
                max-width: 1200px;
                margin: 0 auto;
                background-color: white;
                padding: 30px;
                border-radius: 10px;
                box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            }
            h1 {
                color: #333;
                text-align: center;
                margin-bottom: 10px;
            }
            .subtitle {
                text-align: center;
                color: #666;
                margin-bottom: 30px;
                font-size: 14px;
            }
            .mermaid {
                display: flex;
                justify-content: center;
                margin: 20px 0;
            }
            .info {
                background-color: #e8f4f8;
                padding: 15px;
                border-radius: 5px;
                margin-top: 20px;
            }
            .info h3 {
                margin-top: 0;
                color: #2c5aa0;
            }
            .info ul {
                margin: 10px 0;
                padding-left: 20px;
            }
            .info li {
                margin: 5px 0;
            }
            pre[class*='language-'],
            pre[class*='language-'] > code {
                line-height: var(--code-lh) !important;
                white-space: pre !important;
                word-break: normal !important;
                overflow-wrap: normal !important;
                font-family:
                    'JetBrains Mono', ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
                    'Liberation Mono', 'Courier New', monospace;
            }

            pre.line-numbers {
                padding-left: 3.2em !important;
            }

            .line-numbers .line-numbers-rows {
                width: 3.2em;
            }

            .line-numbers .line-numbers-rows > span {
                height: calc(var(--code-lh) * 1em);
            }

            div.code-toolbar > .toolbar .toolbar-item > button,
            div.code-toolbar > .toolbar .toolbar-item > a {
                background: #fff;
                border: 1px solid #e6e8ef;
                border-radius: 10px;
                padding: 6px 10px;
                font:
                    600 13px/1.2 Inter,
                    system-ui,
                    -apple-system,
                    'Segoe UI',
                    'Helvetica Neue',
                    Arial,
                    sans-serif;
                color: #334155;
                box-shadow: 0 2px 6px rgba(20, 32, 70, 0.06);
                transition:
                    transform 0.15s,
                    box-shadow 0.15s,
                    background 0.15s;
            }

            div.code-toolbar > .toolbar .toolbar-item > button:hover {
                transform: translateY(-1px);
                box-shadow: 0 10px 28px rgba(20, 32, 70, 0.08);
                background: linear-gradient(180deg, #e8fff6, #c8f1e1);
            }

            .step-card {
                transition: all 0.2s ease;
            }

            .step-card:hover {
                transform: translateY(-2px);
                box-shadow: 0 10px 25px rgba(16, 185, 129, 0.15);
            }

            .step-card.active {
                background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%);
                border-color: #10b981;
            }

            .svg-stage {
                opacity: 0;
                transition: opacity 0.4s ease;
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
            }

            .svg-stage.active {
                opacity: 1;
                position: relative;
            }

            .control-btn {
                transition: all 0.2s ease;
            }

            .control-btn:hover:not(:disabled) {
                transform: translateY(-1px);
                box-shadow: 0 6px 18px rgba(16, 185, 129, 0.2);
            }

            .control-btn:disabled {
                opacity: 0.4;
                cursor: not-allowed;
            }

            @media (prefers-reduced-motion: reduce) {
                *,
                *::before,
                *::after {
                    animation-duration: 0.01ms !important;
                    animation-iteration-count: 1 !important;
                    transition-duration: 0.01ms !important;
                }
            }

            html {
                scroll-behavior: smooth;
            }

            .nav-btn {
                transition: all 0.2s ease;
            }

            .nav-btn:hover {
                transform: translateY(-1px);
                box-shadow: 0 4px 12px rgba(16, 185, 129, 0.15);
            }
        </style>
    </head>
    <body class="bg-gradient-to-br from-emerald-50 via-sky-50 to-slate-50 min-h-screen">
        <!-- Header -->
        <header class="bg-white shadow-sm border-b border-emerald-100">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
                <h1 class="text-4xl font-bold text-slate-800 mb-2">
                    Subsets II - é‡è¤‡æ’é™¤ã®éƒ¨åˆ†é›†åˆç”Ÿæˆ
                </h1>
                <p class="text-lg text-slate-600 mb-6">
                    åå¾©çš„æ‹¡å¼µæ³•ã¨ prev_size
                    ã«ã‚ˆã‚‹é‡è¤‡åˆ¶å¾¡ã§ã€é‡è¤‡è¦ç´ ã‚’å«ã‚€é…åˆ—ã‹ã‚‰ãƒ¦ãƒ‹ãƒ¼ã‚¯ãªå…¨éƒ¨åˆ†é›†åˆã‚’ O(nÂ·2^n) ã§ç”Ÿæˆ
                </p>

                <!-- Navigation -->
                <nav class="flex flex-wrap gap-3" aria-label="ãƒšãƒ¼ã‚¸å†…ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³">
                    <a
                        href="#overview"
                        class="nav-btn px-4 py-2 bg-white border border-emerald-200 rounded-lg text-emerald-700 font-semibold hover:bg-emerald-50"
                        aria-label="æ¦‚è¦ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã¸ç§»å‹•"
                    >
                        ğŸ“‹ æ¦‚è¦
                    </a>
                    <a
                        href="#steps"
                        class="nav-btn px-4 py-2 bg-white border border-sky-200 rounded-lg text-sky-700 font-semibold hover:bg-sky-50"
                        aria-label="ã‚¹ãƒ†ãƒƒãƒ—ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã¸ç§»å‹•"
                    >
                        ğŸ”„ ã‚¹ãƒ†ãƒƒãƒ—
                    </a>
                    <a
                        href="#code"
                        class="nav-btn px-4 py-2 bg-white border border-purple-200 rounded-lg text-purple-700 font-semibold hover:bg-purple-50"
                        aria-label="ã‚³ãƒ¼ãƒ‰ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã¸ç§»å‹•"
                    >
                        ğŸ’» ã‚³ãƒ¼ãƒ‰
                    </a>
                    <a
                        href="#diagram"
                        class="nav-btn px-4 py-2 bg-white border border-indigo-200 rounded-lg text-indigo-700 font-semibold hover:bg-indigo-50"
                        aria-label="å›³è§£ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã¸ç§»å‹•"
                    >
                        ğŸ“Š å›³è§£
                    </a>
                    <a
                        href="#complexity"
                        class="nav-btn px-4 py-2 bg-white border border-amber-200 rounded-lg text-amber-700 font-semibold hover:bg-amber-50"
                        aria-label="è¨ˆç®—é‡ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã¸ç§»å‹•"
                    >
                        âš¡ è¨ˆç®—é‡
                    </a>
                    <a
                        href="#edgecases"
                        class="nav-btn px-4 py-2 bg-white border border-rose-200 rounded-lg text-rose-700 font-semibold hover:bg-rose-50"
                        aria-label="ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã¸ç§»å‹•"
                    >
                        ğŸ” ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹
                    </a>
                </nav>
            </div>
        </header>

        <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 space-y-16">
            <!-- Overview Section -->
            <section
                id="overview"
                class="bg-white rounded-2xl shadow-lg border border-slate-200 p-8"
            >
                <h2 class="text-3xl font-bold text-slate-800 mb-6 flex items-center gap-3">
                    <span class="text-emerald-500">ğŸ“‹</span>
                    ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ æ¦‚è¦
                </h2>
                <div class="space-y-4 text-slate-700 leading-relaxed">
                    <p class="text-lg">
                        <strong class="text-emerald-700">LeetCode 90: Subsets II</strong>
                        ã§ã¯ã€é‡è¤‡è¦ç´ ã‚’å«ã‚€å¯èƒ½æ€§ã®ã‚ã‚‹æ•´æ•°é…åˆ—ã‹ã‚‰ã€<strong>é‡è¤‡ã®ãªã„</strong>ã™ã¹ã¦ã®éƒ¨åˆ†é›†åˆï¼ˆãƒ‘ãƒ¯ãƒ¼ã‚»ãƒƒãƒˆï¼‰ã‚’ç”Ÿæˆã—ã¾ã™ã€‚
                    </p>
                    <div class="bg-emerald-50 border-l-4 border-emerald-500 p-4 rounded">
                        <p class="font-semibold text-emerald-900 mb-2">æ ¸å¿ƒæˆ¦ç•¥</p>
                        <ul class="list-disc list-inside space-y-1 text-emerald-800">
                            <li>å…¥åŠ›é…åˆ—ã‚’<strong>æ˜‡é †ã‚½ãƒ¼ãƒˆ</strong>ã—ã€åŒå€¤ã‚’éš£æ¥ã•ã›ã‚‹</li>
                            <li><strong>åå¾©çš„æ‹¡å¼µæ³•</strong>ã§éƒ¨åˆ†é›†åˆã‚’æ®µéšçš„ã«ç”Ÿæˆ</li>
                            <li><strong>prev_size</strong> å¤‰æ•°ã§é‡è¤‡è¦ç´ ã®æ‹¡å¼µç¯„å›²ã‚’åˆ¶å¾¡</li>
                            <li>æ–°è¦è¦ç´ ã¯å…¨ä½“æ‹¡å¼µã€é‡è¤‡è¦ç´ ã¯å‰å›è¿½åŠ åˆ†ã®ã¿æ‹¡å¼µ</li>
                        </ul>
                    </div>
                    <div class="grid md:grid-cols-2 gap-4 mt-6">
                        <div class="bg-sky-50 p-4 rounded-lg border border-sky-200">
                            <p class="font-semibold text-sky-900 mb-2">ğŸ“¥ å…¥åŠ›ä¾‹</p>
                            <code class="text-sm text-sky-800">nums = [1, 2, 2]</code>
                        </div>
                        <div class="bg-purple-50 p-4 rounded-lg border border-purple-200">
                            <p class="font-semibold text-purple-900 mb-2">ğŸ“¤ å‡ºåŠ›ä¾‹</p>
                            <code class="text-sm text-purple-800"
                                >[[], [1], [1,2], [1,2,2], [2], [2,2]]</code
                            >
                        </div>
                    </div>
                </div>
            </section>

            <!-- Steps Section -->
            <section id="steps" class="bg-white rounded-2xl shadow-lg border border-slate-200 p-8">
                <h2 class="text-3xl font-bold text-slate-800 mb-6 flex items-center gap-3">
                    <span class="text-sky-500">ğŸ”„</span>
                    ã‚¹ãƒ†ãƒƒãƒ—ãƒã‚¤ã‚¹ãƒ†ãƒƒãƒ—è§£èª¬
                </h2>

                <div class="grid lg:grid-cols-2 gap-8">
                    <!-- Steps List -->
                    <div class="space-y-3">
                        <div
                            class="step-card bg-slate-50 border-2 border-slate-200 rounded-xl p-4 cursor-pointer"
                            role="button"
                            tabindex="0"
                            data-step="1"
                            aria-label="ã‚¹ãƒ†ãƒƒãƒ—1: ã‚½ãƒ¼ãƒˆã¨åˆæœŸåŒ–"
                        >
                            <div class="flex items-start gap-3">
                                <span
                                    class="flex-shrink-0 w-8 h-8 bg-emerald-500 text-white rounded-full flex items-center justify-center font-bold"
                                    >1</span
                                >
                                <div>
                                    <h3 class="font-bold text-slate-800 mb-1">ã‚½ãƒ¼ãƒˆã¨åˆæœŸåŒ–</h3>
                                    <p class="text-sm text-slate-600">
                                        é…åˆ—ã‚’æ˜‡é †ã‚½ãƒ¼ãƒˆã€ç©ºé›†åˆã§åˆæœŸåŒ–ã€prev_size = 0
                                    </p>
                                </div>
                            </div>
                        </div>

                        <div
                            class="step-card bg-slate-50 border-2 border-slate-200 rounded-xl p-4 cursor-pointer"
                            role="button"
                            tabindex="0"
                            data-step="2"
                            aria-label="ã‚¹ãƒ†ãƒƒãƒ—2: æœ€åˆã®è¦ç´ ã‚’è¿½åŠ "
                        >
                            <div class="flex items-start gap-3">
                                <span
                                    class="flex-shrink-0 w-8 h-8 bg-emerald-500 text-white rounded-full flex items-center justify-center font-bold"
                                    >2</span
                                >
                                <div>
                                    <h3 class="font-bold text-slate-800 mb-1">
                                        æœ€åˆã®è¦ç´  (1) ã‚’è¿½åŠ 
                                    </h3>
                                    <p class="text-sm text-slate-600">
                                        æ–°è¦è¦ç´ : å…¨ä½“ã‚’æ‹¡å¼µã€‚[] ã« 1 ã‚’è¿½åŠ  â†’ [1]
                                    </p>
                                </div>
                            </div>
                        </div>

                        <div
                            class="step-card bg-slate-50 border-2 border-slate-200 rounded-xl p-4 cursor-pointer"
                            role="button"
                            tabindex="0"
                            data-step="3"
                            aria-label="ã‚¹ãƒ†ãƒƒãƒ—3: 2ç•ªç›®ã®è¦ç´ ã‚’è¿½åŠ "
                        >
                            <div class="flex items-start gap-3">
                                <span
                                    class="flex-shrink-0 w-8 h-8 bg-emerald-500 text-white rounded-full flex items-center justify-center font-bold"
                                    >3</span
                                >
                                <div>
                                    <h3 class="font-bold text-slate-800 mb-1">
                                        2ç•ªç›®ã®è¦ç´  (2) ã‚’è¿½åŠ 
                                    </h3>
                                    <p class="text-sm text-slate-600">
                                        æ–°è¦è¦ç´ : å…¨ä½“ã‚’æ‹¡å¼µã€‚[2], [1,2] ã‚’è¿½åŠ 
                                    </p>
                                </div>
                            </div>
                        </div>

                        <div
                            class="step-card bg-slate-50 border-2 border-slate-200 rounded-xl p-4 cursor-pointer"
                            role="button"
                            tabindex="0"
                            data-step="4"
                            aria-label="ã‚¹ãƒ†ãƒƒãƒ—4: é‡è¤‡è¦ç´ ã‚’è¿½åŠ "
                        >
                            <div class="flex items-start gap-3">
                                <span
                                    class="flex-shrink-0 w-8 h-8 bg-emerald-500 text-white rounded-full flex items-center justify-center font-bold"
                                    >4</span
                                >
                                <div>
                                    <h3 class="font-bold text-slate-800 mb-1">
                                        3ç•ªç›®ã®è¦ç´  (2) - é‡è¤‡
                                    </h3>
                                    <p class="text-sm text-slate-600">
                                        é‡è¤‡è¦ç´ : å‰å›è¿½åŠ åˆ†ã®ã¿æ‹¡å¼µã€‚[2,2], [1,2,2] ã‚’è¿½åŠ 
                                    </p>
                                </div>
                            </div>
                        </div>

                        <div
                            class="step-card bg-slate-50 border-2 border-slate-200 rounded-xl p-4 cursor-pointer"
                            role="button"
                            tabindex="0"
                            data-step="5"
                            aria-label="ã‚¹ãƒ†ãƒƒãƒ—5: å®Œäº†"
                        >
                            <div class="flex items-start gap-3">
                                <span
                                    class="flex-shrink-0 w-8 h-8 bg-emerald-500 text-white rounded-full flex items-center justify-center font-bold"
                                    >5</span
                                >
                                <div>
                                    <h3 class="font-bold text-slate-800 mb-1">å®Œäº†</h3>
                                    <p class="text-sm text-slate-600">
                                        6å€‹ã®ãƒ¦ãƒ‹ãƒ¼ã‚¯ãªéƒ¨åˆ†é›†åˆã‚’ç”Ÿæˆå®Œäº†
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Visualization -->
                    <div class="relative">
                        <div
                            class="bg-slate-50 rounded-xl p-6 border-2 border-slate-200 min-h-[400px]"
                        >
                            <div class="relative" style="min-height: 360px">
                                <!-- ã‚¹ãƒ†ãƒ¼ã‚¸ 1 -->
                                <div class="svg-stage active" data-stage="1">
                                    <svg viewBox="0 0 400 320" class="w-full h-auto">
                                        <text
                                            x="200"
                                            y="30"
                                            text-anchor="middle"
                                            class="fill-slate-700 font-bold"
                                            font-size="16"
                                        >
                                            ã‚¹ãƒ†ãƒ¼ã‚¸ 1: ã‚½ãƒ¼ãƒˆã¨åˆæœŸåŒ–
                                        </text>

                                        <!-- å…¥åŠ›é…åˆ— -->
                                        <rect
                                            x="50"
                                            y="60"
                                            width="60"
                                            height="40"
                                            fill="#fef3c7"
                                            stroke="#f59e0b"
                                            stroke-width="2"
                                            rx="4"
                                        />
                                        <text
                                            x="80"
                                            y="85"
                                            text-anchor="middle"
                                            class="fill-slate-800 font-semibold"
                                            font-size="14"
                                        >
                                            1
                                        </text>
                                        <rect
                                            x="120"
                                            y="60"
                                            width="60"
                                            height="40"
                                            fill="#fef3c7"
                                            stroke="#f59e0b"
                                            stroke-width="2"
                                            rx="4"
                                        />
                                        <text
                                            x="150"
                                            y="85"
                                            text-anchor="middle"
                                            class="fill-slate-800 font-semibold"
                                            font-size="14"
                                        >
                                            2
                                        </text>
                                        <rect
                                            x="190"
                                            y="60"
                                            width="60"
                                            height="40"
                                            fill="#fef3c7"
                                            stroke="#f59e0b"
                                            stroke-width="2"
                                            rx="4"
                                        />
                                        <text
                                            x="220"
                                            y="85"
                                            text-anchor="middle"
                                            class="fill-slate-800 font-semibold"
                                            font-size="14"
                                        >
                                            2
                                        </text>
                                        <text
                                            x="30"
                                            y="85"
                                            text-anchor="end"
                                            class="fill-slate-600"
                                            font-size="12"
                                        >
                                            é…åˆ—:
                                        </text>

                                        <!-- çŸ¢å° -->
                                        <path
                                            d="M 150 110 L 150 140"
                                            stroke="#10b981"
                                            stroke-width="2"
                                            fill="none"
                                            marker-end="url(#arrowhead)"
                                        />

                                        <!-- çµæœ -->
                                        <rect
                                            x="100"
                                            y="160"
                                            width="200"
                                            height="120"
                                            fill="#ecfdf5"
                                            stroke="#10b981"
                                            stroke-width="2"
                                            rx="6"
                                        />
                                        <text
                                            x="200"
                                            y="185"
                                            text-anchor="middle"
                                            class="fill-emerald-700 font-bold"
                                            font-size="14"
                                        >
                                            çµæœ = [ ]
                                        </text>
                                        <text x="110" y="210" class="fill-slate-700" font-size="13">
                                            â€¢ ç©ºã®éƒ¨åˆ†é›†åˆ
                                        </text>
                                        <text x="110" y="235" class="fill-slate-700" font-size="13">
                                            â€¢ prev_size = 0
                                        </text>
                                        <text x="110" y="260" class="fill-slate-700" font-size="13">
                                            â€¢ æ‹¡å¼µæº–å‚™å®Œäº†
                                        </text>

                                        <defs>
                                            <marker
                                                id="arrowhead"
                                                markerWidth="10"
                                                markerHeight="10"
                                                refX="9"
                                                refY="3"
                                                orient="auto"
                                            >
                                                <polygon points="0 0, 10 3, 0 6" fill="#10b981" />
                                            </marker>
                                        </defs>
                                    </svg>
                                </div>

                                <!-- ã‚¹ãƒ†ãƒ¼ã‚¸ 2 -->
                                <div class="svg-stage" data-stage="2">
                                    <svg viewBox="0 0 400 320" class="w-full h-auto">
                                        <text
                                            x="200"
                                            y="30"
                                            text-anchor="middle"
                                            class="fill-slate-700 font-bold"
                                            font-size="16"
                                        >
                                            ã‚¹ãƒ†ãƒ¼ã‚¸ 2: è¦ç´  1 ã‚’è¿½åŠ 
                                        </text>

                                        <!-- ç¾åœ¨ã®è¦ç´  -->
                                        <rect
                                            x="140"
                                            y="60"
                                            width="120"
                                            height="45"
                                            fill="#dbeafe"
                                            stroke="#3b82f6"
                                            stroke-width="2"
                                            rx="6"
                                        />
                                        <text
                                            x="200"
                                            y="88"
                                            text-anchor="middle"
                                            class="fill-blue-800 font-bold"
                                            font-size="14"
                                        >
                                            å‡¦ç†ä¸­: 1
                                        </text>

                                        <!-- å‡¦ç†å‰ -->
                                        <text
                                            x="60"
                                            y="140"
                                            class="fill-slate-600 font-semibold"
                                            font-size="13"
                                        >
                                            å‡¦ç†å‰:
                                        </text>
                                        <rect
                                            x="60"
                                            y="150"
                                            width="45"
                                            height="30"
                                            fill="#f1f5f9"
                                            stroke="#64748b"
                                            stroke-width="1.5"
                                            rx="3"
                                        />
                                        <text
                                            x="82"
                                            y="170"
                                            text-anchor="middle"
                                            class="fill-slate-700"
                                            font-size="12"
                                        >
                                            [ ]
                                        </text>

                                        <!-- çŸ¢å° -->
                                        <path
                                            d="M 130 165 L 180 165"
                                            stroke="#10b981"
                                            stroke-width="2"
                                            fill="none"
                                            marker-end="url(#arrowhead2)"
                                        />
                                        <text
                                            x="155"
                                            y="155"
                                            text-anchor="middle"
                                            class="fill-emerald-600"
                                            font-size="11"
                                        >
                                            å…¨ã¦æ‹¡å¼µ
                                        </text>

                                        <!-- å‡¦ç†å¾Œ -->
                                        <text
                                            x="200"
                                            y="140"
                                            class="fill-slate-600 font-semibold"
                                            font-size="13"
                                        >
                                            å‡¦ç†å¾Œ:
                                        </text>
                                        <rect
                                            x="200"
                                            y="150"
                                            width="45"
                                            height="30"
                                            fill="#dcfce7"
                                            stroke="#10b981"
                                            stroke-width="2"
                                            rx="3"
                                        />
                                        <text
                                            x="222"
                                            y="170"
                                            text-anchor="middle"
                                            class="fill-emerald-800"
                                            font-size="12"
                                        >
                                            [ ]
                                        </text>
                                        <rect
                                            x="255"
                                            y="150"
                                            width="50"
                                            height="30"
                                            fill="#dcfce7"
                                            stroke="#10b981"
                                            stroke-width="2"
                                            rx="3"
                                        />
                                        <text
                                            x="280"
                                            y="170"
                                            text-anchor="middle"
                                            class="fill-emerald-800"
                                            font-size="12"
                                        >
                                            [1]
                                        </text>

                                        <!-- æƒ…å ±ãƒœãƒƒã‚¯ã‚¹ -->
                                        <rect
                                            x="50"
                                            y="220"
                                            width="300"
                                            height="70"
                                            fill="#fef3c7"
                                            stroke="#f59e0b"
                                            stroke-width="1.5"
                                            rx="6"
                                        />
                                        <text
                                            x="200"
                                            y="245"
                                            text-anchor="middle"
                                            class="fill-amber-900 font-semibold"
                                            font-size="13"
                                        >
                                            æ–°è¦ç´  â†’ å…¨ã¦ã®éƒ¨åˆ†é›†åˆã‚’æ‹¡å¼µ
                                        </text>
                                        <text
                                            x="200"
                                            y="270"
                                            text-anchor="middle"
                                            class="fill-amber-800"
                                            font-size="12"
                                        >
                                            start = 0, size = 1, prev_size = 1
                                        </text>

                                        <defs>
                                            <marker
                                                id="arrowhead2"
                                                markerWidth="10"
                                                markerHeight="10"
                                                refX="9"
                                                refY="3"
                                                orient="auto"
                                            >
                                                <polygon points="0 0, 10 3, 0 6" fill="#10b981" />
                                            </marker>
                                        </defs>
                                    </svg>
                                </div>

                                <!-- ã‚¹ãƒ†ãƒ¼ã‚¸ 3 -->
                                <div class="svg-stage" data-stage="3">
                                    <svg viewBox="0 0 400 320" class="w-full h-auto">
                                        <text
                                            x="200"
                                            y="30"
                                            text-anchor="middle"
                                            class="fill-slate-700 font-bold"
                                            font-size="16"
                                        >
                                            ã‚¹ãƒ†ãƒ¼ã‚¸ 3: è¦ç´  2 ã‚’è¿½åŠ (åˆå›å‡ºç¾)
                                        </text>

                                        <!-- ç¾åœ¨ã®è¦ç´  -->
                                        <rect
                                            x="140"
                                            y="60"
                                            width="120"
                                            height="45"
                                            fill="#dbeafe"
                                            stroke="#3b82f6"
                                            stroke-width="2"
                                            rx="6"
                                        />
                                        <text
                                            x="200"
                                            y="88"
                                            text-anchor="middle"
                                            class="fill-blue-800 font-bold"
                                            font-size="14"
                                        >
                                            å‡¦ç†ä¸­: 2
                                        </text>

                                        <!-- å‡¦ç†å‰ -->
                                        <text
                                            x="40"
                                            y="140"
                                            class="fill-slate-600 font-semibold"
                                            font-size="12"
                                        >
                                            å‡¦ç†å‰:
                                        </text>
                                        <rect
                                            x="40"
                                            y="148"
                                            width="40"
                                            height="26"
                                            fill="#f1f5f9"
                                            stroke="#64748b"
                                            stroke-width="1.5"
                                            rx="3"
                                        />
                                        <text
                                            x="60"
                                            y="165"
                                            text-anchor="middle"
                                            class="fill-slate-700"
                                            font-size="11"
                                        >
                                            [ ]
                                        </text>
                                        <rect
                                            x="85"
                                            y="148"
                                            width="40"
                                            height="26"
                                            fill="#f1f5f9"
                                            stroke="#64748b"
                                            stroke-width="1.5"
                                            rx="3"
                                        />
                                        <text
                                            x="105"
                                            y="165"
                                            text-anchor="middle"
                                            class="fill-slate-700"
                                            font-size="11"
                                        >
                                            [1]
                                        </text>

                                        <!-- çŸ¢å° -->
                                        <path
                                            d="M 140 161 L 180 161"
                                            stroke="#10b981"
                                            stroke-width="2"
                                            fill="none"
                                            marker-end="url(#arrowhead3)"
                                        />
                                        <text
                                            x="160"
                                            y="150"
                                            text-anchor="middle"
                                            class="fill-emerald-600"
                                            font-size="10"
                                        >
                                            å…¨ã¦æ‹¡å¼µ
                                        </text>

                                        <!-- å‡¦ç†å¾Œ -->
                                        <text
                                            x="190"
                                            y="140"
                                            class="fill-slate-600 font-semibold"
                                            font-size="12"
                                        >
                                            å‡¦ç†å¾Œ:
                                        </text>
                                        <rect
                                            x="190"
                                            y="148"
                                            width="40"
                                            height="26"
                                            fill="#dcfce7"
                                            stroke="#10b981"
                                            stroke-width="1.5"
                                            rx="3"
                                        />
                                        <text
                                            x="210"
                                            y="165"
                                            text-anchor="middle"
                                            class="fill-emerald-800"
                                            font-size="11"
                                        >
                                            [ ]
                                        </text>
                                        <rect
                                            x="235"
                                            y="148"
                                            width="40"
                                            height="26"
                                            fill="#dcfce7"
                                            stroke="#10b981"
                                            stroke-width="1.5"
                                            rx="3"
                                        />
                                        <text
                                            x="255"
                                            y="165"
                                            text-anchor="middle"
                                            class="fill-emerald-800"
                                            font-size="11"
                                        >
                                            [1]
                                        </text>
                                        <rect
                                            x="280"
                                            y="148"
                                            width="40"
                                            height="26"
                                            fill="#fef3c7"
                                            stroke="#f59e0b"
                                            stroke-width="2"
                                            rx="3"
                                        />
                                        <text
                                            x="300"
                                            y="165"
                                            text-anchor="middle"
                                            class="fill-amber-800 font-semibold"
                                            font-size="11"
                                        >
                                            [2]
                                        </text>
                                        <rect
                                            x="325"
                                            y="148"
                                            width="50"
                                            height="26"
                                            fill="#fef3c7"
                                            stroke="#f59e0b"
                                            stroke-width="2"
                                            rx="3"
                                        />
                                        <text
                                            x="350"
                                            y="165"
                                            text-anchor="middle"
                                            class="fill-amber-800 font-semibold"
                                            font-size="11"
                                        >
                                            [1,2]
                                        </text>

                                        <!-- æƒ…å ±ãƒœãƒƒã‚¯ã‚¹ -->
                                        <rect
                                            x="50"
                                            y="215"
                                            width="300"
                                            height="80"
                                            fill="#dbeafe"
                                            stroke="#3b82f6"
                                            stroke-width="1.5"
                                            rx="6"
                                        />
                                        <text
                                            x="200"
                                            y="240"
                                            text-anchor="middle"
                                            class="fill-blue-900 font-semibold"
                                            font-size="13"
                                        >
                                            æ–°è¦ç´  (2 â‰  1)
                                        </text>
                                        <text
                                            x="200"
                                            y="260"
                                            text-anchor="middle"
                                            class="fill-blue-800"
                                            font-size="12"
                                        >
                                            å…¨ã¦æ‹¡å¼µ: [] â†’ [2], [1] â†’ [1,2]
                                        </text>
                                        <text
                                            x="200"
                                            y="280"
                                            text-anchor="middle"
                                            class="fill-blue-700"
                                            font-size="11"
                                        >
                                            start = 0, size = 2, prev_size = 2
                                        </text>

                                        <defs>
                                            <marker
                                                id="arrowhead3"
                                                markerWidth="10"
                                                markerHeight="10"
                                                refX="9"
                                                refY="3"
                                                orient="auto"
                                            >
                                                <polygon points="0 0, 10 3, 0 6" fill="#10b981" />
                                            </marker>
                                        </defs>
                                    </svg>
                                </div>

                                <!-- ã‚¹ãƒ†ãƒ¼ã‚¸ 4 -->
                                <div class="svg-stage" data-stage="4">
                                    <svg viewBox="0 0 400 340" class="w-full h-auto">
                                        <text
                                            x="200"
                                            y="30"
                                            text-anchor="middle"
                                            class="fill-slate-700 font-bold"
                                            font-size="16"
                                        >
                                            ã‚¹ãƒ†ãƒ¼ã‚¸ 4: è¦ç´  2 ã‚’è¿½åŠ (é‡è¤‡!)
                                        </text>

                                        <!-- ç¾åœ¨ã®è¦ç´  -->
                                        <rect
                                            x="120"
                                            y="55"
                                            width="160"
                                            height="45"
                                            fill="#fee2e2"
                                            stroke="#ef4444"
                                            stroke-width="2"
                                            rx="6"
                                        />
                                        <text
                                            x="200"
                                            y="83"
                                            text-anchor="middle"
                                            class="fill-red-800 font-bold"
                                            font-size="14"
                                        >
                                            å‡¦ç†ä¸­: 2 (é‡è¤‡)
                                        </text>

                                        <!-- ãƒãƒ¼ã‚«ãƒ¼ä»˜ãå‡¦ç†å‰ -->
                                        <text
                                            x="30"
                                            y="130"
                                            class="fill-slate-600 font-semibold"
                                            font-size="11"
                                        >
                                            å‡¦ç†å‰:
                                        </text>
                                        <rect
                                            x="30"
                                            y="138"
                                            width="35"
                                            height="24"
                                            fill="#f1f5f9"
                                            stroke="#94a3b8"
                                            stroke-width="1"
                                            rx="2"
                                        />
                                        <text
                                            x="47"
                                            y="153"
                                            text-anchor="middle"
                                            class="fill-slate-600"
                                            font-size="10"
                                        >
                                            [ ]
                                        </text>
                                        <rect
                                            x="70"
                                            y="138"
                                            width="35"
                                            height="24"
                                            fill="#f1f5f9"
                                            stroke="#94a3b8"
                                            stroke-width="1"
                                            rx="2"
                                        />
                                        <text
                                            x="87"
                                            y="153"
                                            text-anchor="middle"
                                            class="fill-slate-600"
                                            font-size="10"
                                        >
                                            [1]
                                        </text>

                                        <!-- å‰å›è¿½åŠ åˆ†ã‚’ãƒã‚¤ãƒ©ã‚¤ãƒˆ -->
                                        <rect
                                            x="110"
                                            y="138"
                                            width="35"
                                            height="24"
                                            fill="#fef3c7"
                                            stroke="#f59e0b"
                                            stroke-width="2"
                                            rx="2"
                                        />
                                        <text
                                            x="127"
                                            y="153"
                                            text-anchor="middle"
                                            class="fill-amber-800 font-bold"
                                            font-size="10"
                                        >
                                            [2]
                                        </text>
                                        <text
                                            x="127"
                                            y="170"
                                            text-anchor="middle"
                                            class="fill-amber-600"
                                            font-size="8"
                                        >
                                            å‰å›åˆ†
                                        </text>

                                        <rect
                                            x="150"
                                            y="138"
                                            width="42"
                                            height="24"
                                            fill="#fef3c7"
                                            stroke="#f59e0b"
                                            stroke-width="2"
                                            rx="2"
                                        />
                                        <text
                                            x="171"
                                            y="153"
                                            text-anchor="middle"
                                            class="fill-amber-800 font-bold"
                                            font-size="10"
                                        >
                                            [1,2]
                                        </text>
                                        <text
                                            x="171"
                                            y="170"
                                            text-anchor="middle"
                                            class="fill-amber-600"
                                            font-size="8"
                                        >
                                            å‰å›åˆ†
                                        </text>
                                        <!-- çŸ¢å° -->
                                        <path
                                            d="M 200 150 L 240 150"
                                            stroke="#ef4444"
                                            stroke-width="2"
                                            fill="none"
                                            marker-end="url(#arrowhead4)"
                                        />
                                        <text
                                            x="220"
                                            y="140"
                                            text-anchor="middle"
                                            class="fill-red-600 font-semibold"
                                            font-size="9"
                                        >
                                            å‰å›åˆ†ã®ã¿
                                        </text>

                                        <!-- å‡¦ç†å¾Œ -->
                                        <text
                                            x="250"
                                            y="130"
                                            class="fill-slate-600 font-semibold"
                                            font-size="11"
                                        >
                                            å‡¦ç†å¾Œ:
                                        </text>
                                        <rect
                                            x="250"
                                            y="138"
                                            width="35"
                                            height="24"
                                            fill="#dcfce7"
                                            stroke="#10b981"
                                            stroke-width="1"
                                            rx="2"
                                        />
                                        <text
                                            x="267"
                                            y="153"
                                            text-anchor="middle"
                                            class="fill-emerald-700"
                                            font-size="10"
                                        >
                                            [ ]
                                        </text>
                                        <rect
                                            x="290"
                                            y="138"
                                            width="35"
                                            height="24"
                                            fill="#dcfce7"
                                            stroke="#10b981"
                                            stroke-width="1"
                                            rx="2"
                                        />
                                        <text
                                            x="307"
                                            y="153"
                                            text-anchor="middle"
                                            class="fill-emerald-700"
                                            font-size="10"
                                        >
                                            [1]
                                        </text>
                                        <rect
                                            x="330"
                                            y="138"
                                            width="35"
                                            height="24"
                                            fill="#dcfce7"
                                            stroke="#10b981"
                                            stroke-width="1"
                                            rx="2"
                                        />
                                        <text
                                            x="347"
                                            y="153"
                                            text-anchor="middle"
                                            class="fill-emerald-700"
                                            font-size="10"
                                        >
                                            [2]
                                        </text>

                                        <rect
                                            x="250"
                                            y="168"
                                            width="42"
                                            height="24"
                                            fill="#dcfce7"
                                            stroke="#10b981"
                                            stroke-width="1"
                                            rx="2"
                                        />
                                        <text
                                            x="271"
                                            y="183"
                                            text-anchor="middle"
                                            class="fill-emerald-700"
                                            font-size="10"
                                        >
                                            [1,2]
                                        </text>
                                        <rect
                                            x="297"
                                            y="168"
                                            width="42"
                                            height="24"
                                            fill="#fee2e2"
                                            stroke="#ef4444"
                                            stroke-width="2"
                                            rx="2"
                                        />
                                        <text
                                            x="318"
                                            y="183"
                                            text-anchor="middle"
                                            class="fill-red-800 font-bold"
                                            font-size="10"
                                        >
                                            [2,2]
                                        </text>
                                        <text
                                            x="318"
                                            y="200"
                                            text-anchor="middle"
                                            class="fill-red-600"
                                            font-size="8"
                                        >
                                            æ–°è¦
                                        </text>

                                        <rect
                                            x="344"
                                            y="168"
                                            width="50"
                                            height="24"
                                            fill="#fee2e2"
                                            stroke="#ef4444"
                                            stroke-width="2"
                                            rx="2"
                                        />
                                        <text
                                            x="369"
                                            y="183"
                                            text-anchor="middle"
                                            class="fill-red-800 font-bold"
                                            font-size="10"
                                        >
                                            [1,2,2]
                                        </text>
                                        <text
                                            x="369"
                                            y="200"
                                            text-anchor="middle"
                                            class="fill-red-600"
                                            font-size="8"
                                        >
                                            æ–°è¦
                                        </text>

                                        <!-- æƒ…å ±ãƒœãƒƒã‚¯ã‚¹ -->
                                        <rect
                                            x="30"
                                            y="230"
                                            width="340"
                                            height="85"
                                            fill="#fef2f2"
                                            stroke="#ef4444"
                                            stroke-width="2"
                                            rx="6"
                                        />
                                        <text
                                            x="200"
                                            y="255"
                                            text-anchor="middle"
                                            class="fill-red-900 font-bold"
                                            font-size="13"
                                        >
                                            é‡è¤‡æ¤œå‡º: 2 == 2
                                        </text>
                                        <text
                                            x="200"
                                            y="275"
                                            text-anchor="middle"
                                            class="fill-red-800"
                                            font-size="12"
                                        >
                                            å‰å›è¿½åŠ åˆ†ã®ã¿æ‹¡å¼µ (prev_size..size-1)
                                        </text>
                                        <text
                                            x="200"
                                            y="295"
                                            text-anchor="middle"
                                            class="fill-red-700"
                                            font-size="11"
                                        >
                                            start = prev_size = 2, size = 4, new_prev_size = 4
                                        </text>

                                        <defs>
                                            <marker
                                                id="arrowhead4"
                                                markerWidth="10"
                                                markerHeight="10"
                                                refX="9"
                                                refY="3"
                                                orient="auto"
                                            >
                                                <polygon points="0 0, 10 3, 0 6" fill="#ef4444" />
                                            </marker>
                                        </defs>
                                    </svg>
                                </div>

                                <!-- ã‚¹ãƒ†ãƒ¼ã‚¸ 5 -->
                                <div class="svg-stage" data-stage="5">
                                    <svg viewBox="0 0 400 340" class="w-full h-auto">
                                        <text
                                            x="200"
                                            y="30"
                                            text-anchor="middle"
                                            class="fill-slate-700 font-bold"
                                            font-size="18"
                                        >
                                            ã‚¹ãƒ†ãƒ¼ã‚¸ 5: å®Œäº†!
                                        </text>

                                        <!-- æˆåŠŸãƒãƒƒã‚¸ -->
                                        <rect
                                            x="100"
                                            y="50"
                                            width="200"
                                            height="50"
                                            fill="#dcfce7"
                                            stroke="#10b981"
                                            stroke-width="3"
                                            rx="8"
                                        />
                                        <text
                                            x="200"
                                            y="80"
                                            text-anchor="middle"
                                            class="fill-emerald-800 font-bold"
                                            font-size="16"
                                        >
                                            âœ“ å…¨ã¦ã®ä¸€æ„ãªéƒ¨åˆ†é›†åˆ
                                        </text>

                                        <!-- æœ€çµ‚çµæœ -->
                                        <text
                                            x="200"
                                            y="130"
                                            text-anchor="middle"
                                            class="fill-slate-700 font-semibold"
                                            font-size="14"
                                        >
                                            æœ€çµ‚çµæœ (6å€‹ã®éƒ¨åˆ†é›†åˆ):
                                        </text>

                                        <!-- è¡Œ 1 -->
                                        <rect
                                            x="50"
                                            y="150"
                                            width="45"
                                            height="35"
                                            fill="#dcfce7"
                                            stroke="#10b981"
                                            stroke-width="2"
                                            rx="4"
                                        />
                                        <text
                                            x="72"
                                            y="172"
                                            text-anchor="middle"
                                            class="fill-emerald-800 font-semibold"
                                            font-size="13"
                                        >
                                            [ ]
                                        </text>

                                        <rect
                                            x="105"
                                            y="150"
                                            width="45"
                                            height="35"
                                            fill="#dcfce7"
                                            stroke="#10b981"
                                            stroke-width="2"
                                            rx="4"
                                        />
                                        <text
                                            x="127"
                                            y="172"
                                            text-anchor="middle"
                                            class="fill-emerald-800 font-semibold"
                                            font-size="13"
                                        >
                                            [1]
                                        </text>

                                        <rect
                                            x="160"
                                            y="150"
                                            width="45"
                                            height="35"
                                            fill="#dcfce7"
                                            stroke="#10b981"
                                            stroke-width="2"
                                            rx="4"
                                        />
                                        <text
                                            x="182"
                                            y="172"
                                            text-anchor="middle"
                                            class="fill-emerald-800 font-semibold"
                                            font-size="13"
                                        >
                                            [2]
                                        </text>

                                        <!-- è¡Œ 2 -->
                                        <rect
                                            x="80"
                                            y="195"
                                            width="55"
                                            height="35"
                                            fill="#dcfce7"
                                            stroke="#10b981"
                                            stroke-width="2"
                                            rx="4"
                                        />
                                        <text
                                            x="107"
                                            y="217"
                                            text-anchor="middle"
                                            class="fill-emerald-800 font-semibold"
                                            font-size="13"
                                        >
                                            [1,2]
                                        </text>

                                        <rect
                                            x="145"
                                            y="195"
                                            width="55"
                                            height="35"
                                            fill="#dcfce7"
                                            stroke="#10b981"
                                            stroke-width="2"
                                            rx="4"
                                        />
                                        <text
                                            x="172"
                                            y="217"
                                            text-anchor="middle"
                                            class="fill-emerald-800 font-semibold"
                                            font-size="13"
                                        >
                                            [2, 2]
                                        </text>

                                        <rect
                                            x="210"
                                            y="195"
                                            width="65"
                                            height="35"
                                            fill="#dcfce7"
                                            stroke="#10b981"
                                            stroke-width="2"
                                            rx="4"
                                        />
                                        <text
                                            x="242"
                                            y="217"
                                            text-anchor="middle"
                                            class="fill-emerald-800 font-semibold"
                                            font-size="13"
                                        >
                                            [1,2,2]
                                        </text>

                                        <!-- çµ±è¨ˆ -->
                                        <rect
                                            x="50"
                                            y="250"
                                            width="300"
                                            height="70"
                                            fill="#f0fdfa"
                                            stroke="#14b8a6"
                                            stroke-width="2"
                                            rx="6"
                                        />
                                        <text
                                            x="200"
                                            y="275"
                                            text-anchor="middle"
                                            class="fill-teal-900 font-bold"
                                            font-size="13"
                                        >
                                            ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ å®Œäº†
                                        </text>
                                        <text
                                            x="200"
                                            y="295"
                                            text-anchor="middle"
                                            class="fill-teal-800"
                                            font-size="12"
                                        >
                                            æ™‚é–“è¨ˆç®—é‡: O(nÂ·2^n) | ç©ºé–“è¨ˆç®—é‡: O(1) è¿½åŠ åˆ†
                                        </text>
                                        <text
                                            x="200"
                                            y="312"
                                            text-anchor="middle"
                                            class="fill-teal-700"
                                            font-size="11"
                                        >
                                            é‡è¤‡ãªã—ã€å…¨ã¦ã®ä¸€æ„ãªçµ„ã¿åˆã‚ã›ã‚’ç”Ÿæˆ
                                        </text>
                                    </svg>
                                </div>
                            </div>
                        </div>

                        <!-- Controls -->
                        <div class="mt-6 flex flex-wrap gap-3 justify-center">
                            <button
                                class="control-btn px-6 py-3 bg-emerald-500 text-white rounded-lg font-semibold shadow-md hover:bg-emerald-600 focus:outline-none focus:ring-2 focus:ring-emerald-400 focus:ring-offset-2"
                                data-action="play"
                                aria-label="è‡ªå‹•å†ç”Ÿ"
                            >
                                â–¶ Play
                            </button>
                            <button
                                class="control-btn px-6 py-3 bg-sky-500 text-white rounded-lg font-semibold shadow-md hover:bg-sky-600 focus:outline-none focus:ring-2 focus:ring-sky-400 focus:ring-offset-2"
                                data-action="prev"
                                aria-label="å‰ã®ã‚¹ãƒ†ãƒƒãƒ—"
                            >
                                â† Prev
                            </button>
                            <button
                                class="control-btn px-6 py-3 bg-sky-500 text-white rounded-lg font-semibold shadow-md hover:bg-sky-600 focus:outline-none focus:ring-2 focus:ring-sky-400 focus:ring-offset-2"
                                data-action="next"
                                aria-label="æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—"
                            >
                                Next â†’
                            </button>
                            <button
                                class="control-btn px-6 py-3 bg-slate-500 text-white rounded-lg font-semibold shadow-md hover:bg-slate-600 focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2"
                                data-action="reset"
                                aria-label="ãƒªã‚»ãƒƒãƒˆ"
                            >
                                â†º Reset
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Code Section -->
            <section id="code" class="bg-white rounded-2xl shadow-lg border border-slate-200 p-8">
                <h2 class="text-3xl font-bold text-slate-800 mb-6 flex items-center gap-3">
                    <span class="text-purple-500">ğŸ’»</span>
                    Pythonå®Ÿè£…ï¼ˆLeetCodeå½¢å¼ï¼‰
                </h2>

                <div class="prose prose-slate max-w-none mb-6">
                    <p class="text-slate-700">
                        ä»¥ä¸‹ã¯
                        <strong>class Solution</strong>
                        å½¢å¼ã®å®Ÿè£…ã§ã™ã€‚å‹æ³¨é‡ˆå®Œå‚™ã§ã€Pylance ã§ã®é™çš„è§£æã«å¯¾å¿œã—ã¦ã„ã¾ã™ã€‚
                    </p>
                </div>

                <pre class="line-numbers"><code class="language-python">from typing import List
class Solution:
"""
LeetCode 90: Subsets II
é‡è¤‡è¦ç´ ã‚’å«ã‚€é…åˆ—ã‹ã‚‰ãƒ¦ãƒ‹ãƒ¼ã‚¯ãªå…¨éƒ¨åˆ†é›†åˆã‚’ç”Ÿæˆ
åå¾©çš„æ‹¡å¼µæ³• + prev_size ã«ã‚ˆã‚‹é‡è¤‡åˆ¶å¾¡
Time: O(nÂ·2^n), Space: O(1) extra (excluding output)
"""

def subsetsWithDup(self, nums: List[int]) -> List[List[int]]:
    """
    é‡è¤‡è¦ç´ ã‚’å«ã‚€é…åˆ—ã‹ã‚‰ãƒ¦ãƒ‹ãƒ¼ã‚¯ãªå…¨éƒ¨åˆ†é›†åˆã‚’è¿”ã™

    Args:
        nums: æ•´æ•°é…åˆ—ï¼ˆé‡è¤‡ã‚’å«ã‚€å¯èƒ½æ€§ã‚ã‚Šï¼‰

    Returns:
        é‡è¤‡ã®ãªã„ã™ã¹ã¦ã®éƒ¨åˆ†é›†åˆã®ãƒªã‚¹ãƒˆ

    Examples:
        >>> Solution().subsetsWithDup([1,2,2])
        [[], [1], [1,2], [1,2,2], [2], [2,2]]

        >>> Solution().subsetsWithDup([0])
        [[], [0]]
    """
    # ã‚¹ãƒ†ãƒƒãƒ—1: ã‚½ãƒ¼ãƒˆã—ã¦åŒå€¤ã‚’éš£æ¥ã•ã›ã‚‹
    # ã“ã‚Œã«ã‚ˆã‚Šé‡è¤‡åˆ¤å®šãŒ O(1) ã§å¯èƒ½ã«ãªã‚‹
    arr: List[int] = sorted(nums)

    # ã‚¹ãƒ†ãƒƒãƒ—2: ç©ºé›†åˆã§åˆæœŸåŒ–
    res: List[List[int]] = [[]]

    # prev_size: ç›´å‰ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³é–‹å§‹æ™‚ã® res ã®é•·ã•
    # é‡è¤‡è¦ç´ ã®æ‹¡å¼µç¯„å›²ã‚’åˆ¶å¾¡ã™ã‚‹ãŸã‚ã«ä½¿ç”¨
    prev_size: int = 0

    # ã‚¹ãƒ†ãƒƒãƒ—3: å„è¦ç´ ã«ã¤ã„ã¦éƒ¨åˆ†é›†åˆã‚’æ‹¡å¼µ
    for i, v in enumerate(arr):
        # ç¾åœ¨ã®éƒ¨åˆ†é›†åˆæ•°ã‚’ä¿å­˜
        size: int = len(res)

        # ã‚¹ãƒ†ãƒƒãƒ—4: æ‹¡å¼µé–‹å§‹ä½ç½®ã‚’æ±ºå®š
        # é‡è¤‡è¦ç´ ãªã‚‰å‰å›è¿½åŠ åˆ†ã®ã¿æ‹¡å¼µã€ãã†ã§ãªã‘ã‚Œã°å…¨ä½“ã‚’æ‹¡å¼µ
        if i > 0 and v == arr[i - 1]:
            # é‡è¤‡: å‰å›ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã§è¿½åŠ ã•ã‚ŒãŸéƒ¨åˆ†ã®ã¿æ‹¡å¼µ
            start: int = prev_size
        else:
            # æ–°è¦è¦ç´ : ã™ã¹ã¦ã®æ—¢å­˜éƒ¨åˆ†é›†åˆã‚’æ‹¡å¼µ
            start = 0

        # ã‚¹ãƒ†ãƒƒãƒ—5: éƒ¨åˆ†é›†åˆã‚’æ‹¡å¼µ
        # start ã‹ã‚‰ size-1 ã¾ã§ã®å„éƒ¨åˆ†é›†åˆã« v ã‚’è¿½åŠ 
        for j in range(start, size):
            base = res[j]
            # Python ã® list é€£çµã¯ C å®Ÿè£…ã§é«˜é€Ÿ
            res.append(base + [v])

        # ã‚¹ãƒ†ãƒƒãƒ—6: æ¬¡å›ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ç”¨ã«ç¾åœ¨ã®ã‚µã‚¤ã‚ºã‚’ä¿å­˜
        prev_size = size

    return res</code></pre>
            </section>

            <!-- Diagram Section -->
            <section
                id="diagram"
                class="bg-white rounded-2xl shadow-lg border border-slate-200 p-8"
            >
                <h2 class="text-3xl font-bold text-slate-800 mb-6 flex items-center gap-3">
                    <span class="text-indigo-500">ğŸ“Š</span>
                    è¦–è¦šçš„å›³è§£ãƒ»ãƒ•ãƒ­ãƒ¼ãƒãƒ£ãƒ¼ãƒˆ
                </h2>

                <div class="space-y-8">
                    <!-- Algorithm Flow -->
                    <div class="container">
                        <h1>Subsets II ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ãƒ•ãƒ­ãƒ¼</h1>
                        <p class="subtitle">é‡è¤‡è¦ç´ ã‚’å«ã‚€é…åˆ—ã‹ã‚‰é‡è¤‡ãªã—ã®å…¨éƒ¨åˆ†é›†åˆã‚’ç”Ÿæˆ</p>
                        <!-- prettier-ignore-start -->
                        <pre class="mermaid">
              flowchart TD
    Start([é–‹å§‹: subsetsWithDup]) --> Sort["é…åˆ—ã‚’ã‚½ãƒ¼ãƒˆ<br/>arr = sorted(nums)"]
    Sort --> Init["çµæœã‚’åˆæœŸåŒ–<br/>res = [[]]<br/>prev_size = 0"]
    Init --> LoopCheck{"é…åˆ—ã®å…¨è¦ç´ ã‚’<br/>å‡¦ç†ã—ãŸã‹?"}

    LoopCheck -->|No| GetElement["ç¾åœ¨ã®è¦ç´  v ã‚’å–å¾—<br/>iç•ªç›®ã®è¦ç´ "]
    LoopCheck -->|Yes| Return([çµæœã‚’è¿”ã™: res])

    GetElement --> SaveSize["ç¾åœ¨ã®ã‚µã‚¤ã‚ºã‚’ä¿å­˜<br/>size = len(res)"]
    SaveSize --> DupCheck{"é‡è¤‡è¦ç´ ã‹?<br/>i > 0 ã‹ã¤<br/>v == arr[i-1]"}

    DupCheck -->|Yes| SetStartPrev["æ‹¡å¼µé–‹å§‹ä½ç½®ã‚’è¨­å®š<br/>start = prev_size<br/>å‰å›è¿½åŠ åˆ†ã®ã¿æ‹¡å¼µ"]
    DupCheck -->|No| SetStartZero["æ‹¡å¼µé–‹å§‹ä½ç½®ã‚’è¨­å®š<br/>start = 0<br/>å…¨ä½“ã‚’æ‹¡å¼µ"]

    SetStartPrev --> InnerLoop["å†…å´ãƒ«ãƒ¼ãƒ—é–‹å§‹<br/>j = start to size-1"]
    SetStartZero --> InnerLoop

    InnerLoop --> InnerCheck{"j < size?"}

    InnerCheck -->|Yes| CreateSubset["æ–°ã—ã„éƒ¨åˆ†é›†åˆã‚’ä½œæˆ<br/>base = res[j]<br/>new = base + [v]"]
    InnerCheck -->|No| UpdatePrev["prev_sizeã‚’æ›´æ–°<br/>prev_size = size"]

    CreateSubset --> AppendRes["çµæœã«è¿½åŠ <br/>res.append(new)"]
    AppendRes --> IncrJ["j++"]
    IncrJ --> InnerCheck

    UpdatePrev --> IncrI["i++"]
    IncrI --> LoopCheck

    style Start fill:#e1f5e1
    style Return fill:#e1f5e1
    style DupCheck fill:#fff4e1
    style LoopCheck fill:#fff4e1
    style InnerCheck fill:#fff4e1
    style CreateSubset fill:#e1e5f5
    style AppendRes fill:#e1e5f5
    style Sort fill:#f5e1e1
            </pre>
                        <!-- prettier-ignore-end -->

                        <div class="info">
                            <h3>ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®ç‰¹å¾´</h3>
                            <ul>
                                <li>
                                    <strong>æ™‚é–“è¨ˆç®—é‡:</strong> O(nÂ·2^n) -
                                    nå€‹ã®è¦ç´ ã‹ã‚‰2^nå€‹ã®éƒ¨åˆ†é›†åˆã‚’ç”Ÿæˆ
                                </li>
                                <li><strong>ç©ºé–“è¨ˆç®—é‡:</strong> O(1) è¿½åŠ ç©ºé–“ï¼ˆå‡ºåŠ›ã‚’é™¤ãï¼‰</li>
                                <li>
                                    <strong>é‡è¤‡æ’é™¤ã®ä»•çµ„ã¿:</strong>
                                    ã‚½ãƒ¼ãƒˆå¾Œã€é‡è¤‡è¦ç´ ã¯å‰å›è¿½åŠ åˆ†ã®ã¿ã‚’æ‹¡å¼µã™ã‚‹ã“ã¨ã§é‡è¤‡ã‚’é˜²ã
                                </li>
                                <li>
                                    <strong>prev_sizeã®å½¹å‰²:</strong>
                                    å‰å›ã®ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³é–‹å§‹æ™‚ç‚¹ã§ã®resã®ã‚µã‚¤ã‚ºã‚’è¨˜éŒ²ã—ã€é‡è¤‡è¦ç´ æ™‚ã®æ‹¡å¼µç¯„å›²ã‚’åˆ¶é™
                                </li>
                            </ul>

                            <h3>å‡¦ç†ä¾‹: [1, 2, 2]</h3>
                            <ul>
                                <li>åˆæœŸ: res = [[]]</li>
                                <li>è¦ç´ 1è¿½åŠ : res = [[], [1]]</li>
                                <li>è¦ç´ 2(1ã¤ç›®)è¿½åŠ : res = [[], [1], [2], [1,2]]</li>
                                <li>
                                    è¦ç´ 2(2ã¤ç›®ãƒ»é‡è¤‡)è¿½åŠ : res = [[], [1], [2], [1,2], [2,2],
                                    [1,2,2]]
                                </li>
                            </ul>
                        </div>
                    </div>

                    <!-- Data Flow -->
                    <div>
                        <h3 class="text-xl font-bold text-slate-800 mb-4">ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼</h3>
                        <div class="bg-slate-50 rounded-xl p-6 border border-slate-200">
                            <svg viewBox="0 0 700 280" class="w-full h-auto">
                                <!-- å…¥åŠ›ãƒ•ã‚§ãƒ¼ã‚º -->
                                <rect
                                    x="20"
                                    y="20"
                                    width="160"
                                    height="240"
                                    fill="#fef3c7"
                                    stroke="#f59e0b"
                                    stroke-width="2"
                                    rx="8"
                                />
                                <text
                                    x="100"
                                    y="45"
                                    text-anchor="middle"
                                    class="fill-amber-900 font-bold"
                                    font-size="14"
                                >
                                    å…¥åŠ›ãƒ•ã‚§ãƒ¼ã‚º
                                </text>

                                <rect
                                    x="40"
                                    y="70"
                                    width="120"
                                    height="40"
                                    fill="#fff"
                                    stroke="#f59e0b"
                                    stroke-width="1.5"
                                    rx="4"
                                />
                                <text
                                    x="100"
                                    y="95"
                                    text-anchor="middle"
                                    class="fill-amber-800 font-semibold"
                                    font-size="12"
                                >
                                    é…åˆ—ã‚’å…¥åŠ›
                                </text>

                                <path
                                    d="M 100 110 L 100 130"
                                    stroke="#f59e0b"
                                    stroke-width="2"
                                    fill="none"
                                    marker-end="url(#arrow-amber)"
                                />

                                <rect
                                    x="40"
                                    y="130"
                                    width="120"
                                    height="40"
                                    fill="#fff"
                                    stroke="#f59e0b"
                                    stroke-width="1.5"
                                    rx="4"
                                />
                                <text
                                    x="100"
                                    y="155"
                                    text-anchor="middle"
                                    class="fill-amber-800 font-semibold"
                                    font-size="12"
                                >
                                    é…åˆ—ã‚’ã‚½ãƒ¼ãƒˆ
                                </text>

                                <!-- åˆæœŸåŒ–ãƒ•ã‚§ãƒ¼ã‚º -->
                                <rect
                                    x="210"
                                    y="20"
                                    width="160"
                                    height="240"
                                    fill="#dbeafe"
                                    stroke="#3b82f6"
                                    stroke-width="2"
                                    rx="8"
                                />
                                <text
                                    x="290"
                                    y="45"
                                    text-anchor="middle"
                                    class="fill-blue-900 font-bold"
                                    font-size="14"
                                >
                                    åˆæœŸåŒ–
                                </text>

                                <rect
                                    x="230"
                                    y="70"
                                    width="120"
                                    height="40"
                                    fill="#fff"
                                    stroke="#3b82f6"
                                    stroke-width="1.5"
                                    rx="4"
                                />
                                <text
                                    x="290"
                                    y="90"
                                    text-anchor="middle"
                                    class="fill-blue-800 font-semibold"
                                    font-size="11"
                                >
                                    çµæœ = [[]]
                                </text>
                                <text
                                    x="290"
                                    y="102"
                                    text-anchor="middle"
                                    class="fill-blue-700"
                                    font-size="10"
                                >
                                    ç©ºã®éƒ¨åˆ†é›†åˆ
                                </text>

                                <path
                                    d="M 290 110 L 290 130"
                                    stroke="#3b82f6"
                                    stroke-width="2"
                                    fill="none"
                                    marker-end="url(#arrow-blue)"
                                />

                                <rect
                                    x="230"
                                    y="130"
                                    width="120"
                                    height="40"
                                    fill="#fff"
                                    stroke="#3b82f6"
                                    stroke-width="1.5"
                                    rx="4"
                                />
                                <text
                                    x="290"
                                    y="150"
                                    text-anchor="middle"
                                    class="fill-blue-800 font-semibold"
                                    font-size="11"
                                >
                                    prev_size = 0
                                </text>
                                <text
                                    x="290"
                                    y="162"
                                    text-anchor="middle"
                                    class="fill-blue-700"
                                    font-size="10"
                                >
                                    ã‚«ã‚¦ãƒ³ã‚¿ã‚’åˆæœŸåŒ–
                                </text>

                                <!-- åå¾©ãƒ•ã‚§ãƒ¼ã‚º -->
                                <rect
                                    x="400"
                                    y="20"
                                    width="180"
                                    height="240"
                                    fill="#f3e8ff"
                                    stroke="#a855f7"
                                    stroke-width="2"
                                    rx="8"
                                />
                                <text
                                    x="490"
                                    y="45"
                                    text-anchor="middle"
                                    class="fill-purple-900 font-bold"
                                    font-size="14"
                                >
                                    åå¾©å‡¦ç†
                                </text>

                                <rect
                                    x="420"
                                    y="70"
                                    width="140"
                                    height="35"
                                    fill="#fff"
                                    stroke="#a855f7"
                                    stroke-width="1.5"
                                    rx="4"
                                />
                                <text
                                    x="490"
                                    y="92"
                                    text-anchor="middle"
                                    class="fill-purple-800 font-semibold"
                                    font-size="11"
                                >
                                    å„è¦ç´  v ã«ã¤ã„ã¦
                                </text>

                                <path
                                    d="M 490 105 L 490 120"
                                    stroke="#a855f7"
                                    stroke-width="2"
                                    fill="none"
                                    marker-end="url(#arrow-purple)"
                                />

                                <polygon
                                    points="490,120 540,145 490,170 440,145"
                                    fill="#fef3c7"
                                    stroke="#f59e0b"
                                    stroke-width="1.5"
                                />
                                <text
                                    x="490"
                                    y="148"
                                    text-anchor="middle"
                                    class="fill-amber-800 font-semibold"
                                    font-size="10"
                                >
                                    é‡è¤‡ï¼Ÿ
                                </text>

                                <path
                                    d="M 440 145 L 420 145 L 420 190 L 440 190"
                                    stroke="#ef4444"
                                    stroke-width="1.5"
                                    fill="none"
                                    marker-end="url(#arrow-red)"
                                />
                                <text
                                    x="410"
                                    y="168"
                                    text-anchor="end"
                                    class="fill-red-600"
                                    font-size="9"
                                >
                                    ã¯ã„
                                </text>
                                <rect
                                    x="440"
                                    y="180"
                                    width="100"
                                    height="30"
                                    fill="#fee2e2"
                                    stroke="#ef4444"
                                    stroke-width="1.5"
                                    rx="4"
                                />
                                <text
                                    x="490"
                                    y="200"
                                    text-anchor="middle"
                                    class="fill-red-800"
                                    font-size="10"
                                >
                                    å‰å›åˆ†ã‚’æ‹¡å¼µ
                                </text>

                                <path
                                    d="M 540 145 L 560 145 L 560 220 L 540 220"
                                    stroke="#10b981"
                                    stroke-width="1.5"
                                    fill="none"
                                    marker-end="url(#arrow-green)"
                                />
                                <text
                                    x="570"
                                    y="183"
                                    text-anchor="start"
                                    class="fill-emerald-600"
                                    font-size="9"
                                >
                                    ã„ã„ãˆ
                                </text>
                                <rect
                                    x="440"
                                    y="215"
                                    width="100"
                                    height="30"
                                    fill="#dcfce7"
                                    stroke="#10b981"
                                    stroke-width="1.5"
                                    rx="4"
                                />
                                <text
                                    x="490"
                                    y="235"
                                    text-anchor="middle"
                                    class="fill-emerald-800"
                                    font-size="10"
                                >
                                    å…¨ã¦ã‚’æ‹¡å¼µ
                                </text>

                                <!-- å‡ºåŠ›ãƒ•ã‚§ãƒ¼ã‚º -->
                                <rect
                                    x="610"
                                    y="20"
                                    width="80"
                                    height="240"
                                    fill="#dcfce7"
                                    stroke="#10b981"
                                    stroke-width="2"
                                    rx="8"
                                />
                                <text
                                    x="650"
                                    y="45"
                                    text-anchor="middle"
                                    class="fill-emerald-900 font-bold"
                                    font-size="14"
                                >
                                    å‡ºåŠ›
                                </text>

                                <rect
                                    x="620"
                                    y="100"
                                    width="60"
                                    height="60"
                                    fill="#fff"
                                    stroke="#10b981"
                                    stroke-width="1.5"
                                    rx="4"
                                />
                                <text
                                    x="650"
                                    y="125"
                                    text-anchor="middle"
                                    class="fill-emerald-800 font-semibold"
                                    font-size="11"
                                >
                                    è¿”å´
                                </text>
                                <text
                                    x="650"
                                    y="140"
                                    text-anchor="middle"
                                    class="fill-emerald-700"
                                    font-size="10"
                                >
                                    å…¨ã¦ã®ä¸€æ„ãª
                                </text>
                                <text
                                    x="650"
                                    y="152"
                                    text-anchor="middle"
                                    class="fill-emerald-700"
                                    font-size="10"
                                >
                                    éƒ¨åˆ†é›†åˆ
                                </text>

                                <!-- æ¥ç¶šç·š -->
                                <path
                                    d="M 180 150 L 210 150"
                                    stroke="#64748b"
                                    stroke-width="2"
                                    fill="none"
                                    marker-end="url(#arrow-gray)"
                                />
                                <path
                                    d="M 370 150 L 400 150"
                                    stroke="#64748b"
                                    stroke-width="2"
                                    fill="none"
                                    marker-end="url(#arrow-gray)"
                                />
                                <path
                                    d="M 580 200 L 610 150"
                                    stroke="#64748b"
                                    stroke-width="2"
                                    fill="none"
                                    marker-end="url(#arrow-gray)"
                                />

                                <defs>
                                    <marker
                                        id="arrow-amber"
                                        markerWidth="10"
                                        markerHeight="10"
                                        refX="9"
                                        refY="3"
                                        orient="auto"
                                    >
                                        <polygon points="0 0, 10 3, 0 6" fill="#f59e0b" />
                                    </marker>
                                    <marker
                                        id="arrow-blue"
                                        markerWidth="10"
                                        markerHeight="10"
                                        refX="9"
                                        refY="3"
                                        orient="auto"
                                    >
                                        <polygon points="0 0, 10 3, 0 6" fill="#3b82f6" />
                                    </marker>
                                    <marker
                                        id="arrow-purple"
                                        markerWidth="10"
                                        markerHeight="10"
                                        refX="9"
                                        refY="3"
                                        orient="auto"
                                    >
                                        <polygon points="0 0, 10 3, 0 6" fill="#a855f7" />
                                    </marker>
                                    <marker
                                        id="arrow-red"
                                        markerWidth="10"
                                        markerHeight="10"
                                        refX="9"
                                        refY="3"
                                        orient="auto"
                                    >
                                        <polygon points="0 0, 10 3, 0 6" fill="#ef4444" />
                                    </marker>
                                    <marker
                                        id="arrow-green"
                                        markerWidth="10"
                                        markerHeight="10"
                                        refX="9"
                                        refY="3"
                                        orient="auto"
                                    >
                                        <polygon points="0 0, 10 3, 0 6" fill="#10b981" />
                                    </marker>
                                    <marker
                                        id="arrow-gray"
                                        markerWidth="10"
                                        markerHeight="10"
                                        refX="9"
                                        refY="3"
                                        orient="auto"
                                    >
                                        <polygon points="0 0, 10 3, 0 6" fill="#64748b" />
                                    </marker>
                                </defs>
                            </svg>
                        </div>
                        <p class="text-sm text-slate-600 mt-3">
                            å…¥åŠ›ã®ã‚½ãƒ¼ãƒˆã¨åˆæœŸåŒ–å¾Œã€å„è¦ç´ ã‚’é †æ¬¡å‡¦ç†ã€‚é‡è¤‡åˆ¤å®šã«ã‚ˆã‚Šæ‹¡å¼µç¯„å›²ã‚’åˆ¶å¾¡ã—ã€æœ€çµ‚çš„ã«ãƒ¦ãƒ‹ãƒ¼ã‚¯ãªå…¨éƒ¨åˆ†é›†åˆã‚’å‡ºåŠ›ã—ã¾ã™ã€‚
                        </p>
                    </div>
                </div>
            </section>
            <!-- Complexity Section -->
            <section
                id="complexity"
                class="bg-white rounded-2xl shadow-lg border border-slate-200 p-8"
            >
                <h2 class="text-3xl font-bold text-slate-800 mb-6 flex items-center gap-3">
                    <span class="text-amber-500">âš¡</span>
                    è¨ˆç®—é‡èª¬æ˜
                </h2>

                <div class="space-y-6">
                    <div class="grid md:grid-cols-2 gap-6">
                        <!-- Time Complexity -->
                        <div
                            class="bg-gradient-to-br from-emerald-50 to-teal-50 border border-emerald-200 rounded-xl p-6"
                        >
                            <h3
                                class="text-xl font-bold text-emerald-900 mb-4 flex items-center gap-2"
                            >
                                <span>â±ï¸</span>
                                æ™‚é–“è¨ˆç®—é‡
                            </h3>
                            <div class="space-y-3">
                                <div class="bg-white rounded-lg p-4 border border-emerald-100">
                                    <p class="text-3xl font-bold text-emerald-700 text-center mb-2">
                                        O(n Â· 2<sup>n</sup>)
                                    </p>
                                </div>
                                <ul class="space-y-2 text-sm text-slate-700">
                                    <li class="flex items-start gap-2">
                                        <span class="text-emerald-500 font-bold mt-0.5">âœ“</span>
                                        <span><strong>ã‚½ãƒ¼ãƒˆ:</strong> O(n log n) - Timsort</span>
                                    </li>
                                    <li class="flex items-start gap-2">
                                        <span class="text-emerald-500 font-bold mt-0.5">âœ“</span>
                                        <span
                                            ><strong>éƒ¨åˆ†é›†åˆç”Ÿæˆ:</strong> æœ€å¤§ 2<sup>n</sup>
                                            å€‹ã®éƒ¨åˆ†é›†åˆ</span
                                        >
                                    </li>
                                    <li class="flex items-start gap-2">
                                        <span class="text-emerald-500 font-bold mt-0.5">âœ“</span>
                                        <span
                                            ><strong>å„ç”Ÿæˆ:</strong> ãƒªã‚¹ãƒˆã‚³ãƒ”ãƒ¼ã« O(å¹³å‡ã‚µã‚¤ã‚º) â‰ˆ
                                            O(n)</span
                                        >
                                    </li>
                                    <li class="flex items-start gap-2">
                                        <span class="text-emerald-500 font-bold mt-0.5">âœ“</span>
                                        <span
                                            ><strong>æ”¯é…é …:</strong> O(n Â· 2<sup>n</sup>)
                                            ãŒæ”¯é…</span
                                        >
                                    </li>
                                </ul>
                            </div>
                        </div>

                        <!-- Space Complexity -->
                        <div
                            class="bg-gradient-to-br from-sky-50 to-blue-50 border border-sky-200 rounded-xl p-6"
                        >
                            <h3 class="text-xl font-bold text-sky-900 mb-4 flex items-center gap-2">
                                <span>ğŸ’¾</span>
                                ç©ºé–“è¨ˆç®—é‡
                            </h3>
                            <div class="space-y-3">
                                <div class="bg-white rounded-lg p-4 border border-sky-100">
                                    <p class="text-3xl font-bold text-sky-700 text-center mb-2">
                                        O(1)
                                    </p>
                                    <p class="text-sm text-sky-600 text-center">
                                        è¿½åŠ ãƒ¡ãƒ¢ãƒªï¼ˆå‡ºåŠ›é™¤ãï¼‰
                                    </p>
                                </div>
                                <ul class="space-y-2 text-sm text-slate-700">
                                    <li class="flex items-start gap-2">
                                        <span class="text-sky-500 font-bold mt-0.5">âœ“</span>
                                        <span
                                            ><strong>ãƒ­ãƒ¼ã‚«ãƒ«å¤‰æ•°:</strong> prev_size, size, start
                                            ã®ã¿</span
                                        >
                                    </li>
                                    <li class="flex items-start gap-2">
                                        <span class="text-sky-500 font-bold mt-0.5">âœ“</span>
                                        <span><strong>ã‚½ãƒ¼ãƒˆ:</strong> in-placeï¼ˆå®Ÿè³ª O(1)ï¼‰</span>
                                    </li>
                                    <li class="flex items-start gap-2">
                                        <span class="text-sky-500 font-bold mt-0.5">âœ“</span>
                                        <span><strong>å‡ºåŠ›é…åˆ—:</strong> å•é¡Œè¦ä»¶ã®ãŸã‚åˆ¥è¨ˆä¸Š</span>
                                    </li>
                                    <li class="flex items-start gap-2">
                                        <span class="text-sky-500 font-bold mt-0.5">âœ“</span>
                                        <span
                                            ><strong>å†å¸°ãªã—:</strong> ã‚¹ã‚¿ãƒƒã‚¯æ·±åº¦ã®å¿ƒé…ä¸è¦</span
                                        >
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <!-- Comparison Table -->
                    <div class="bg-slate-50 rounded-xl p-6 border border-slate-200">
                        <h3 class="text-lg font-bold text-slate-800 mb-4">ã‚¢ãƒ—ãƒ­ãƒ¼ãƒæ¯”è¼ƒ</h3>
                        <div class="overflow-x-auto">
                            <table class="w-full text-sm">
                                <thead>
                                    <tr class="border-b-2 border-slate-300">
                                        <th class="text-left py-3 px-4 font-bold text-slate-700">
                                            æ‰‹æ³•
                                        </th>
                                        <th class="text-left py-3 px-4 font-bold text-slate-700">
                                            æ™‚é–“
                                        </th>
                                        <th class="text-left py-3 px-4 font-bold text-slate-700">
                                            ç©ºé–“ï¼ˆè¿½åŠ ï¼‰
                                        </th>
                                        <th class="text-left py-3 px-4 font-bold text-slate-700">
                                            ç‰¹å¾´
                                        </th>
                                    </tr>
                                </thead>
                                <tbody class="divide-y divide-slate-200">
                                    <tr class="hover:bg-slate-100">
                                        <td class="py-3 px-4 text-slate-700">å†å¸°ãƒãƒƒã‚¯ãƒˆãƒ©ãƒƒã‚¯</td>
                                        <td class="py-3 px-4 text-slate-700">O(nÂ·2<sup>n</sup>)</td>
                                        <td class="py-3 px-4 text-slate-700">O(n)</td>
                                        <td class="py-3 px-4 text-slate-600">
                                            é–¢æ•°å‘¼ã³å‡ºã—ã‚¹ã‚¿ãƒƒã‚¯æ·±åº¦ n
                                        </td>
                                    </tr>
                                    <tr class="bg-emerald-50 hover:bg-emerald-100">
                                        <td class="py-3 px-4 font-bold text-emerald-800">
                                            åå¾©æ‹¡å¼µï¼ˆæ¡ç”¨ï¼‰
                                        </td>
                                        <td class="py-3 px-4 font-bold text-emerald-800">
                                            O(nÂ·2<sup>n</sup>)
                                        </td>
                                        <td class="py-3 px-4 font-bold text-emerald-800">O(1)</td>
                                        <td class="py-3 px-4 text-emerald-700">
                                            é–¢æ•°å‘¼ã³å‡ºã—ãªã—ã€æœ€å°ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰
                                        </td>
                                    </tr>
                                    <tr class="hover:bg-slate-100">
                                        <td class="py-3 px-4 text-slate-700">ãƒ“ãƒƒãƒˆãƒã‚¹ã‚¯åˆ—æŒ™</td>
                                        <td class="py-3 px-4 text-slate-700">O(nÂ·2<sup>n</sup>)</td>
                                        <td class="py-3 px-4 text-slate-700">O(1)</td>
                                        <td class="py-3 px-4 text-slate-600">
                                            é‡è¤‡æ’é™¤ã«è¿½åŠ ãƒ­ã‚¸ãƒƒã‚¯å¿…è¦
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- Key Points -->
                    <div
                        class="bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-200 rounded-xl p-6"
                    >
                        <h3 class="text-lg font-bold text-purple-900 mb-3 flex items-center gap-2">
                            <span>ğŸ¯</span>
                            è¨ˆç®—é‡ã®ãƒã‚¤ãƒ³ãƒˆ
                        </h3>
                        <ul class="space-y-2 text-slate-700">
                            <li class="flex items-start gap-2">
                                <span class="text-purple-500 font-bold mt-1">â€¢</span>
                                <span
                                    >å‡ºåŠ›ã‚µã‚¤ã‚ºãŒ 2<sup>n</sup> ã®ãŸã‚ã€<strong
                                        >ç†è«–çš„ãªä¸‹é™ã‚‚ O(nÂ·2<sup>n</sup>)</strong
                                    >ã€‚ã“ã‚Œä»¥ä¸Šã®é«˜é€ŸåŒ–ã¯ä¸å¯èƒ½ã€‚</span
                                >
                            </li>
                            <li class="flex items-start gap-2">
                                <span class="text-purple-500 font-bold mt-1">â€¢</span>
                                <span
                                    >æœ¬å®Ÿè£…ã¯
                                    <strong>prev_size ã«ã‚ˆã‚‹ O(1) ã®é‡è¤‡åˆ¤å®š</strong
                                    >ã§ã€è¿½åŠ ãƒ¡ãƒ¢ãƒªã‚’æœ€å°åŒ–ã€‚</span
                                >
                            </li>
                            <li class="flex items-start gap-2">
                                <span class="text-purple-500 font-bold mt-1">â€¢</span>
                                <span
                                    >CPython ã®
                                    <code class="bg-white px-2 py-0.5 rounded text-xs"
                                        >list + [item]</code
                                    >
                                    ã¯ C å®Ÿè£…ã§åŠ¹ç‡çš„ã€‚</span
                                >
                            </li>
                            <li class="flex items-start gap-2">
                                <span class="text-purple-500 font-bold mt-1">â€¢</span>
                                <span
                                    >åˆ¶ç´„ n â‰¤ 10 ã®ãŸã‚ã€æœ€å¤§ 1024
                                    å€‹ã®éƒ¨åˆ†é›†åˆã€‚å®Ÿç”¨ä¸Šååˆ†é«˜é€Ÿã€‚</span
                                >
                            </li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Edge Cases Section -->
            <section
                id="edgecases"
                class="bg-white rounded-2xl shadow-lg border border-slate-200 p-8"
            >
                <h2 class="text-3xl font-bold text-slate-800 mb-6 flex items-center gap-3">
                    <span class="text-rose-500">ğŸ”</span>
                    ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ã¨æ¤œè¨¼è¦³ç‚¹
                </h2>

                <div class="space-y-6">
                    <!-- Boundary Cases -->
                    <div>
                        <h3 class="text-xl font-bold text-slate-800 mb-4">å¢ƒç•Œã‚±ãƒ¼ã‚¹</h3>
                        <div class="grid md:grid-cols-2 gap-4">
                            <div class="bg-rose-50 border border-rose-200 rounded-lg p-4">
                                <h4 class="font-bold text-rose-900 mb-2">æœ€å°å…¥åŠ›</h4>
                                <code class="text-sm text-rose-800 bg-white px-2 py-1 rounded"
                                    >nums = [0]</code
                                >
                                <p class="text-sm text-slate-700 mt-2">
                                    æœŸå¾…å‡ºåŠ›:
                                    <code class="bg-white px-1.5 py-0.5 rounded">[[], [0]]</code>
                                </p>
                            </div>

                            <div class="bg-amber-50 border border-amber-200 rounded-lg p-4">
                                <h4 class="font-bold text-amber-900 mb-2">ã™ã¹ã¦åŒã˜è¦ç´ </h4>
                                <code class="text-sm text-amber-800 bg-white px-2 py-1 rounded"
                                    >nums = [1, 1, 1]</code
                                >
                                <p class="text-sm text-slate-700 mt-2">
                                    æœŸå¾…:
                                    <code class="bg-white px-1.5 py-0.5 rounded"
                                        >[[], [1], [1,1], [1,1,1]]</code
                                    >
                                </p>
                            </div>

                            <div class="bg-emerald-50 border border-emerald-200 rounded-lg p-4">
                                <h4 class="font-bold text-emerald-900 mb-2">ã™ã¹ã¦ç•°ãªã‚‹è¦ç´ </h4>
                                <code class="text-sm text-emerald-800 bg-white px-2 py-1 rounded"
                                    >nums = [1, 2, 3]</code
                                >
                                <p class="text-sm text-slate-700 mt-2">
                                    æœŸå¾…: 2<sup>3</sup> = 8 å€‹ã®éƒ¨åˆ†é›†åˆ
                                </p>
                            </div>

                            <div class="bg-sky-50 border border-sky-200 rounded-lg p-4">
                                <h4 class="font-bold text-sky-900 mb-2">æœ€å¤§é•·</h4>
                                <code class="text-sm text-sky-800 bg-white px-2 py-1 rounded"
                                    >len(nums) = 10</code
                                >
                                <p class="text-sm text-slate-700 mt-2">
                                    æœ€å¤§ 2<sup>10</sup> = 1024 å€‹ã®éƒ¨åˆ†é›†åˆ
                                </p>
                            </div>
                        </div>
                    </div>

                    <!-- Special Cases -->
                    <div>
                        <h3 class="text-xl font-bold text-slate-800 mb-4">ç‰¹æ®Šã‚±ãƒ¼ã‚¹</h3>
                        <div class="space-y-3">
                            <div class="bg-purple-50 border-l-4 border-purple-500 p-4 rounded">
                                <h4 class="font-bold text-purple-900 mb-1">è² ã®æ•°ã‚’å«ã‚€</h4>
                                <code class="text-sm text-purple-800">nums = [-1, 0, 1, 1]</code>
                                <p class="text-sm text-slate-700 mt-2">
                                    ã‚½ãƒ¼ãƒˆã®æ­£ã—ã•ã€è² æ•°å‡¦ç†ã®ç¢ºèª
                                </p>
                            </div>

                            <div class="bg-indigo-50 border-l-4 border-indigo-500 p-4 rounded">
                                <h4 class="font-bold text-indigo-900 mb-1">é€£ç¶šã™ã‚‹é‡è¤‡</h4>
                                <code class="text-sm text-indigo-800">nums = [1, 1, 2, 2]</code>
                                <p class="text-sm text-slate-700 mt-2">
                                    è¤‡æ•°ã®é‡è¤‡ã‚°ãƒ«ãƒ¼ãƒ—ã®å‡¦ç†ç¢ºèª
                                </p>
                            </div>

                            <div class="bg-teal-50 border-l-4 border-teal-500 p-4 rounded">
                                <h4 class="font-bold text-teal-900 mb-1">é‡è¤‡ãŒæœ«å°¾</h4>
                                <code class="text-sm text-teal-800">nums = [1, 2, 2]</code>
                                <p class="text-sm text-slate-700 mt-2">
                                    Example 1 - é‡è¤‡ãŒæœ€å¾Œã«æ¥ã‚‹å ´åˆã®å‹•ä½œç¢ºèª
                                </p>
                            </div>
                        </div>
                    </div>

                    <!-- Validation Points -->
                    <div class="bg-slate-50 border border-slate-200 rounded-xl p-6">
                        <h3 class="text-lg font-bold text-slate-800 mb-4">æ­£å½“æ€§ã®æ¤œè¨¼è¦³ç‚¹</h3>
                        <div class="grid md:grid-cols-2 gap-4">
                            <div>
                                <h4
                                    class="font-semibold text-slate-700 mb-2 flex items-center gap-2"
                                >
                                    <span class="text-emerald-500">âœ“</span>
                                    ä¸€æ„æ€§ï¼ˆUniquenessï¼‰
                                </h4>
                                <p class="text-sm text-slate-600">
                                    åŒä¸€ã®éƒ¨åˆ†é›†åˆãŒè¤‡æ•°ç”Ÿæˆã•ã‚Œãªã„ã“ã¨
                                </p>
                            </div>

                            <div>
                                <h4
                                    class="font-semibold text-slate-700 mb-2 flex items-center gap-2"
                                >
                                    <span class="text-emerald-500">âœ“</span>
                                    å®Œå…¨æ€§ï¼ˆCompletenessï¼‰
                                </h4>
                                <p class="text-sm text-slate-600">
                                    ç†è«–çš„ãªéƒ¨åˆ†é›†åˆæ•°ã¨ä¸€è‡´ã™ã‚‹ã“ã¨
                                </p>
                            </div>

                            <div>
                                <h4
                                    class="font-semibold text-slate-700 mb-2 flex items-center gap-2"
                                >
                                    <span class="text-emerald-500">âœ“</span>
                                    é †åºä¸å¤‰æ€§
                                </h4>
                                <p class="text-sm text-slate-600">å…¥åŠ›ã®é †åºã«ã‚ˆã‚‰ãšåŒã˜çµæœé›†åˆ</p>
                            </div>

                            <div>
                                <h4
                                    class="font-semibold text-slate-700 mb-2 flex items-center gap-2"
                                >
                                    <span class="text-emerald-500">âœ“</span>
                                    å‹å®‰å…¨æ€§
                                </h4>
                                <p class="text-sm text-slate-600">Pylance ã§è­¦å‘Šãƒ»ã‚¨ãƒ©ãƒ¼ãªã—</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="bg-slate-800 text-slate-300 py-8 mt-16">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
                <p class="text-sm">LeetCode 90: Subsets II - åå¾©çš„æ‹¡å¼µæ³•ã«ã‚ˆã‚‹è§£èª¬</p>
                <p class="text-xs text-slate-400 mt-2">Created with Tailwind CSS & Prism.js</p>
            </div>
        </footer>

        <!-- Prism.js Scripts -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/toolbar/prism-toolbar.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/copy-to-clipboard/prism-copy-to-clipboard.min.js"></script>

        <!-- Interactive Controls Script -->
        <script>
            (function () {
                'use strict';

                // State
                let currentStep = 1;
                let isPlaying = false;
                const totalSteps = 5;

                // Elements
                const stepCards = document.querySelectorAll('[data-step]');
                const stages = document.querySelectorAll('[data-stage]');
                const playBtn = document.querySelector('[data-action="play"]');
                const prevBtn = document.querySelector('[data-action="prev"]');
                const nextBtn = document.querySelector('[data-action="next"]');
                const resetBtn = document.querySelector('[data-action="reset"]');

                // Functions
                function updateDisplay() {
                    // Update step cards
                    stepCards.forEach((card) => {
                        const step = parseInt(card.dataset.step);
                        if (step === currentStep) {
                            card.classList.add('active');
                            card.setAttribute('aria-pressed', 'true');
                        } else {
                            card.classList.remove('active');
                            card.setAttribute('aria-pressed', 'false');
                        }
                    });

                    // Update stages
                    stages.forEach((stage) => {
                        const stageNum = parseInt(stage.dataset.stage);
                        if (stageNum === currentStep) {
                            stage.classList.add('active');
                            stage.setAttribute('aria-hidden', 'false');
                        } else {
                            stage.classList.remove('active');
                            stage.setAttribute('aria-hidden', 'true');
                        }
                    });

                    // Update button states
                    prevBtn.disabled = currentStep === 1;
                    nextBtn.disabled = currentStep === totalSteps;
                }

                function goToStep(step) {
                    if (step >= 1 && step <= totalSteps) {
                        currentStep = step;
                        updateDisplay();
                    }
                }

                function playAnimation() {
                    if (isPlaying) return; // Prevent multiple plays

                    isPlaying = true;
                    playBtn.disabled = true;
                    playBtn.textContent = 'â–¶ Playing...';

                    let step = 1;

                    function nextFrame() {
                        if (step <= totalSteps) {
                            goToStep(step);
                            step++;
                            setTimeout(nextFrame, 1500); // 1.5s per step
                        } else {
                            // Animation complete, reset to step 1
                            setTimeout(() => {
                                goToStep(1);
                                isPlaying = false;
                                playBtn.disabled = false;
                                playBtn.textContent = 'â–¶ Play';
                            }, 800);
                        }
                    }

                    nextFrame();
                }

                // Event Listeners
                stepCards.forEach((card) => {
                    card.addEventListener('click', () => {
                        const step = parseInt(card.dataset.step);
                        goToStep(step);
                    });

                    card.addEventListener('keydown', (e) => {
                        if (e.key === 'Enter' || e.key === ' ') {
                            e.preventDefault();
                            const step = parseInt(card.dataset.step);
                            goToStep(step);
                        }
                    });
                });

                playBtn.addEventListener('click', playAnimation);

                prevBtn.addEventListener('click', () => {
                    goToStep(currentStep - 1);
                });

                nextBtn.addEventListener('click', () => {
                    goToStep(currentStep + 1);
                });

                resetBtn.addEventListener('click', () => {
                    goToStep(1);
                });

                // Initialize
                updateDisplay();
            })();
        </script>
    </body>
</html>
