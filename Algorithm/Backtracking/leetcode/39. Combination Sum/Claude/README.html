<!doctype html>
<html lang="ja">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Combination Sum „Ç¢„É´„Ç¥„É™„Ç∫„É†Ëß£Êûê</title>
        <style>
            body {
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                line-height: 1.6;
                margin: 0;
                padding: 20px;
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: #333;
                min-height: 100vh;
            }

            .container {
                max-width: 1200px;
                margin: 0 auto;
                background: rgba(255, 255, 255, 0.95);
                padding: 30px;
                border-radius: 20px;
                box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            }

            h1 {
                text-align: center;
                color: #2c3e50;
                margin-bottom: 40px;
                font-size: 2.5em;
                text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
            }

            h2 {
                color: #34495e;
                border-left: 5px solid #3498db;
                padding-left: 15px;
                margin-top: 40px;
                background: linear-gradient(90deg, #ecf0f1 0%, transparent 100%);
                padding: 10px 15px;
                border-radius: 5px;
            }

            .section {
                margin-bottom: 40px;
                background: #f8f9fa;
                padding: 20px;
                border-radius: 10px;
                border: 1px solid #dee2e6;
            }

            .tree-container {
                background: white;
                padding: 20px;
                border-radius: 10px;
                margin: 20px 0;
                overflow-x: auto;
                box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            }

            .tree-node {
                display: inline-block;
                background: linear-gradient(145deg, #3498db, #2980b9);
                color: white;
                padding: 8px 15px;
                border-radius: 8px;
                margin: 5px;
                font-weight: bold;
                box-shadow: 0 4px 8px rgba(52, 152, 219, 0.3);
                transition: all 0.3s ease;
            }

            .tree-node:hover {
                transform: translateY(-2px);
                box-shadow: 0 6px 12px rgba(52, 152, 219, 0.4);
            }

            .success-node {
                background: linear-gradient(145deg, #27ae60, #229954);
                box-shadow: 0 4px 8px rgba(39, 174, 96, 0.3);
            }

            .fail-node {
                background: linear-gradient(145deg, #e74c3c, #c0392b);
                box-shadow: 0 4px 8px rgba(231, 76, 60, 0.3);
            }

            .step-container {
                display: flex;
                flex-wrap: wrap;
                gap: 15px;
                margin: 20px 0;
            }

            .step-box {
                background: linear-gradient(145deg, #ffffff, #f8f9fa);
                border: 2px solid #dee2e6;
                border-radius: 10px;
                padding: 15px;
                flex: 1;
                min-width: 250px;
                box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
                transition: all 0.3s ease;
            }

            .step-box:hover {
                transform: translateY(-5px);
                box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15);
                border-color: #3498db;
            }

            .step-title {
                font-weight: bold;
                color: #2c3e50;
                margin-bottom: 10px;
                font-size: 1.1em;
            }

            .code-block {
                background: #2c3e50;
                color: #ecf0f1;
                padding: 15px;
                border-radius: 8px;
                font-family: 'Courier New', monospace;
                overflow-x: auto;
                margin: 15px 0;
                box-shadow: inset 0 4px 8px rgba(0, 0, 0, 0.2);
            }

            .highlight {
                background: rgba(241, 196, 15, 0.3);
                padding: 2px 4px;
                border-radius: 3px;
                font-weight: bold;
            }

            .complexity-table {
                width: 100%;
                border-collapse: collapse;
                margin: 20px 0;
                background: white;
                border-radius: 8px;
                overflow: hidden;
                box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            }

            .complexity-table th {
                background: linear-gradient(145deg, #34495e, #2c3e50);
                color: white;
                padding: 12px;
                text-align: left;
            }

            .complexity-table td {
                padding: 12px;
                border-bottom: 1px solid #dee2e6;
            }

            .complexity-table tr:nth-child(even) {
                background: #f8f9fa;
            }

            .complexity-table tr:hover {
                background: rgba(52, 152, 219, 0.1);
            }

            .algorithm-flow {
                background: white;
                padding: 20px;
                border-radius: 10px;
                margin: 20px 0;
                text-align: center;
                box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            }

            .flow-step {
                display: inline-block;
                background: linear-gradient(145deg, #e8f4fd, #d4edda);
                border: 2px solid #3498db;
                border-radius: 50px;
                padding: 10px 20px;
                margin: 10px;
                font-weight: bold;
                color: #2c3e50;
                box-shadow: 0 4px 8px rgba(52, 152, 219, 0.2);
                transition: all 0.3s ease;
            }

            .flow-step:hover {
                transform: scale(1.05);
                background: linear-gradient(145deg, #3498db, #2980b9);
                color: white;
            }

            .arrow {
                font-size: 2em;
                color: #3498db;
                margin: 0 10px;
            }

            @media (max-width: 768px) {
                .container {
                    padding: 15px;
                }

                .step-container {
                    flex-direction: column;
                }

                .step-box {
                    min-width: auto;
                }
            }
        </style>
    </head>

    <body>
        <div class="container">
            <h1>üîç Combination Sum „Ç¢„É´„Ç¥„É™„Ç∫„É†Ë©≥Á¥∞Ëß£Êûê</h1>

            <div class="section">
                <h2>üìä „Ç¢„É´„Ç¥„É™„Ç∫„É†„ÅÆÂÖ®‰Ωì„Éï„É≠„Éº</h2>
                <div class="algorithm-flow">
                    <div class="flow-step">ÂÖ•ÂäõÊ§úË®º</div>
                    <span class="arrow">‚Üí</span>
                    <div class="flow-step">ÈÖçÂàó„ÇΩ„Éº„Éà</div>
                    <span class="arrow">‚Üí</span>
                    <div class="flow-step">„Éê„ÉÉ„ÇØ„Éà„É©„ÉÉ„Ç≠„É≥„Ç∞ÈñãÂßã</div>
                    <span class="arrow">‚Üí</span>
                    <div class="flow-step">Ëß£„ÅÆÊé¢Á¥¢</div>
                    <span class="arrow">‚Üí</span>
                    <div class="flow-step">ÁµêÊûúËøîÂç¥</div>
                </div>
            </div>

            <div class="section">
                <h2>üå≥ ÂÖ∑‰Ωì‰æã„Åß„ÅÆÊé¢Á¥¢Êú®ÊßãÈÄ† (candidates=[2,3,6,7], target=7)</h2>
                <div class="tree-container">
                    <div style="font-family: monospace; font-size: 14px; line-height: 2">
                        <div style="text-align: center; margin-bottom: 20px">
                            <div class="tree-node">Start: [] (target=7)</div>
                        </div>
                        <div style="text-align: center; margin-bottom: 15px">
                            <div class="tree-node">Choose 2: [2] (target=5)</div>
                            <div class="tree-node" style="margin-left: 50px">
                                Choose 3: [3] (target=4)
                            </div>
                            <div class="tree-node" style="margin-left: 50px">
                                Choose 6: [6] (target=1)
                            </div>
                            <div class="tree-node success-node" style="margin-left: 50px">
                                Choose 7: [7] (target=0) ‚úÖ
                            </div>
                        </div>
                        <div style="text-align: center; margin-bottom: 15px">
                            <div class="tree-node">‚îú‚îÄ Choose 2: [2,2] (target=3)</div>
                            <div class="tree-node" style="margin-left: 100px">
                                ‚îú‚îÄ Choose 3: [3,3] (target=1)
                            </div>
                            <div class="tree-node fail-node" style="margin-left: 100px">
                                ‚îú‚îÄ Choose 6: [6,6] (target=-5) ‚ùå
                            </div>
                            <div class="tree-node fail-node" style="margin-left: 100px">
                                ‚îî‚îÄ Choose 7: [6,7] (target=-6) ‚ùå
                            </div>
                        </div>
                        <div style="text-align: center; margin-bottom: 15px">
                            <div class="tree-node">‚îÇ ‚îú‚îÄ Choose 2: [2,2,2] (target=1)</div>
                            <div class="tree-node success-node" style="margin-left: 150px">
                                ‚îÇ ‚îÇ ‚îî‚îÄ Choose 3: [2,2,3] (target=0) ‚úÖ
                            </div>
                        </div>
                        <div style="text-align: center">
                            <div class="tree-node">‚îÇ ‚îî‚îÄ Choose 3: [2,3] (target=2)</div>
                            <div class="tree-node fail-node" style="margin-left: 150px">
                                ‚îÇ ‚îî‚îÄ Choose 2: [2,3,2] (target=0) - Skip (È†ÜÂ∫è)
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>‚öôÔ∏è ‰∏ªË¶ÅÂá¶ÁêÜ„ÅÆË©≥Á¥∞Ëß£Êûê</h2>
                <div class="step-container">
                    <div class="step-box">
                        <div class="step-title">1. ÂâçÂá¶ÁêÜÔºö„ÇΩ„Éº„Éà</div>
                        <div class="code-block">candidates.sort((a, b) => a - b)</div>
                        <p><span class="highlight">ÁõÆÁöÑ</span>: Êó©ÊúüÁµÇ‰∫Ü„ÇíÂèØËÉΩ„Å´„Åô„Çã</p>
                        <p>
                            <span class="highlight">ÂäπÊûú</span>: candidate > remainingTarget„ÅßÊûùÂàà„Çä
                        </p>
                        <p><span class="highlight">ÊôÇÈñìË®àÁÆóÈáè</span>: O(N log N)</p>
                    </div>

                    <div class="step-box">
                        <div class="step-title">2. „Éê„ÉÉ„ÇØ„Éà„É©„ÉÉ„Ç≠„É≥„Ç∞ÈñãÂßã</div>
                        <div class="code-block">backtrack(0, [], target)</div>
                        <p><span class="highlight">„Éë„É©„É°„Éº„Çø</span>:</p>
                        <ul>
                            <li>startIndex: 0 (ÊúÄÂàù„ÅÆË¶ÅÁ¥†„Åã„Çâ)</li>
                            <li>currentCombination: [] (Á©∫ÈÖçÂàó)</li>
                            <li>remainingTarget: 7 (ÁõÆÊ®ôÂÄ§)</li>
                        </ul>
                    </div>

                    <div class="step-box">
                        <div class="step-title">3. ÁµÇ‰∫ÜÊù°‰ª∂„ÉÅ„Çß„ÉÉ„ÇØ</div>
                        <div class="code-block">
                            if (remainingTarget === 0) { result.push([...currentCombination]);
                            return; }
                        </div>
                        <p><span class="highlight">Êù°‰ª∂</span>: ÊÆã„ÇäÁõÆÊ®ôÂÄ§„Åå0„Å´„Å™„Å£„ÅüÊôÇ</p>
                        <p><span class="highlight">Âá¶ÁêÜ</span>: ÁèæÂú®„ÅÆÁµÑ„ÅøÂêà„Çè„Åõ„ÇíÁµêÊûú„Å´ËøΩÂä†</p>
                    </div>

                    <div class="step-box">
                        <div class="step-title">4. ÊûùÂàà„ÇäÊúÄÈÅ©Âåñ</div>
                        <div class="code-block">if (candidate > remainingTarget) { break; }</div>
                        <p><span class="highlight">Êù°‰ª∂</span>: ÂÄôË£úÂÄ§„ÅåÊÆã„ÇäÁõÆÊ®ôÂÄ§„ÇíË∂ÖÈÅé</p>
                        <p>
                            <span class="highlight">ÂäπÊûú</span>:
                            ‰ª•Èôç„ÅÆÊé¢Á¥¢„Çí„Çπ„Ç≠„ÉÉ„ÉóÔºà„ÇΩ„Éº„ÉàÊ∏à„Åø„ÅÆ„Åü„ÇÅÔºâ
                        </p>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>üîÑ ÂÜçÂ∏∞Âëº„Å≥Âá∫„Åó„ÅÆ„Çπ„Çø„ÉÉ„ÇØÊßãÈÄ†</h2>
                <div class="tree-container">
                    <div style="font-family: monospace">
                        <h4>‰æã: [2,2,3]„ÅÆÁµÑ„ÅøÂêà„Çè„ÅõÁô∫Ë¶ã„Åæ„Åß</h4>
                        <div style="background: #f8f9fa; padding: 15px; border-radius: 5px">
                            <div>üì± <strong>Call 1</strong>: backtrack(0, [], 7)</div>
                            <div style="margin-left: 20px">‚îú‚îÄ Choose candidate[0] = 2</div>
                            <div style="margin-left: 20px">‚îú‚îÄ Push 2 to combination: [2]</div>
                            <div style="margin-left: 20px">
                                ‚îî‚îÄ üì± <strong>Call 2</strong>: backtrack(0, [2], 5)
                            </div>

                            <div style="margin-left: 40px">‚îú‚îÄ Choose candidate[0] = 2 again</div>
                            <div style="margin-left: 40px">‚îú‚îÄ Push 2 to combination: [2,2]</div>
                            <div style="margin-left: 40px">
                                ‚îî‚îÄ üì± <strong>Call 3</strong>: backtrack(0, [2,2], 3)
                            </div>

                            <div style="margin-left: 60px">‚îú‚îÄ Choose candidate[1] = 3</div>
                            <div style="margin-left: 60px">‚îú‚îÄ Push 3 to combination: [2,2,3]</div>
                            <div style="margin-left: 60px">
                                ‚îî‚îÄ üì± <strong>Call 4</strong>: backtrack(1, [2,2,3], 0)
                            </div>

                            <div style="margin-left: 80px; color: #27ae60; font-weight: bold">
                                ‚úÖ remainingTarget === 0 ‚Üí Add [2,2,3] to result
                            </div>
                            <div style="margin-left: 80px">üîô Return from Call 4</div>

                            <div style="margin-left: 60px">üîô Pop 3 from combination: [2,2]</div>
                            <div style="margin-left: 60px">üîô Return from Call 3</div>

                            <div style="margin-left: 40px">üîô Pop 2 from combination: [2]</div>
                            <div style="margin-left: 40px">üîô Return from Call 2</div>

                            <div style="margin-left: 20px">üîô Pop 2 from combination: []</div>
                            <div style="margin-left: 20px">Continue with next candidate...</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>üìà Ë®àÁÆóÈáèÂàÜÊûê</h2>
                <table class="complexity-table">
                    <thead>
                        <tr>
                            <th>È†ÖÁõÆ</th>
                            <th>Ë®àÁÆóÈáè</th>
                            <th>Ë™¨Êòé</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>ÊôÇÈñìË®àÁÆóÈáè</strong></td>
                            <td>O(N^(T/M))</td>
                            <td>N=ÈÖçÂàóÈï∑, T=targetÂÄ§, M=ÊúÄÂ∞èÂÄôË£úÂÄ§</td>
                        </tr>
                        <tr>
                            <td><strong>Á©∫ÈñìË®àÁÆóÈáè</strong></td>
                            <td>O(T/M)</td>
                            <td>ÂÜçÂ∏∞„Çπ„Çø„ÉÉ„ÇØ„ÅÆÊúÄÂ§ßÊ∑±Â∫¶</td>
                        </tr>
                        <tr>
                            <td><strong>„ÇΩ„Éº„ÉàÂá¶ÁêÜ</strong></td>
                            <td>O(N log N)</td>
                            <td>‰∏ÄÂõû„Å†„Åë„ÅÆÂâçÂá¶ÁêÜ</td>
                        </tr>
                        <tr>
                            <td><strong>ÊúÄÊÇ™„Ç±„Éº„ÇπÊé¢Á¥¢Êï∞</strong></td>
                            <td>O(2^T)</td>
                            <td>candidates=[1], target=T„ÅÆÂ†¥Âêà</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="section">
                <h2>‚ö° „Éë„Éï„Ç©„Éº„Éû„É≥„ÇπÊúÄÈÅ©Âåñ„Éù„Ç§„É≥„Éà</h2>
                <div class="step-container">
                    <div class="step-box">
                        <div class="step-title">1. Êó©ÊúüÁµÇ‰∫Ü</div>
                        <p>„ÇΩ„Éº„ÉàÊ∏à„ÅøÈÖçÂàó„Å´„Çà„Çä„ÄÅÂÄôË£úÂÄ§„ÅåÁõÆÊ®ôÂÄ§„ÇíË∂Ö„Åà„ÅüÊôÇÁÇπ„Åß‰ª•Èôç„ÅÆÊé¢Á¥¢„ÇíÂÅúÊ≠¢</p>
                        <div class="code-block">if (candidate > remainingTarget) break;</div>
                    </div>

                    <div class="step-box">
                        <div class="step-title">2. „Ç§„É≥„Éá„ÉÉ„ÇØ„ÇπÁÆ°ÁêÜ</div>
                        <p>Âêå‰∏ÄË¶ÅÁ¥†„ÅÆÈáçË§á‰ΩøÁî®„ÇíË®±ÂèØ„Åó„Å§„Å§„ÄÅÈ†ÜÂ∫è„Çí‰øù„Å£„Å¶ÈáçË§áÁµÑ„ÅøÂêà„Çè„Åõ„ÇíÈò≤Ê≠¢</p>
                        <div class="code-block">backtrack(i, ...); // iÁï™ÁõÆ‰ª•Èôç„Åã„ÇâÈÅ∏Êäû</div>
                    </div>

                    <div class="step-box">
                        <div class="step-title">3. „É°„É¢„É™ÂäπÁéá</div>
                        <p>ÈÖçÂàó„ÅÆÂãïÁöÑÊßãÁØâ„ÉªÂâäÈô§„Å´„Çà„Çä„É°„É¢„É™‰ΩøÁî®Èáè„ÇíÊúÄÂ∞èÂåñ</p>
                        <div class="code-block">
                            currentCombination.push(candidate); // Âá¶ÁêÜÂæå currentCombination.pop();
                        </div>
                    </div>

                    <div class="step-box">
                        <div class="step-title">4. ÂûãÂÆâÂÖ®ÊÄß</div>
                        <p>
                            TypeScript„ÅÆÂûã„Ç∑„Çπ„ÉÜ„É†„Å´„Çà„Çä„É©„É≥„Çø„Ç§„É†„Ç®„É©„Éº„ÇíÈò≤Ê≠¢„Åó„ÄÅÊúÄÈÅ©Âåñ„Åï„Çå„Åü„Ç≥„Éº„Éâ„ÇíÁîüÊàê
                        </p>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>üéØ ÂÆüË°å‰æã„Åß„ÅÆË©≥Á¥∞ËøΩË∑°</h2>
                <div class="tree-container">
                    <h4>candidates = [2,3,6,7], target = 7</h4>
                    <div style="background: #f1f2f6; padding: 20px; border-radius: 10px">
                        <div style="margin-bottom: 15px">
                            <strong>ÁµêÊûú: [[2,2,3], [7]]</strong>
                        </div>

                        <div style="margin-bottom: 10px">
                            <span class="highlight">Step 1</span>: „ÇΩ„Éº„Éà ‚Üí [2,3,6,7]
                            (Êó¢„Å´„ÇΩ„Éº„ÉàÊ∏à„Åø)
                        </div>

                        <div style="margin-bottom: 10px">
                            <span class="highlight">Step 2</span>: backtrack(0, [], 7) ÈñãÂßã
                        </div>

                        <div style="margin-bottom: 10px">
                            <span class="highlight">Step 3</span>: i=0, candidate=2, 2 ‚â§ 7 ‚Üí
                            [2]„ÅßÂÜçÂ∏∞
                        </div>

                        <div style="margin-bottom: 10px">
                            <span class="highlight">Step 4</span>: i=0, candidate=2, 2 ‚â§ 5 ‚Üí
                            [2,2]„ÅßÂÜçÂ∏∞
                        </div>

                        <div style="margin-bottom: 10px">
                            <span class="highlight">Step 5</span>: i=1, candidate=3, 3 ‚â§ 3 ‚Üí
                            [2,2,3]„ÅßÂÜçÂ∏∞
                        </div>

                        <div style="margin-bottom: 10px">
                            <span class="highlight">Step 6</span>: remainingTarget=0 ‚Üí
                            <strong>[2,2,3]„ÇíÁµêÊûú„Å´ËøΩÂä† ‚úÖ</strong>
                        </div>

                        <div style="margin-bottom: 10px">
                            <span class="highlight">Step 7</span>: „Éê„ÉÉ„ÇØ„Éà„É©„ÉÉ„ÇØ„ÄÅ‰ªñ„ÅÆÂÄôË£ú„ÇíÊé¢Á¥¢...
                        </div>

                        <div style="margin-bottom: 10px">
                            <span class="highlight">Step 8</span>: i=3, candidate=7, 7 ‚â§ 7 ‚Üí
                            [7]„ÅßÂÜçÂ∏∞
                        </div>

                        <div>
                            <span class="highlight">Step 9</span>: remainingTarget=0 ‚Üí
                            <strong>[7]„ÇíÁµêÊûú„Å´ËøΩÂä† ‚úÖ</strong>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>
