# ```python
from typing import List

class Solution:
    def permuteUnique(self, nums: List[int]) -> List[List[int]]:
        """
        ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿:
            nums: List[int] - é‡è¤‡ã‚’å«ã‚€å¯èƒ½æ€§ãŒã‚ã‚‹æ•´æ•°é…åˆ—
        è¿”å´å€¤:
            List[List[int]] - ä¸€æ„ãªé †åˆ—ã®å…¨ãƒ‘ã‚¿ãƒ¼ãƒ³

        å‡¦ç†æ¦‚è¦:
        1. å…¥åŠ›é…åˆ—ã‚’ã‚½ãƒ¼ãƒˆã™ã‚‹ã“ã¨ã§é‡è¤‡å‡¦ç†ã‚’å®¹æ˜“ã«ã™ã‚‹ã€‚
        2. ãƒãƒƒã‚¯ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°ã«ã‚ˆã‚Šé †åˆ—ã‚’ç”Ÿæˆã€‚
        3. ç›´å‰ã®è¦ç´ ã¨åŒã˜ã§ã€ã‹ã¤æœªä½¿ç”¨ã®å ´åˆã¯ã‚¹ã‚­ãƒƒãƒ—ã™ã‚‹ã“ã¨ã§é‡è¤‡é †åˆ—ã‚’é˜²ãã€‚

        è¨ˆç®—é‡:
            - æ™‚é–“è¨ˆç®—é‡: O(n * n!) ï¼ˆé †åˆ—ç”Ÿæˆã®ç‰¹æ€§ä¸Šã€‚ãŸã ã—é‡è¤‡ã‚’æ’é™¤ã™ã‚‹ãŸã‚å¹³å‡çš„ã«ã¯å°‘ã—è»½æ¸›ã•ã‚Œã‚‹ï¼‰
            - ç©ºé–“è¨ˆç®—é‡: O(n) ï¼ˆå†å¸°ã‚¹ã‚¿ãƒƒã‚¯ + ä½¿ç”¨ä¸­ãƒ•ãƒ©ã‚°é…åˆ—ï¼‰
        
        å®Ÿè¡Œç’°å¢ƒ:
            Python (CPython 3.11.4), LeetCodeæƒ³å®š
        """
        nums.sort()  # ã‚½ãƒ¼ãƒˆã§é‡è¤‡ç®¡ç†ã‚’å®¹æ˜“ã«ã™ã‚‹
        res: List[List[int]] = []
        used: List[bool] = [False] * len(nums)
        path: List[int] = []

        def backtrack() -> None:
            if len(path) == len(nums):
                res.append(path[:])  # å®Œæˆã—ãŸé †åˆ—ã‚’è¿½åŠ 
                return
            for i in range(len(nums)):
                if used[i]:
                    continue
                # ç›´å‰ã¨åŒã˜å€¤ã§ã€ã‹ã¤å‰ãŒæœªä½¿ç”¨ãªã‚‰ã‚¹ã‚­ãƒƒãƒ—ï¼ˆé‡è¤‡é˜²æ­¢ï¼‰
                if i > 0 and nums[i] == nums[i - 1] and not used[i - 1]:
                    continue
                used[i] = True
                path.append(nums[i])

                backtrack()

                # æˆ»ã™å‡¦ç†ï¼ˆãƒãƒƒã‚¯ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°ï¼‰
                path.pop()
                used[i] = False

        backtrack()
        return res
# ```

# ---

# ### ğŸ” å‡¦ç†æ™‚é–“ãƒ»ãƒ¡ãƒ¢ãƒªã®æ¶ˆè²»é‡ã«ã¤ã„ã¦

# * **æ™‚é–“è¨ˆç®—é‡**:

#   * æœ€æ‚ªã‚±ãƒ¼ã‚¹: `O(n * n!)` ï¼ˆé †åˆ—ç”Ÿæˆã®ç‰¹æ€§ï¼‰
#   * ãŸã ã— `n <= 8` ã®åˆ¶ç´„ãªã®ã§ã€è¨ˆç®—å¯èƒ½ç¯„å›²ã€‚
# * **ç©ºé–“è¨ˆç®—é‡**:

#   * `O(n)` ï¼ˆ`used` é…åˆ—, `path` ä¸€æ™‚ãƒªã‚¹ãƒˆ, å†å¸°ã‚¹ã‚¿ãƒƒã‚¯ï¼‰
#   * `res` ã®ã‚µã‚¤ã‚ºã¯çµæœã®é †åˆ—æ•°ã«æ¯”ä¾‹ã™ã‚‹ãŸã‚ã€ç†è«–ä¸Šæœ€å¤§ `O(n * n!)` è¦ç´ ã‚’ä¿æŒã™ã‚‹ã€‚

# ---

# ğŸ‘‰ ã“ã®å¾Œã¯ã€Œ**å®Ÿè¡Œæ™‚ã®å†å¸°ã‚¹ã‚¿ãƒƒã‚¯ã®æµã‚Œã‚’å›³è§£**ã€ã—ã¦ã€Python å®Ÿè£…ã«åˆã‚ã›ã¦å¯è¦–åŒ–ã—ã¦ã¿ã¾ã—ã‚‡ã†ã‹ï¼Ÿ
