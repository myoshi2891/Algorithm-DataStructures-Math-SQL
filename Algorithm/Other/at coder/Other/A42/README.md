---

## ğŸ¯ å•é¡Œå†æ²ï¼ˆè¦ç‚¹ï¼‰

* ç”Ÿå¾’ãã‚Œãã‚Œã«ä½“åŠ› `A[i]` ã¨æ°—åŠ› `B[i]` ãŒä¸ãˆã‚‰ã‚Œã¦ã„ã‚‹
* ä»»æ„ã®ç”Ÿå¾’ã‚°ãƒ«ãƒ¼ãƒ—ã«ã¤ã„ã¦ï¼š

  * ä½“åŠ›ã®æœ€å¤§å€¤ã¨æœ€å°å€¤ã®å·® â‰¤ `K`
  * æ°—åŠ›ã®æœ€å¤§å€¤ã¨æœ€å°å€¤ã®å·® â‰¤ `K`
* ãã®ã‚ˆã†ãªã‚°ãƒ«ãƒ¼ãƒ—ã®ä¸­ã§ã€**æœ€å¤§äººæ•°ã‚’æ±‚ã‚ã‚‹**

---

## ğŸ§  è§£æ³•ã®æ¦‚è¦ï¼ˆå›³ã¤ãï¼‰

ã“ã®å•é¡Œã¯ã€2æ¬¡å…ƒåº§æ¨™ä¸Šã«ç‚¹ï¼ˆç”Ÿå¾’ï¼‰ã‚’ãƒ—ãƒ­ãƒƒãƒˆã—ãŸã¨ãã€**KÃ—Kã®æ­£æ–¹å½¢å†…ã«å…¥ã‚‹æœ€å¤§ç‚¹æ•°ã‚’æ±‚ã‚ã‚‹**å•é¡Œã¨ã¿ãªã›ã¾ã™ã€‚

ä¾‹ãˆã°ã€æ¬¡ã®ã‚ˆã†ã«ç”Ÿå¾’ãŸã¡ã‚’ `ä½“åŠ› (xè»¸)`ã€`æ°—åŠ› (yè»¸)` ã«é…ç½®ã™ã‚‹ã¨ï¼š

```
   â†‘ æ°—åŠ› B
  |
  |                         â—
  |         â—
  |   â—
  |               â—
  +------------------------â†’ ä½“åŠ› A
```

ã“ã®ç‚¹ç¾¤ã®ä¸­ã‹ã‚‰ã€KÃ—K ã®ç¯„å›²å†…ã«åã¾ã‚‹æœ€å¤§ã®ç‚¹æ•°ï¼ˆäººæ•°ï¼‰ã‚’æ¢ã™ã“ã¨ãŒç›®æ¨™ã§ã™ã€‚

---

## ğŸ”„ ã‚¹ãƒ†ãƒƒãƒ—ã”ã¨ã®å‡¦ç†

### Step 1ï¸âƒ£ï¼šç”Ÿå¾’ã‚’ä½“åŠ›ï¼ˆAï¼‰ã§ã‚½ãƒ¼ãƒˆ

ã¾ãšä½“åŠ›ï¼ˆAï¼‰ã§ç”Ÿå¾’ã‚’æ˜‡é †ã«ã‚½ãƒ¼ãƒˆã™ã‚‹ã“ã¨ã§ã€ä½“åŠ›ã®å·®ãŒKä»¥ä¸‹ã®ç¯„å›²ã‚’å‰ã‹ã‚‰é †ã«ç¢ºèªã§ãã¾ã™ã€‚

```js
students.sort((s1, s2) => s1.a - s2.a);
```

- **ç›®çš„**ï¼šä½“åŠ›ã®å·®ãŒKä»¥ä¸‹ã«ãªã‚‹ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’åŠ¹ç‡çš„ã«ä½œã‚‹ãŸã‚

---

### Step 2ï¸âƒ£ï¼šä½“åŠ›ã®å·®ãŒKä»¥å†…ã®éƒ¨åˆ†é›†åˆã‚’å…¨æ¢ç´¢

```js
for (let i = 0; i < N; i++) {
  let temp = [];

  for (let j = i; j < N; j++) {
    if (students[j].a - students[i].a > K) break;
    temp.push(students[j]);
  }
```

- **ç›®çš„**ï¼š`students[i]` ã‚’å§‹ç‚¹ã¨ã—ã€ä½“åŠ›å·®ãŒ `K` ä»¥ä¸‹ã®ç¯„å›²ã«ã„ã‚‹ç”Ÿå¾’ã‚’ `temp` ã«é›†ã‚ã‚‹
- ä½“åŠ›ã®å·®ãŒKã‚’è¶…ãˆãŸã‚‰ `break` ã™ã‚‹ã“ã¨ã§ã€æ¢ç´¢ç¯„å›²ã‚’åŠ¹ç‡åŒ–

ğŸ“Œ ã“ã®æ™‚ç‚¹ã§ã€temp\[] ã¯ä½“åŠ›ãŒ `[students[i].a, students[i].a + K]` ã®ç¯„å›²ã«ã‚ã‚‹ç”Ÿå¾’ã®ãƒªã‚¹ãƒˆ

---

### Step 3ï¸âƒ£ï¼šãã®ä¸­ã§æ°—åŠ›ã®å·®ãŒKä»¥ä¸‹ã«ãªã‚‹æœ€å¤§äººæ•°ã‚’æ¢ç´¢

```js
temp.sort((s1, s2) => s1.b - s2.b); // æ°—åŠ›ã§ã‚½ãƒ¼ãƒˆ

for (let l = 0; l < temp.length; l++) {
    for (let r = l; r < temp.length; r++) {
        if (temp[r].b - temp[l].b > K) break;
        maxCount = Math.max(maxCount, r - l + 1);
    }
}
```

ã“ã“ã§ã‚‚åŒæ§˜ã«ã€ã‚½ãƒ¼ãƒˆæ¸ˆã¿é…åˆ—ã«å¯¾ã—ã¦ã‚¹ãƒ©ã‚¤ãƒ‰ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã®ã‚ˆã†ãªå‡¦ç†ã‚’è¡Œã„ã€**æ°—åŠ›ã®å·®ãŒKä»¥å†…ã®æœ€å¤§äººæ•°**ã‚’æ±‚ã‚ã¾ã™ã€‚

---

## ğŸ–¼ï¸ å›³ã§èª¬æ˜ï¼ˆå‡¦ç†ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ï¼‰

```
ç‚¹ç¾¤ï¼ˆä½“åŠ›Ã—æ°—åŠ›ï¼‰åº§æ¨™ï¼š

               â†‘ æ°—åŠ›
            70 +           â—
            60 +       â—       â† B[r]
            50 +     â—
            40 +   â—   â† B[l]
            30 + â—
               +----------------â†’ ä½“åŠ›
                 A[i]     A[j]     ï¼ˆå·® â‰¤ Kï¼‰

â†“ èµ¤æ ãŒKÃ—Kä»¥å†…ã®ç¯„å›²

                +-----------+
                |           |
                |    â— â—    |
                |   â—   â—   |
                |  â—        |
                +-----------+
```

ã“ã®æ ã«å…¥ã‚‹ç‚¹ï¼ˆç”Ÿå¾’ï¼‰ã®æ•°ãŒã€æ¡ä»¶ã‚’æº€ãŸã™æœ€å¤§äººæ•°ã®å€™è£œã¨ãªã‚Šã¾ã™ã€‚

---

## âš¡ åŠ¹ç‡æ€§ã«ã¤ã„ã¦

- å¤–å´ã®ãƒ«ãƒ¼ãƒ—ï¼š`O(N)`
- å†…å´ã®ä½“åŠ›ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ï¼šæœ€å¤§ `O(N)`
- æ°—åŠ›ã‚½ãƒ¼ãƒˆï¼š`O(N log N)`
- æ°—åŠ›ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ï¼šæœ€å¤§ `O(N)`

â¡ å…¨ä½“ã§ `O(N^2 log N)` ã»ã©ã§è§£ã‘ã€N=300 ã§ã‚‚ä½™è£•ã§é–“ã«åˆã„ã¾ã™ã€‚

---

## âœ… ã“ã®æ‰‹æ³•ã®å¼·ã¿

| ãƒã‚¤ãƒ³ãƒˆ | èª¬æ˜                                         |
| -------- | -------------------------------------------- |
| æ­£ç¢ºæ€§   | æ¡ä»¶ï¼ˆæœ€å¤§ - æœ€å° â‰¤ Kï¼‰ã‚’å³å¯†ã«æº€ãŸã™        |
| æ±ç”¨æ€§   | æ°—åŠ›ã¨ä½“åŠ›ãŒã©ã®ã‚ˆã†ãªåˆ†å¸ƒã§ã‚‚å¯¾å¿œå¯èƒ½       |
| åŠ¹ç‡æ€§   | ä¸å¿…è¦ãªå…¨æ¢ç´¢ã‚’é¿ã‘ã€ã‚½ãƒ¼ãƒˆã¨åŒºé–“æ¢ç´¢ã§å‡¦ç† |

---

## ğŸ§ª ãŠã¾ã‘ï¼šã“ã®å•é¡Œã®å¿œç”¨ç¯„å›²

ã“ã®å•é¡Œã¯ä»¥ä¸‹ã®ã‚ˆã†ãªå•é¡Œã«ã‚‚å¿œç”¨å¯èƒ½ã§ã™ï¼š

- 2æ¬¡å…ƒç©ºé–“ã§ã®ã€Œæœ€å¤§å¯†åº¦ã‚¨ãƒªã‚¢ã€å•é¡Œ
- ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒªãƒ³ã‚°ã«ãŠã‘ã‚‹ã€Œè¨±å®¹å·®å†…ã§ã®ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã€
- å•†å“ãƒ¬ã‚³ãƒ¡ãƒ³ãƒ‰ãªã©ã§ã®ã€Œé¡ä¼¼åº¦ãŒè¿‘ã„ã‚°ãƒ«ãƒ¼ãƒ—ã®æœ€å¤§åŒ–ã€

---

## ğŸ“¦ ã¾ã¨ã‚

| ã‚¹ãƒ†ãƒƒãƒ— | å‡¦ç†                      | åŠ¹æœ                             |
| -------- | ------------------------- | -------------------------------- |
| 1ï¸âƒ£       | ç”Ÿå¾’ã‚’ä½“åŠ›é †ã«ã‚½ãƒ¼ãƒˆ      | ä½“åŠ›å·®Kä»¥å†…ã‚’åŠ¹ç‡çš„ã«æŠ½å‡º        |
| 2ï¸âƒ£       | ä½“åŠ›å·®Kä»¥å†…ã®ç”Ÿå¾’ã‚’åé›†   | å€™è£œé›†åˆã®ç¸®å°                   |
| 3ï¸âƒ£       | ãã®ä¸­ã§æ°—åŠ›å·®Kä»¥å†…ã‚’æ¢ç´¢ | æ¡ä»¶ã‚’å³å¯†ã«æº€ãŸã™æœ€å¤§äººæ•°ã‚’å–å¾— |

---

| [æå‡ºæ—¥æ™‚](https://atcoder.jp/contests/tessoku-book/submissions/me?desc=true&orderBy=created) | å•é¡Œ                                                                           | ãƒ¦ãƒ¼ã‚¶                                            | è¨€èª                                                                                                    | [å¾—ç‚¹](https://atcoder.jp/contests/tessoku-book/submissions/me?desc=true&orderBy=score) | [ã‚³ãƒ¼ãƒ‰é•·](https://atcoder.jp/contests/tessoku-book/submissions/me?orderBy=source_length) | çµæœ   | [å®Ÿè¡Œæ™‚é–“](https://atcoder.jp/contests/tessoku-book/submissions/me?orderBy=time_consumption) | [ãƒ¡ãƒ¢ãƒª](https://atcoder.jp/contests/tessoku-book/submissions/me?orderBy=memory_consumption) |                                                                       |
| --------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------ | ------------------------------------------------- | ------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------- | ------ | -------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------- | --------------------------------------------------------------------- |
| 2025-05-30 11:24:50                                                                           | [A42 - Soccer](https://atcoder.jp/contests/tessoku-book/tasks/tessoku_book_ap) | [myoshizumi](https://atcoder.jp/users/myoshizumi) | [Java (OpenJDK 17)](https://atcoder.jp/contests/tessoku-book/submissions/me?f.Language=5005)            | 1000                                                                                    | 1567 Byte                                                                                 | **AC** | 164 ms                                                                                       | 42532 KiB                                                                                    | [è©³ç´°](https://atcoder.jp/contests/tessoku-book/submissions/66261340) |
| 2025-05-30 11:23:38                                                                           | [A42 - Soccer](https://atcoder.jp/contests/tessoku-book/tasks/tessoku_book_ap) | [myoshizumi](https://atcoder.jp/users/myoshizumi) | [Python (CPython 3.11.4)](https://atcoder.jp/contests/tessoku-book/submissions/me?f.Language=5055)      | 1000                                                                                    | 662 Byte                                                                                  | **AC** | 34 ms                                                                                        | 8584 KiB                                                                                     | [è©³ç´°](https://atcoder.jp/contests/tessoku-book/submissions/66261317) |
| 2025-05-30 11:19:25                                                                           | [A42 - Soccer](https://atcoder.jp/contests/tessoku-book/tasks/tessoku_book_ap) | [myoshizumi](https://atcoder.jp/users/myoshizumi) | [Go (go 1.20.6)](https://atcoder.jp/contests/tessoku-book/submissions/me?f.Language=5002)               | 1000                                                                                    | 1624 Byte                                                                                 | **AC** | 10 ms                                                                                        | 3836 KiB                                                                                     | [è©³ç´°](https://atcoder.jp/contests/tessoku-book/submissions/66261236) |
| 2025-05-30 11:15:36                                                                           | [A42 - Soccer](https://atcoder.jp/contests/tessoku-book/tasks/tessoku_book_ap) | [myoshizumi](https://atcoder.jp/users/myoshizumi) | [PHP (php 8.2.8)](https://atcoder.jp/contests/tessoku-book/submissions/me?f.Language=5016)              | 1000                                                                                    | 1196 Byte                                                                                 | **AC** | 239 ms                                                                                       | 21664 KiB                                                                                    | [è©³ç´°](https://atcoder.jp/contests/tessoku-book/submissions/66261160) |
| 2025-05-30 11:09:09                                                                           | [A42 - Soccer](https://atcoder.jp/contests/tessoku-book/tasks/tessoku_book_ap) | [myoshizumi](https://atcoder.jp/users/myoshizumi) | [JavaScript (Node.js 18.16.1)](https://atcoder.jp/contests/tessoku-book/submissions/me?f.Language=5009) | 1000                                                                                    | 945 Byte                                                                                  | **AC** | 74 ms                                                                                        | 48784 KiB                                                                                    | [è©³ç´°](https://atcoder.jp/contests/tessoku-book/submissions/66261041) |
