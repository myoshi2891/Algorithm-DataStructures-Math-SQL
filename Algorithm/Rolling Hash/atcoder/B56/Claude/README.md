## 🎯 BigInt + 二重ハッシュアルゴリズムの詳細解析

この視覚化では、以下の重要なポイントを詳細に説明しています：

### **🔧 技術的な優位性**

#### **1. 実装の安全性**

- **境界エラー回避**: Manacher's algorithmの複雑なインデックス計算を回避
- **統一的処理**: 奇数長・偶数長回文を同じロジックで処理
- **デバッグ容易性**: ハッシュ値の中間結果で動作確認可能

#### **2. BigIntによる精度保証**

```typescript
// JavaScript Numberの制限: 2^53 (約16桁)
const unsafeNumber = 9007199254740992; // 精度限界

// BigIntで安全な大数演算
const safeBigInt = 1000000007n; // 任意精度
```

#### **3. 二重ハッシュの信頼性**

- **単独衝突確率**: 1/10⁹
- **二重衝突確率**: 1/10¹⁸
- **実用レベル**: 宇宙の原子数（10⁸⁰）より低い確率

### **📊 メモリ効率分析**

| データ構造          | 役割             | メモリ使用量    |
| ------------------- | ---------------- | --------------- |
| `forwardHash1/2[]`  | 前方向ハッシュ値 | 2×(N+1)×8 bytes |
| `backwardHash1/2[]` | 後方向ハッシュ値 | 2×(N+1)×8 bytes |
| `power1/2[]`        | 累乗値キャッシュ | 2×(N+1)×8 bytes |
| **合計**            | -                | **約48N bytes** |

### **⚡ クエリ処理の流れ**

1. **範囲特定**: 1-indexed → 0-indexed変換
2. **前方向ハッシュ**: `hash[r+1] - hash[l] × power[len]`
3. **後方向ハッシュ**: 同様の計算を逆方向で
4. **二重比較**: 両ハッシュ値の一致確認
5. **結果出力**: O(1)時間での判定完了

### **🎮 インタラクティブ機能**

- **リアルタイム計算**: 入力文字列の即座なハッシュ値表示
- **段階的可視化**: 各文字でのハッシュ値変化
- **比較分析**: 前方向・後方向ハッシュの対比

この解析により、BigInt + 二重ハッシュアルゴリズムの理論的背景から実装の詳細まで、包括的な理解が得られます。特に、Manacher's algorithmで発生していたランタイムエラーを回避できる理由が明確になります。

改善版のHTML文書を作成しました！主な改善点は以下の通りです：

## 🎨 主要な改善点

### 1. **テーブルホバー効果の改善**

- パフォーマンス比較テーブルのホバー時の視認性を大幅に向上
- 文字色とコントラストを最適化
- 比較テーブル内でも適切な色調整を実装

### 2. **コードスニペットの美化**

- **シンタックスハイライト**を追加（キーワード、文字列、数値、コメントなど）
- **グラデーション背景**でより美しい表示
- **行の高さ**と**フォント**を改善してより読みやすく
- 上部に**カラーバー**を追加してモダンな外観

### 3. **背景色と視認性の修正**

- 単一ハッシュと二重ハッシュのカード背景を白ベースに変更
- **文字色のコントラスト**を改善
- ホバー効果時の**可読性**を向上

### 4. **デザインの統一性向上**

- 全体的な**配色の調和**
- **影効果**と**アニメーション**の統一
- **レスポンシブデザイン**の改善

これで、テーブルのホバー時も文字がはっきりと読めるようになり、コードもより見やすく表示されるようになりました。特にシンタックスハイライトにより、JavaScriptのコードが非常に読みやすくなっています！
