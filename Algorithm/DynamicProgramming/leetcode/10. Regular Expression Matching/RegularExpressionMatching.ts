// ä»¥ä¸‹ã¯ã€LeetCodeã®æ­£è¦è¡¨ç¾ãƒãƒƒãƒãƒ³ã‚°å•é¡Œã«å¯¾ã™ã‚‹ **JavaScriptï¼ˆNode.jsï¼‰ã§ã®è§£ç­”ä¾‹** ã§ã™ã€‚`fs` ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ç”¨ã„ã¦æ¨™æº–å…¥åŠ›ã‹ã‚‰ `s` ã¨ `p` ã‚’å—ã‘å–ã‚Šã€å‹•çš„è¨ˆç”»æ³•ï¼ˆDPï¼‰ã§ `.` ã‚„ `*` ã‚’è€ƒæ…®ã—ãŸå®Œå…¨ä¸€è‡´ã®åˆ¤å®šã‚’è¡Œã„ã¾ã™ã€‚

// ---

// ### âœ… è§£æ³•æ–¹é‡ï¼ˆå‹•çš„è¨ˆç”»æ³•ãƒ»2æ¬¡å…ƒDPï¼‰

// * `dp[i][j]`ï¼š`s[0..i-1]` ã¨ `p[0..j-1]` ãŒãƒãƒƒãƒã™ã‚‹ã‹ã‚’è¡¨ã™ã€‚
// * çŠ¶æ…‹é·ç§»ï¼š

//   * `p[j - 1] === '*'` ã®å ´åˆï¼š

//     * ç„¡è¦–ï¼š`dp[i][j] = dp[i][j - 2]`
//     * ä¸€è‡´ã—ã¦ã„ã¦ç¹°ã‚Šè¿”ã—ä½¿ç”¨ï¼š`dp[i][j] |= dp[i - 1][j]`
//   * `p[j - 1] === s[i - 1] || p[j - 1] === '.'` ã®å ´åˆï¼š

//     * `dp[i][j] = dp[i - 1][j - 1]`

// ---

// ### ğŸ“¦ JavaScriptï¼ˆNode.jsï¼‰å®Ÿè£…ï¼ˆ`fs` ä½¿ç”¨ï¼‰

// ```javascript
const fs = require('fs');

// å…¥åŠ›èª­ã¿è¾¼ã¿
const input = fs.readFileSync('/dev/stdin', 'utf8').trim().split('\n');
const s = input[0]; // å…¥åŠ›æ–‡å­—åˆ— s
const p = input[1]; // ãƒ‘ã‚¿ãƒ¼ãƒ³æ–‡å­—åˆ— p

function isMatch(s, p) {
    const m = s.length;
    const n = p.length;

    // åˆæœŸåŒ–ï¼šfalseåŸ‹ã‚ã€dp[0][0] = trueï¼ˆç©ºæ–‡å­—åŒå£«ã¯ä¸€è‡´ï¼‰
    const dp = Array.from({ length: m + 1 }, () => Array(n + 1).fill(false));
    dp[0][0] = true;

    // ç©ºæ–‡å­—åˆ— s ã«å¯¾ã™ã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³ p ã®åˆæœŸåŒ–ï¼ˆä¾‹: a*, a*b*, a*b*c*ï¼‰
    for (let j = 2; j <= n; j++) {
        if (p[j - 1] === '*') {
            dp[0][j] = dp[0][j - 2];
        }
    }

    // DPãƒ†ãƒ¼ãƒ–ãƒ«æ›´æ–°
    for (let i = 1; i <= m; i++) {
        for (let j = 1; j <= n; j++) {
            if (p[j - 1] === '.' || p[j - 1] === s[i - 1]) {
                dp[i][j] = dp[i - 1][j - 1];
            } else if (p[j - 1] === '*') {
                dp[i][j] = dp[i][j - 2]; // * ã‚’0å›ä½¿ç”¨
                if (p[j - 2] === '.' || p[j - 2] === s[i - 1]) {
                    dp[i][j] = dp[i][j] || dp[i - 1][j]; // * ã‚’1å›ä»¥ä¸Šä½¿ç”¨
                }
            }
        }
    }

    return dp[m][n];
}

// å‡ºåŠ›
console.log(isMatch(s, p));

// ### ğŸ§ª å…¥åŠ›æ–¹æ³•ï¼ˆä¾‹ï¼‰

// ä»¥ä¸‹ã®ã‚ˆã†ãªå…¥åŠ›ãƒ•ã‚¡ã‚¤ãƒ«ã¾ãŸã¯æ¨™æº–å…¥åŠ›ã§å‹•ä½œã—ã¾ã™ï¼š

// ```
// aa
// a*
// ```

// å‡ºåŠ›ï¼š

// ```
// true
// ```

// ---

// ### â± æ€§èƒ½ï¼ˆæœ€æ‚ªè¨ˆç®—é‡ï¼‰

// * æ™‚é–“è¨ˆç®—é‡ï¼šO(m Ã— n)
// * ç©ºé–“è¨ˆç®—é‡ï¼šO(m Ã— n)
// * åˆ¶ç´„ãŒå°ã•ã„ï¼ˆs, p â‰¤ 20ï¼‰ã®ã§é«˜é€Ÿã‹ã¤ãƒ¡ãƒ¢ãƒªåŠ¹ç‡è‰¯å¥½ã§ã™ã€‚

// ---

// å¿…è¦ã§ã‚ã‚Œã°ã€æ¨™æº–å…¥åŠ›ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã—ã¦ãƒ†ã‚¹ãƒˆå¯èƒ½ã§ã™ã€‚Node.jsç’°å¢ƒã§å®Ÿè¡Œã™ã‚‹å ´åˆï¼š

// ```bash
// echo -e "ab\n.*" | node solution.js
// ```
